(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,function(e,t,a){e.exports={"create-restaurant":"UserData_create-restaurant__2cSHB","create-restaurant-form":"UserData_create-restaurant-form__iYRuf",col:"UserData_col__fI2Hz","create-restaurant-form-input":"UserData_create-restaurant-form-input__9VLAT",placeholder:"UserData_placeholder__1mtIE","file-btn":"UserData_file-btn__1A0i5","file-label":"UserData_file-label__3d7B1","file-label--invalid":"UserData_file-label--invalid__3ARLa","input--invalid":"UserData_input--invalid__1rqHw","input-notification":"UserData_input-notification__31Vjm","btn-container":"UserData_btn-container__3RlH0","btn-container-btn":"UserData_btn-container-btn__gYxoT","btn-container-btn--cancel":"UserData_btn-container-btn--cancel__2Mx5y","spinner-container":"UserData_spinner-container__2qaDI"}},function(e,t,a){e.exports={"add-recipe":"AddRecipeModal_add-recipe__mWH8x",col:"AddRecipeModal_col__cBsGW","create-restaurant-form-input":"AddRecipeModal_create-restaurant-form-input__3TrJz",placeholder:"AddRecipeModal_placeholder__3nBsy","file-btn":"AddRecipeModal_file-btn__VnuCR","file-label":"AddRecipeModal_file-label__8NiOC","file-label--invalid":"AddRecipeModal_file-label--invalid__1kYMK","input--invalid":"AddRecipeModal_input--invalid__1pJ4U","input-notification":"AddRecipeModal_input-notification__1UsrQ",select:"AddRecipeModal_select__H7Uv0",opt:"AddRecipeModal_opt__2JQWy","btn-flex":"AddRecipeModal_btn-flex__367BG","spinner-container":"AddRecipeModal_spinner-container__x7b9V"}},,function(e,t,a){e.exports={cities:"Cities_cities__3RG0h",benefits:"Cities_benefits__xsgtU",kitchens:"Cities_kitchens__1Ly75","cities-title":"Cities_cities-title__3gV_k","kitchens-title":"Cities_kitchens-title__3iTUJ",city:"Cities_city__2rK1D",kitchen:"Cities_kitchen__3HblG","city-name":"Cities_city-name__R8NJF","kitchen-name":"Cities_kitchen-name__3uowo",list:"Cities_list__34Gf5","list-item":"Cities_list-item__3qyOl"}},function(e,t,a){e.exports={"create-restaurant":"CreateRestaurant_create-restaurant__3bb5F","create-restaurant-form":"CreateRestaurant_create-restaurant-form__1q2gQ",col:"CreateRestaurant_col__1Ddvg","create-restaurant-form-input":"CreateRestaurant_create-restaurant-form-input__3Ev0V",placeholder:"CreateRestaurant_placeholder__2CWmk","file-btn":"CreateRestaurant_file-btn__1wRap","file-label":"CreateRestaurant_file-label__3dn-U","file-label--invalid":"CreateRestaurant_file-label--invalid__1BvO1","input--invalid":"CreateRestaurant_input--invalid__1V92H","input-notification":"CreateRestaurant_input-notification__1aOCJ","create-restaurant-btn":"CreateRestaurant_create-restaurant-btn__3CafE","spinner-container":"CreateRestaurant_spinner-container__1lWW3"}},function(e,t,a){e.exports={form:"AddCommentForm_form__kkAmX",background:"AddCommentForm_background__1Qn-W",col:"AddCommentForm_col__1bl4w",placeholder:"AddCommentForm_placeholder__TugKE","input-invalid":"AddCommentForm_input-invalid__29_P_","input-notification":"AddCommentForm_input-notification__12m0U",textarea:"AddCommentForm_textarea__37QNR",rating:"AddCommentForm_rating__3D4yP",icon:"AddCommentForm_icon__3MFwY",controls:"AddCommentForm_controls__17NfT","controls-btn":"AddCommentForm_controls-btn__2XJ_S","controls-btn--danger":"AddCommentForm_controls-btn--danger__u4DTO",error:"AddCommentForm_error__Vxo_Q","controls-btns":"AddCommentForm_controls-btns__3qGO0"}},function(e,t,a){e.exports={form:"EditCommentForm_form__VIGyh",background:"EditCommentForm_background__W4Kza",col:"EditCommentForm_col__3ot7N",placeholder:"EditCommentForm_placeholder__21FFY","input-invalid":"EditCommentForm_input-invalid__1fvd8","input-notification":"EditCommentForm_input-notification__2gBnh",textarea:"EditCommentForm_textarea__11qS4",rating:"EditCommentForm_rating__wCJBt",icon:"EditCommentForm_icon__1L_P3",controls:"EditCommentForm_controls__2id9G","controls-btn":"EditCommentForm_controls-btn__32gKl","controls-btn--danger":"EditCommentForm_controls-btn--danger__lduEt",error:"EditCommentForm_error__g7AGC","controls-btns":"EditCommentForm_controls-btns__2Yatr"}},function(e,t,a){e.exports={register:"RegisterModal_register__kJbu5","register-title":"RegisterModal_register-title__3YEr2","register-form":"RegisterModal_register-form__3QNBW",col:"RegisterModal_col__3R1EH",placeholder:"RegisterModal_placeholder__14OAt","input-invalid":"RegisterModal_input-invalid__2d3GN","input-notification":"RegisterModal_input-notification__3dBmm",error:"RegisterModal_error__S17Wx",invite:"RegisterModal_invite__2gagw","spinner-container":"RegisterModal_spinner-container__T6Zqi","main-btn":"RegisterModal_main-btn__3q8dW",icon:"RegisterModal_icon__CoDRJ",eye:"RegisterModal_eye___VBjQ"}},,function(e,t,a){e.exports={comment:"Comment_comment__2Tey_","comment-header":"Comment_comment-header__10DPe","comment-header-title":"Comment_comment-header-title__5aLIN",rating:"Comment_rating__29kHZ",icon:"Comment_icon__3UgSa","icon--gray":"Comment_icon--gray__2f87-","comment-date":"Comment_comment-date__14hRG","comment-text":"Comment_comment-text__2k4Ua","comment-edit-btn":"Comment_comment-edit-btn__2V9x4","comment-delete-btn":"Comment_comment-delete-btn__2qsYE","comment-delete-btn--red":"Comment_comment-delete-btn--red__10hrm",delete:"Comment_delete__28DLz","delete-title":"Comment_delete-title__tIGS2",background:"Comment_background__ycVGv"}},function(e,t,a){e.exports={footer:"Footer_footer__27SxS","footer-list":"Footer_footer-list__QwNgz","footer-list-item":"Footer_footer-list-item__-bt1R","footer-list-item-link":"Footer_footer-list-item-link__3Rs0e",end:"Footer_end__10zwd",social:"Footer_social__279pX","footer-wrapper":"Footer_footer-wrapper__wulpw","footer-icon":"Footer_footer-icon__KRejp"}},function(e,t,a){e.exports={kitchens:"Kitchens_kitchens__2rTWi","kitchens-title":"Kitchens_kitchens-title__25CQF",kitchen:"Kitchens_kitchen__7KckW","kitchen-name":"Kitchens_kitchen-name__3U50v",list:"Kitchens_list__2qXZh","list-item":"Kitchens_list-item__LcLS1"}},function(e,t,a){e.exports={login:"LoginModal_login__3sctA","login-title":"LoginModal_login-title__1xNJC","login-form":"LoginModal_login-form__3aDvX",col:"LoginModal_col__2gtji",placeholder:"LoginModal_placeholder__1371X","input-invalid":"LoginModal_input-invalid__vVny_","input-notification":"LoginModal_input-notification__1fdQD",error:"LoginModal_error__2sL9k",invite:"LoginModal_invite__bD70N","spinner-container":"LoginModal_spinner-container__1ZnIm","main-btn":"LoginModal_main-btn__2SG4F",icon:"LoginModal_icon__-KZnZ",eye:"LoginModal_eye__352AR"}},function(e,t,a){e.exports={modal:"OrderModal_modal__1CYg1","order-title":"OrderModal_order-title__2TAHE","order-date":"OrderModal_order-date__2FSZU","order-price":"OrderModal_order-price__2_ECq","order-link":"OrderModal_order-link__2nrh7","order-list":"OrderModal_order-list__1snpQ","order-list-item":"OrderModal_order-list-item__3jsIo","order-list-item-text":"OrderModal_order-list-item-text__2VhwW","order-summary":"OrderModal_order-summary__1C2Zl",status:"OrderModal_status__28um3","status-red":"OrderModal_status-red__R74fc","admin-controls":"OrderModal_admin-controls__3QTdW","admin-controls-control":"OrderModal_admin-controls-control__2zH4S","admin-controls-control--red":"OrderModal_admin-controls-control--red__avCiF",delete:"OrderModal_delete__3F6aG","delete-title":"OrderModal_delete-title__2VM9p","loader-container":"OrderModal_loader-container__2Tw-T"}},function(e,t,a){e.exports={"restaurant-content":"RestaurantHeader_restaurant-content__2GhPV","restaurant-img":"RestaurantHeader_restaurant-img__2IBKf",icons:"RestaurantHeader_icons__2ndtO",scoring:"RestaurantHeader_scoring__Pd3Bm","restaurant-content-subtitle":"RestaurantHeader_restaurant-content-subtitle__20Djl","restaurant-content-title":"RestaurantHeader_restaurant-content-title__3M5Wf",icon:"RestaurantHeader_icon__2pdiA","icon--red":"RestaurantHeader_icon--red__3ka4F","icon--blue":"RestaurantHeader_icon--blue__27D6V","icon--gray":"RestaurantHeader_icon--gray__3k1g9","icon--after":"RestaurantHeader_icon--after__3k592","restaurant-content-title-wrapper":"RestaurantHeader_restaurant-content-title-wrapper__3330b"}},function(e,t,a){e.exports={"form-title":"CheckoutForm_form-title__1zp5U",col:"CheckoutForm_col__3V1z6",placeholder:"CheckoutForm_placeholder__1xVHM",form:"CheckoutForm_form__3dyF3","input-invalid":"CheckoutForm_input-invalid__U918i","input-notification":"CheckoutForm_input-notification__1nlh_","main-btn":"CheckoutForm_main-btn__1Wz9I","spinner-container":"CheckoutForm_spinner-container__hGHts",error:"CheckoutForm_error__2slp9"}},,,,,,,,function(e,t,a){e.exports={restaurant:"RestaurantCard_restaurant__2JMy-","restaurant-image-wrapper":"RestaurantCard_restaurant-image-wrapper__3Cpjp","restaurant-img-wrapper-img":"RestaurantCard_restaurant-img-wrapper-img__Qya-6","restaurant-title-wrapper":"RestaurantCard_restaurant-title-wrapper__L0KVS","restaurant-title":"RestaurantCard_restaurant-title__3Yww1",description:"RestaurantCard_description__QAlD0","restaurant-score":"RestaurantCard_restaurant-score__2wwqV","restaurant-score-icon":"RestaurantCard_restaurant-score-icon__2nkQw","restaurant-score-icon--gray":"RestaurantCard_restaurant-score-icon--gray__3PAbQ","restaurant-text-wrapper":"RestaurantCard_restaurant-text-wrapper__2YSQA",icon:"RestaurantCard_icon__2y1q9"}},function(e,t,a){e.exports={header:"Navigation_header__3QyMU",container:"Navigation_container__2Ip_f",icon:"Navigation_icon__2yZRd","navigation-wrapper":"Navigation_navigation-wrapper__2mAAJ","nav-list":"Navigation_nav-list__18kn0","nav-list-item":"Navigation_nav-list-item__2b7yn","logo-link":"Navigation_logo-link__1349S","user-icon":"Navigation_user-icon__1dWv0","logo-link-short":"Navigation_logo-link-short__PF8Ct","logo-link-long":"Navigation_logo-link-long__1v1Jf"}},function(e,t,a){e.exports={recipe:"Recipe_recipe__ND3vb","recipe-img-wrapper":"Recipe_recipe-img-wrapper__37_PQ","recipe-content":"Recipe_recipe-content__EZcz_","recipe-content-text":"Recipe_recipe-content-text__2va3a","recipe-icon-wrapper":"Recipe_recipe-icon-wrapper__kwtci","recipe-admin-icons-wrapper":"Recipe_recipe-admin-icons-wrapper__3DCmX","recipe-icon":"Recipe_recipe-icon__3bMFc","recipe-content-weight":"Recipe_recipe-content-weight__2pJaB","recipe-content-title":"Recipe_recipe-content-title__3u1-A"}},function(e,t,a){e.exports={cart:"ShoppingCart_cart__zpX17","cart-header":"ShoppingCart_cart-header__wPVn4","cart-header-img-wrapper":"ShoppingCart_cart-header-img-wrapper__3eCkM","cart-header-img-wrapper-icon":"ShoppingCart_cart-header-img-wrapper-icon__1cjfZ","cart-header-img-quantity":"ShoppingCart_cart-header-img-quantity__2T_7v","cart-header-text":"ShoppingCart_cart-header-text__3TFhl","cart-content":"ShoppingCart_cart-content__2Ev3F","cart-content-recipes":"ShoppingCart_cart-content-recipes__13mDI","cart-content-checkout":"ShoppingCart_cart-content-checkout__3YrUl","cart-content-recipes-list":"ShoppingCart_cart-content-recipes-list__2-y4g","cart-content-summary":"ShoppingCart_cart-content-summary__yTEIQ"}},,function(e,t,a){e.exports={benefits:"Benefits_benefits__2sJw3","benefits-img":"Benefits_benefits-img__2BX0x","benefits-content":"Benefits_benefits-content__344X_","benefits-content-title":"Benefits_benefits-content-title__16P1y"}},function(e,t,a){e.exports={nav:"HorizontalNav_nav__37TwV","nav--scrolled":"HorizontalNav_nav--scrolled__1HS42",list:"HorizontalNav_list__1N1wy","list-item":"HorizontalNav_list-item__1HGTg",active:"HorizontalNav_active__2Ac5x","btn-wrapper":"HorizontalNav_btn-wrapper__226dE","btn-wrapper--right":"HorizontalNav_btn-wrapper--right__3Rd3K","left-arrow":"HorizontalNav_left-arrow__1-GKM","right-arrow":"HorizontalNav_right-arrow__VyBKd"}},function(e,t,a){e.exports={comments:"CommentsModal_comments__dubot","comments-title":"CommentsModal_comments-title__781yh","comments-score":"CommentsModal_comments-score__r46cF","comments-score-title":"CommentsModal_comments-score-title__3pyV6","comments-score-icon":"CommentsModal_comments-score-icon__26h2g","comments-score-icon--gray":"CommentsModal_comments-score-icon--gray__2c6zl","comments-list":"CommentsModal_comments-list__2Lez8","comments-list-item":"CommentsModal_comments-list-item__8Mj9e","comments-btn":"CommentsModal_comments-btn__2aFGf"}},,function(e,t,a){e.exports={notification:"Notification_notification__1pJAJ","notification-text":"Notification_notification-text__3Qcva","notification-text--red":"Notification_notification-text--red__3TjWk",icon:"Notification_icon__2zOdA","icon--red":"Notification_icon--red__JrQGt","icon--close":"Notification_icon--close__1Qdnu"}},,function(e,t,a){e.exports={popup:"UserPopup_popup__1gSEA",inner:"UserPopup_inner__17dAK",link:"UserPopup_link__1fFIa",btn:"UserPopup_btn__1u2vn"}},,,function(e,t,a){e.exports={hero:"Hero_hero__rVHf0","hero-img":"Hero_hero-img__3iFGl","hero-content":"Hero_hero-content__3eq5m","hero-content-title":"Hero_hero-content-title__3LA2c","hero-content-subtitle":"Hero_hero-content-subtitle__3L3t5"}},function(e,t,a){e.exports={paginator:"Paginator_paginator__1Ifp0","paginator-page":"Paginator_paginator-page__1an1C","paginator-btn":"Paginator_paginator-btn__27ajC"}},function(e,t,a){e.exports={"cart-item":"ShoppingCartListItem_cart-item__2WTuz","cart-item-controls":"ShoppingCartListItem_cart-item-controls__1X6rw","cart-item-icons":"ShoppingCartListItem_cart-item-icons__3BusN","cart-item-text":"ShoppingCartListItem_cart-item-text__9vMB8","icon--red":"ShoppingCartListItem_icon--red__3EdfM","icon--green":"ShoppingCartListItem_icon--green__sI9E5"}},,function(e,t,a){e.exports={select:"MultiChoiceSelect_select__26y1F","select--invalid":"MultiChoiceSelect_select--invalid__3ra7k",list:"MultiChoiceSelect_list__1f1F6",text:"MultiChoiceSelect_text__3X189","input-notification":"MultiChoiceSelect_input-notification__1aCFU"}},function(e,t,a){e.exports={"delete-restaurant":"DeleteRestaurantModal_delete-restaurant__3DS_G","delete-restaurant-title":"DeleteRestaurantModal_delete-restaurant-title__1sIFF","delete-restaurant-btn":"DeleteRestaurantModal_delete-restaurant-btn__2JofT","delete-restaurant-btn--danger":"DeleteRestaurantModal_delete-restaurant-btn--danger__13Mj4"}},function(e,t,a){e.exports={order:"OrdersListItem_order__3Cojh","order-title":"OrdersListItem_order-title__2JSY4","order-date":"OrdersListItem_order-date__2jKTr","order-price":"OrdersListItem_order-price__bqFMz","order-link":"OrdersListItem_order-link__12d5-"}},function(e,t,a){e.exports={"delete-recipe":"DeleteRecipeModal_delete-recipe__Ed2ur","delete-recipe-title":"DeleteRecipeModal_delete-recipe-title__3AaiN","delete-recipe-btn":"DeleteRecipeModal_delete-recipe-btn__2c09N","delete-recipe-btn--danger":"DeleteRecipeModal_delete-recipe-btn--danger__342VY"}},function(e,t,a){e.exports={chart:"CategoriesChart_chart__3mgBD","chart-title":"CategoriesChart_chart-title__8XmpL","chart-select":"CategoriesChart_chart-select__3G9Qv",hide:"CategoriesChart_hide__ZUjWo",canvas:"CategoriesChart_canvas__kseIe","no-data":"CategoriesChart_no-data__2-RRz"}},function(e,t,a){e.exports={chart:"SalesChart_chart__1RVhp","chart-title":"SalesChart_chart-title__18kKr","chart-select":"SalesChart_chart-select__1HZYd",hide:"SalesChart_hide__1z1W0",canvas:"SalesChart_canvas__1uEds","no-data":"SalesChart_no-data__1FNDD"}},,,,,,,,function(e,t,a){e.exports={"lds-dual-ring":"Spinner_lds-dual-ring__6HBEi",small:"Spinner_small__2dzd6",medium:"Spinner_medium__N-f44"}},function(e,t,a){e.exports={list:"OrdersList_list__Zduol","list-item":"OrdersList_list-item__2NlNg","no-orders-title":"OrdersList_no-orders-title__3n0K3"}},,,,function(e,t,a){e.exports={"scroll-btn":"ScrollToTopBtn_scroll-btn__1_Lag","scroll-btn-icon":"ScrollToTopBtn_scroll-btn-icon__ovAGB"}},,function(e,t,a){e.exports={backdrop:"Modal_backdrop__2NPG6",modal:"Modal_modal__2ZZ73"}},function(e,t,a){e.exports={"user-icon":"UserIcon_user-icon__2Nm-m",container:"UserIcon_container__NqWvg"}},function(e,t,a){e.exports={sort:"SortRestaurants_sort__3sZA3","sort-select":"SortRestaurants_sort-select__3mUX3"}},function(e,t,a){e.exports={list:"RestaurantList_list__3fMr7","list-item":"RestaurantList_list-item__39XXd"}},function(e,t,a){e.exports={category:"RestaurantCategoryList_category__1wG_A","category-title":"RestaurantCategoryList_category-title__2o2U9"}},,function(e,t,a){e.exports={"loader-container":"ImageSuspense_loader-container__G-U7j"}},function(e,t,a){e.exports={title:"MyRestaurants_title__1EBHN"}},function(e,t,a){e.exports={"category-title":"RestaurantCategories_category-title__144u_"}},function(e,t,a){e.exports={statistics:"Statistics_statistics__2y7wH"}},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(33),i=a.n(r),s=(a(81),a(3)),o=(a(82),a(56)),l=function(){return Object(o.b)()},d=o.c,u=a(24),j=Object(u.b)({name:"auth",initialState:{email:null,isAdmin:!1,_id:null,phone:null,firstName:null,lastName:null,city:null,address:null,favorites:[]},reducers:{login:function(e,t){e.email=t.payload.email,e._id=t.payload._id,e.isAdmin=t.payload.isAdmin,e.firstName=t.payload.firstName,e.lastName=t.payload.lastName,e.phone=t.payload.phone,e.city=t.payload.city,e.address=t.payload.address},logout:function(e){e.email=null,e._id=null,e.isAdmin=!1,e.phone=null,e.firstName=null,e.lastName=null,e.city=null,e.address=null},addToFavorites:function(e,t){e.favorites.push(t.payload._id),localStorage.setItem("favorites",JSON.stringify(e.favorites))},removeFromFavorites:function(e,t){var a=e.favorites.indexOf(t.payload._id);e.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(e.favorites))},autoLoadFavorites:function(e){var t=localStorage.getItem("favorites");t&&(e.favorites=JSON.parse(t))}}}),m=j.actions,b=j.reducer,h=Object(u.b)({name:"cart",initialState:{restaurants:[]},reducers:{addToCart:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId}));if(a){var n=a.recipes.find((function(e){return e.recipe._id===t.payload.recipe._id}));n?n.quantity++:a.recipes.push({recipe:t.payload.recipe,quantity:1})}else e.restaurants.push({restaurantId:t.payload.restaurantId,recipes:[{recipe:t.payload.recipe,quantity:1}]});localStorage.setItem("cart",JSON.stringify(e))},removeFromCart:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId})),n=null===a||void 0===a?void 0:a.recipes.find((function(e){return e.recipe._id===t.payload.recipe._id}));if(1===(null===n||void 0===n?void 0:n.quantity)){var c=null===a||void 0===a?void 0:a.recipes.indexOf(n);null===a||void 0===a||a.recipes.splice(c,1)}else n.quantity--;localStorage.setItem("cart",JSON.stringify(e))},autoLoadCart:function(e){var t=localStorage.getItem("cart");t&&(e.restaurants=JSON.parse(t).restaurants)},clearCartOrder:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId})),n=e.restaurants.indexOf(a);e.restaurants.splice(n,1),localStorage.setItem("cart",JSON.stringify(e))}}}),p=h.actions,O=h.reducer,_=a(39),f=a.n(_),x=a(54),g=a(2),v=Object(u.b)({name:"modal",initialState:{isOpen:!1,overlayName:""},reducers:{open:function(e,t){e.isOpen=!0,e.overlayName=t.payload},close:function(e){e.isOpen=!1,e.overlayName=""},changeOverlay:function(e,t){e.overlayName=t.payload}}}),N=v.actions,C=v.reducer,y=Object(u.b)({name:"notification",initialState:{type:"",text:""},reducers:{show:function(e,t){e.type=t.payload.type||"error",e.text=t.payload.text||"Something went wrong. Please try again later."},close:function(e){e.type="",e.text=""}}}),k=y.actions,w=y.reducer,S=function(){var e=l(),t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),s=Object(g.a)(i,2),o=s[0],u=s[1],j=d((function(e){return e.notification})),b=Object(n.useCallback)(function(){var t=Object(x.a)(f.a.mark((function t(a,n){var c,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),u(null),t.prev=2,t.next=5,fetch(a.url,{method:a.method||"GET",credentials:"include",headers:a.headers||{},body:a.body||null});case 5:return c=t.sent,t.next=8,c.json();case 8:if(i=t.sent,c.ok){t.next=11;break}throw new Error(i.message);case 11:r(!1),n(i),t.next=22;break;case 15:t.prev=15,t.t0=t.catch(2),"Failed to fetch"!==(s=t.t0.message)&&""!==s||(s="Something went wrong. Please try again later."),"Please log in"===s&&(e(m.logout()),e(N.open("login"))),u(s),r(!1);case 22:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),[e]);return Object(n.useEffect)((function(){o&&e(k.show({type:"error",text:o})),""===j.text&&u(null)}),[e,o,j.text]),{isLoading:c,error:o,setError:u,sendRequest:b}},R=a(41),E=a(23),F=a(42),L=a(59),H=function(){R.b.add(F.e,E.c,E.b,E.g,E.d,E.m,E.n,F.a,E.f,E.j,L.a,L.b,L.c,E.i,E.k,E.p,F.f,E.h,F.b,E.o,F.c,F.d,E.e,E.l,E.a)},B=Object(u.b)({name:"app",initialState:{isInitializing:!0},reducers:{initDone:function(e){e.isInitializing=!1}}}),M=B.actions,D=B.reducer,V=a(4),A=a(38),T=a.n(A),I=a(0),P=function(){var e=l(),t=d((function(e){return e.notification})),a="".concat(T.a["notification-text"]," ").concat("error"===t.type?T.a["notification-text--red"]:""),n="".concat(T.a.icon),c="".concat(T.a.icon," ").concat(T.a["icon--red"]),r="".concat(T.a.icon," ").concat(T.a["icon--red"]," ").concat(T.a["icon--close"]);return Object(I.jsx)(I.Fragment,{children:i.a.createPortal(Object(I.jsxs)("div",{className:T.a.notification,children:["success"===t.type?Object(I.jsx)(V.a,{className:n,icon:["fas","check-circle"]}):Object(I.jsx)(V.a,{className:c,icon:["fas","exclamation-circle"]}),Object(I.jsx)("p",{className:a,children:t.text}),Object(I.jsx)(V.a,{onClick:function(){e(k.close())},className:r,icon:["fas","times-circle"]})]}),document.getElementById("notification"))})},q=a(65),z=a.n(q),U=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],r=function(){c(window.scrollY<50)};Object(n.useEffect)((function(){return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[]);return Object(I.jsx)(I.Fragment,{children:a?null:Object(I.jsx)("div",{onClick:function(){return window.scroll({top:0,left:0,behavior:"smooth"})},className:z.a["scroll-btn"],children:Object(I.jsx)(V.a,{className:z.a["scroll-btn-icon"],icon:["fas","chevron-up"]})})})},J=a(5),W=a(16),G=a.n(W),Q=function(){return Object(I.jsx)("footer",{className:G.a.footer,children:Object(I.jsxs)("section",{className:G.a["footer-wrapper"],children:[Object(I.jsxs)("ul",{className:G.a["footer-list"],children:[Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)(J.b,{className:G.a["footer-list-item-link"],to:"/contacts",children:"Contacts"})}),Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)(J.b,{className:G.a["footer-list-item-link"],to:"/about-us",children:"About us"})}),Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)(J.b,{className:G.a["footer-list-item-link"],to:"/terms-and-condition",children:"Terms and conditions"})})]}),Object(I.jsxs)("ul",{className:"".concat(G.a.social," ").concat(G.a["footer-list"]),children:[Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)("a",{className:G.a["footer-list-item-link"],href:"http://facebook.com",target:"_blank",rel:"noreferrer",children:Object(I.jsx)(V.a,{icon:["fab","facebook-square"],className:G.a["footer-icon"]})})}),Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)("a",{className:G.a["footer-list-item-link"],href:"http://instagram.com",target:"_blank",rel:"noreferrer",children:Object(I.jsx)(V.a,{icon:["fab","instagram-square"],className:G.a["footer-icon"]})})}),Object(I.jsx)("li",{className:G.a["footer-list-item"],children:Object(I.jsx)("a",{className:G.a["footer-list-item-link"],href:"http://twitter.com",target:"_blank",rel:"noreferrer",children:Object(I.jsx)(V.a,{icon:["fab","twitter-square"],className:G.a["footer-icon"]})})})]}),Object(I.jsx)("p",{className:G.a.end,children:"\xa9 This site is made with educational purpose only! No rights reserved!"})]})})},K=function(e){var t=function(){document.documentElement.style.setProperty("--scroll-y","".concat(window.scrollY,"px"))};Object(n.useEffect)((function(){if(window.addEventListener("scroll",t),e){var a=document.documentElement.style.getPropertyValue("--scroll-y");document.body.style.position="fixed",document.body.style.top="-".concat(a)}return function(){var e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),window.removeEventListener("scroll",t)}}),[e])},Y=a(67),Z=a.n(Y),X=function(){var e=l();return Object(I.jsx)("div",{className:Z.a.backdrop,onClick:function(){e(N.close())}})},$=function(e){return Object(I.jsxs)(I.Fragment,{children:[i.a.createPortal(Object(I.jsx)(X,{}),document.getElementById("backdrop-root")),i.a.createPortal(Object(I.jsx)("div",{className:Z.a.modal,children:e.children}),document.getElementById("overlay-root"))]})},ee=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],l=s[1],d=e(c);return{value:c,isValid:d,hasError:!d&&o,setValue:r,valueChangeHandler:function(e){r(e.target.value)},inputBlurHandler:function(e){l(!0)},reset:function(){r(""),l(!1)}}},te={isEmail:function(e){return Boolean(e.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/))},minLength:function(e,t){return t.length>=e},stringMatch:function(e,t){return e===t},minStringCount:function(e,t){return t.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})).length>=e},workTime:function(e){return Boolean(e.match(/^[A-Z]{1}[a-z]+-[A-Z]{1}[a-z]+ [0-9]{1,2}:[0-9]{2}-[0-9]{2}:[0-9]{2}$/))},isPhone:function(e){return Boolean(e.match(/^(\+359|0)\d{9}$/))}},ae="https://food-delivery-network.herokuapp.com/api",ne={login:function(e,t){return{url:"".concat(ae,"/user/login"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}},register:function(e,t,a){return{url:"".concat(ae,"/user/register"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,rePassword:a})}},logout:function(){return{url:"".concat(ae,"/user/logout")}},verify:function(){return{url:"".concat(ae,"/user/verify")}}},ce=a(60),re=a.n(ce),ie=function(e){return Object(I.jsx)("div",{className:"\n            ".concat(re.a["lds-dual-ring"],"\n            ").concat("small"===e.size?re.a.small:"","\n            ").concat("medium"===e.size?re.a.medium:"")})},se=a(18),oe=a.n(se),le=function(){var e=l(),t=S(),a=t.isLoading,c=t.sendRequest,r=Object(n.useState)(!0),i=Object(g.a)(r,2),s=i[0],o=i[1],d=ee(te.isEmail),u=d.value,j=d.isValid,b=d.hasError,h=d.valueChangeHandler,p=d.inputBlurHandler,O=d.reset,_=ee(te.minLength.bind(null,6)),f=_.value,x=_.isValid,v=_.hasError,C=_.valueChangeHandler,y=_.inputBlurHandler,k=_.reset,w=!1;j&&x&&(w=!0);var R=function(t){O(),k(),e(N.close()),e(m.login(t))},E=function(){o((function(e){return!e}))};return Object(I.jsxs)("section",{className:oe.a.login,children:[Object(I.jsx)("h3",{className:oe.a["login-title"],children:"Sign in into Food Delivery Network"}),Object(I.jsxs)("form",{className:oe.a["login-form"],onSubmit:function(e){e.preventDefault(),w&&c(ne.login(u,f),R)},children:[Object(I.jsxs)("div",{className:oe.a.col,children:[Object(I.jsx)("label",{htmlFor:"email",children:Object(I.jsx)(V.a,{icon:["far","envelope"],className:oe.a.icon})}),Object(I.jsx)("input",{className:b?oe.a["input-invalid"]:"",placeholder:" ",type:"email",name:"email",id:"email",disabled:a,value:u,onChange:h,onBlur:p}),Object(I.jsx)("span",{className:oe.a.placeholder,children:"Email"}),b&&Object(I.jsx)("p",{className:oe.a["input-notification"],children:"Please enter a valid email"})]}),Object(I.jsxs)("div",{className:oe.a.col,children:[Object(I.jsx)("label",{htmlFor:"password",children:Object(I.jsx)(V.a,{icon:["fas","unlock-alt"],className:oe.a.icon})}),Object(I.jsx)("input",{className:v?oe.a["input-invalid"]:"",placeholder:" ",type:s?"password":"text",name:"password",id:"password",disabled:a,value:f,onChange:C,onBlur:y}),s?Object(I.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(oe.a.icon," ").concat(oe.a.eye),onClick:E}):Object(I.jsx)(V.a,{icon:["far","eye"],className:"".concat(oe.a.icon," ").concat(oe.a.eye),onClick:E}),Object(I.jsx)("span",{className:oe.a.placeholder,children:"Password"}),v&&Object(I.jsx)("p",{className:oe.a["input-notification"],children:"At least 6 characters"})]}),Object(I.jsxs)("button",{className:"main-btn ".concat(oe.a["main-btn"]),disabled:!w||a,children:["Sign in",a&&Object(I.jsx)("span",{className:oe.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]}),Object(I.jsxs)("p",{className:oe.a.invite,children:["You don't have registration? ",Object(I.jsx)("a",{href:"/register",onClick:function(t){t.preventDefault(),e(N.changeOverlay("register"))},children:"Sign up now!"})]})]})]})},de=a(13),ue=a.n(de),je=function(){var e=l(),t=S(),a=t.isLoading,c=t.sendRequest,r=Object(n.useState)(!0),i=Object(g.a)(r,2),s=i[0],o=i[1],d=Object(n.useState)(!0),u=Object(g.a)(d,2),j=u[0],b=u[1],h=ee(te.isEmail),p=h.value,O=h.isValid,_=h.hasError,f=h.valueChangeHandler,x=h.inputBlurHandler,v=h.reset,C=ee(te.minLength.bind(null,6)),y=C.value,k=C.isValid,w=C.hasError,R=C.valueChangeHandler,E=C.inputBlurHandler,F=C.reset,L=ee(te.stringMatch.bind(null,y)),H=L.value,B=L.isValid,M=L.hasError,D=L.valueChangeHandler,A=L.inputBlurHandler,T=L.reset,P=!1;O&&k&&B&&y===H&&(P=!0);var q=function(t){v(),F(),T(),e(N.close()),e(m.login(t))},z=function(){o((function(e){return!e}))},U=function(){b((function(e){return!e}))};return Object(I.jsxs)("section",{className:ue.a.register,children:[Object(I.jsx)("h3",{className:ue.a["register-title"],children:"Sign up into Food Delivery Network"}),Object(I.jsxs)("form",{className:ue.a["register-form"],onSubmit:function(e){e.preventDefault(),P&&c(ne.register(p,y,H),q)},children:[Object(I.jsxs)("div",{className:ue.a.col,children:[Object(I.jsx)("label",{htmlFor:"email",children:Object(I.jsx)(V.a,{icon:["far","envelope"],className:ue.a.icon})}),Object(I.jsx)("input",{className:_?ue.a["input-invalid"]:"",type:"email",placeholder:" ",name:"email",id:"email",disabled:a,value:p,onChange:f,onBlur:x}),Object(I.jsx)("span",{className:ue.a.placeholder,children:"Email"}),_&&Object(I.jsx)("p",{className:ue.a["input-notification"],children:"Please enter a valid email"})]}),Object(I.jsxs)("div",{className:ue.a.col,children:[Object(I.jsx)("label",{htmlFor:"password",children:Object(I.jsx)(V.a,{icon:["fas","unlock-alt"],className:ue.a.icon})}),Object(I.jsx)("input",{className:w?ue.a["input-invalid"]:"",type:s?"password":"text",placeholder:" ",name:"password",id:"password",value:y,onChange:R,onBlur:E}),s?Object(I.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(ue.a.icon," ").concat(ue.a.eye),onClick:z}):Object(I.jsx)(V.a,{icon:["far","eye"],className:"".concat(ue.a.icon," ").concat(ue.a.eye),onClick:z}),Object(I.jsx)("span",{className:ue.a.placeholder,children:"Password"}),w&&Object(I.jsx)("p",{className:ue.a["input-notification"],children:"At least 6 characters"})]}),Object(I.jsxs)("div",{className:ue.a.col,children:[Object(I.jsx)("label",{htmlFor:"re-password",children:Object(I.jsx)(V.a,{icon:["fas","unlock-alt"],className:ue.a.icon})}),Object(I.jsx)("input",{className:M?ue.a["input-invalid"]:"",type:j?"password":"text",placeholder:" ",name:"re-password",id:"re-password",value:H,onChange:D,onBlur:A}),j?Object(I.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(ue.a.icon," ").concat(ue.a.eye),onClick:U}):Object(I.jsx)(V.a,{icon:["far","eye"],className:"".concat(ue.a.icon," ").concat(ue.a.eye),onClick:U}),Object(I.jsx)("span",{className:ue.a.placeholder,children:"Re-password"}),M&&Object(I.jsx)("p",{className:ue.a["input-notification"],children:"Passwords must match"})]}),Object(I.jsxs)("button",{className:"main-btn ".concat(ue.a["main-btn"]),disabled:!P||a,children:["Sign up",a&&Object(I.jsx)("span",{className:ue.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]}),Object(I.jsxs)("p",{className:ue.a.invite,children:["You already have registration? ",Object(I.jsx)("a",{href:"/login",onClick:function(t){t.preventDefault(),e(N.changeOverlay("login"))},children:"Sign in now!"})]})]})]})},me=Object(u.b)({name:"checkout",initialState:{phone:null,name:null,city:null,address:null},reducers:{save:function(e,t){e.phone=t.payload.phone,e.name=t.payload.name,e.city=t.payload.city,e.address=t.payload.address},clear:function(e){e.phone=null,e.name=null,e.city=null,e.address=null}}}),be=me.actions,he=me.reducer,pe=a(40),Oe=a.n(pe),_e=function(){var e=d((function(e){return e.auth})),t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(s.g)(),o=l(),u=S().sendRequest,j=Object(n.useCallback)((function(){return null}),[]),b=Object(n.useCallback)((function(){u(ne.logout(),j),o(m.logout()),o(be.clear()),i.push("/")}),[o,i,u,j]);return Object(n.useEffect)((function(){return r(!0),function(){return r(!1)}}),[]),Object(I.jsx)("div",{className:Oe.a.popup,children:Object(I.jsxs)("div",{className:Oe.a.inner,children:[Object(I.jsx)(J.c,{to:"/profile/".concat(e._id),className:Oe.a.link,children:"Profile"}),Object(I.jsx)(J.c,{to:"/profile/".concat(e._id,"/orders?page=1"),className:Oe.a.link,children:"Orders"}),Object(I.jsx)(J.c,{to:"/profile/".concat(e._id,"/restaurants?sort=rating-desc&page=1"),className:Oe.a.link,children:"My restaurants"}),c&&Object(I.jsx)("button",{className:Oe.a.btn,onClick:b,children:"Sign out"}),!c&&Object(I.jsx)("button",{className:Oe.a.btn,children:"Sign out"})]})})},fe=a(68),xe=a.n(fe),ge=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),i=Object(n.useRef)(null),s=function(e){var t;(null===(t=r.current)||void 0===t?void 0:t.contains(e.target))||c(!1)},o=Object(n.useCallback)((function(e){"path"===e.target.nodeName||"svg"===e.target.nodeName?c((function(e){return!e})):"A"===e.target.nodeName||"BUTTON"===e.target.nodeName?c(!1):c(!0)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}}),[]),Object(I.jsxs)("div",{className:xe.a.container,ref:r,onClick:o,children:[Object(I.jsx)("span",{ref:i,children:Object(I.jsx)(V.a,{icon:["far","user-circle"],className:xe.a["user-icon"]})}),a&&Object(I.jsx)(_e,{})]})},ve=a(30),Ne=a.n(ve),Ce=function(){var e=d((function(e){return e.modal})),t=d((function(e){return e.auth})),a=l();return K(e.isOpen),Object(I.jsxs)("header",{className:Ne.a.header,children:[e.isOpen&&"login"===e.overlayName&&Object(I.jsx)($,{children:Object(I.jsx)(le,{})}),e.isOpen&&"register"===e.overlayName&&Object(I.jsx)($,{children:Object(I.jsx)(je,{})}),Object(I.jsxs)("div",{className:Ne.a.container,children:[Object(I.jsxs)(J.c,{to:"/",className:Ne.a["logo-link"],children:[Object(I.jsx)(V.a,{icon:["fas","utensils"],className:Ne.a.icon}),Object(I.jsx)("h2",{className:Ne.a["logo-link-long"],children:"Food Delivery Network"}),Object(I.jsx)("h2",{className:Ne.a["logo-link-short"],children:"FDN"})]}),Object(I.jsx)("nav",{children:Object(I.jsxs)("ul",{className:Ne.a["nav-list"],children:[Object(I.jsx)("li",{className:Ne.a["nav-list-item"],children:Object(I.jsx)(J.c,{to:t._id?"/profile/".concat(t._id,"/favorites"):"/favorites",children:Object(I.jsx)(V.a,{icon:["far","heart"],className:Ne.a["user-icon"]})})}),Object(I.jsx)("li",{className:Ne.a["nav-list-item"],children:t.email?Object(I.jsx)(ge,{}):Object(I.jsx)(V.a,{icon:["far","user-circle"],onClick:function(){a(N.open("login"))},className:Ne.a["user-icon"]})})]})})]})]})},ye=function(e){var t=d((function(e){return e.notification}));return Object(I.jsxs)(I.Fragment,{children:[t.text&&Object(I.jsx)(P,{}),Object(I.jsx)(U,{}),Object(I.jsx)(Ce,{}),Object(I.jsx)("main",{children:e.children}),Object(I.jsx)(Q,{})]})},ke=a(34),we=a.n(ke),Se=function(){return Object(I.jsxs)("section",{className:"".concat(we.a.benefits," container"),children:[Object(I.jsx)("article",{className:we.a["benefits-img"],children:Object(I.jsx)("img",{src:"/images/firmbee-com-SpVHcbuKi6E-unsplash.jpg",alt:"all-devices"})}),Object(I.jsxs)("article",{className:we.a["benefits-content"],children:[Object(I.jsx)("h1",{className:we.a["benefits-content-title"],children:"Experience our app on all your devices"}),Object(I.jsx)("p",{className:we.a["benefits-content-subtitle"],children:"Separate design for computer, tablet and phones"}),Object(I.jsx)("p",{className:we.a["benefits-content-subtitle"],children:"You can find the best food near you with click of your finger"}),Object(I.jsx)("h1",{className:we.a["benefits-content-title"],children:"Fast delivery"}),Object(I.jsx)("p",{className:we.a["benefits-content-subtitle"],children:"Delivery is made at your most convenient time"}),Object(I.jsx)("h1",{className:we.a["benefits-content-title"],children:"Multiple types of payment"}),Object(I.jsx)("p",{className:we.a["benefits-content-subtitle"],children:"Pay with card, on delivery or even setup your own budget"})]})]})},Re=a(9),Ee=a.n(Re),Fe=function(){return Object(I.jsxs)("section",{className:"".concat(Ee.a.cities," container"),children:[Object(I.jsx)("h2",{className:Ee.a["cities-title"],children:"Select your city"}),Object(I.jsxs)("ul",{className:Ee.a.list,children:[Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Sofia?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Sofia"}),Object(I.jsx)("img",{src:"/images/Sofia.jpg",alt:"sofia-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Varna?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Varna"}),Object(I.jsx)("img",{src:"/images/Varna.jpg",alt:"varna-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Plovdiv?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Plovdiv"}),Object(I.jsx)("img",{src:"/images/Plovdiv.jpg",alt:"plovdiv-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Burgas?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Burgas"}),Object(I.jsx)("img",{src:"/images/Burgas.jpg",alt:"burgas-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Stara-Zagora?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Stara Zagora"}),Object(I.jsx)("img",{src:"/images/Stara-zagora.jpg",alt:"stara-zagora-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Veliko-Tarnovo?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Veliko Tarnovo"}),Object(I.jsx)("img",{src:"/images/Veliko-tarnovo.jpg",alt:"veliko-tarnovo-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Pleven?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Pleven"}),Object(I.jsx)("img",{src:"/images/Pleven.jpg",alt:"pleven-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Blagoevgrad?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Blagoevgrad"}),Object(I.jsx)("img",{src:"/images/Blagoevgrad.jpg",alt:"blagoevgrad-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Ruse?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Ruse"}),Object(I.jsx)("img",{src:"/images/Ruse.jpg",alt:"ruse-img"})]})})}),Object(I.jsx)("li",{className:Ee.a["list-item"],children:Object(I.jsx)("article",{className:Ee.a.city,children:Object(I.jsxs)(J.c,{to:"/city/Shumen?sort=rating-desc",children:[Object(I.jsx)("p",{className:Ee.a["city-name"],children:"Shumen"}),Object(I.jsx)("img",{src:"/images/Shumen.jpg",alt:"shumen-img"})]})})})]})]})},Le=a(43),He=a.n(Le),Be=function(){return Object(I.jsxs)("section",{className:"".concat(He.a.hero," container"),children:[Object(I.jsxs)("article",{className:He.a["hero-content"],children:[Object(I.jsx)("h1",{className:He.a["hero-content-title"],children:"Order your favorite food"}),Object(I.jsx)("p",{className:He.a["hero-content-subtitle"],children:"Enjoy fast delivery to your address or take it yourself from the restaurant"}),Object(I.jsx)("p",{className:He.a["hero-content-subtitle"],children:"Choose from the richest catalog out in the internet"})]}),Object(I.jsx)("article",{className:He.a["hero-img"],children:Object(I.jsx)("img",{src:"/images/mahyar-motebassem-pGA4zHvpo5E-unsplash.jpg",alt:"food"})})]})},Me=a(17),De=a.n(Me),Ve=function(){return Object(I.jsxs)("section",{className:"".concat(De.a.kitchens," container"),children:[Object(I.jsx)("h2",{className:De.a["kitchens-title"],children:"Popular categories"}),Object(I.jsxs)("ul",{className:De.a.list,children:[Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/Bulgarian",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"Bulgarian"}),Object(I.jsx)("img",{src:"images/bulgarian.jpg",alt:"bulgarian-kitchen"})]})}),Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/Italian",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"Italian"}),Object(I.jsx)("img",{src:"images/kitchen-italian.jpg",alt:"italian-kitchen"})]})}),Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/French",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"French"}),Object(I.jsx)("img",{src:"images/kitchen-french.jpg",alt:"french-kitchen"})]})}),Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/Chinese",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"Chinese"}),Object(I.jsx)("img",{src:"images/kitchen-chinese.jpg",alt:"chinese-kitchen"})]})}),Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/Fast Food",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"Fast Food"}),Object(I.jsx)("img",{src:"images/fast-food.jpg",alt:"fast-food"})]})}),Object(I.jsx)("li",{className:De.a["list-item"],children:Object(I.jsxs)(J.c,{to:"/main-theme/Vegetarian",className:De.a.kitchen,children:[Object(I.jsx)("p",{className:De.a["kitchen-name"],children:"Vegetarian"}),Object(I.jsx)("img",{src:"images/vegetarian.jpg",alt:"vegetarian-kitchen"})]})})]})]})},Ae=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Be,{}),Object(I.jsx)(Fe,{}),Object(I.jsx)(Se,{}),Object(I.jsx)(Ve,{})]})},Te=Object(u.b)({name:"restaurant",initialState:{_id:"",categories:[],cities:[],image:{url:"",object_id:""},mainTheme:"",name:"",owner:"",workDays:[],workHours:[],rating:0,ratingsCount:0,recipes:[]},reducers:{setRestaurant:function(e,t){e._id=t.payload._id,e.categories=t.payload.categories,e.cities=t.payload.cities,e.image=t.payload.image,e.mainTheme=t.payload.mainTheme,e.name=t.payload.name,e.owner=t.payload.owner,e.workDays=t.payload.workDays,e.workHours=t.payload.workHours,e.rating=t.payload.rating,e.ratingsCount=t.payload.ratingsCount,e.recipes=t.payload.recipes},updateRating:function(e,t){e.ratingsCount=t.payload.ratingsCount,e.rating=t.payload.rating},clearRestaurant:function(e){e._id="",e.categories=[],e.cities=[],e.image={url:"",object_id:""},e.mainTheme="",e.name="",e.owner="",e.workDays=[],e.workHours=[],e.rating=0,e.ratingsCount=0,e.recipes=[]}}}),Ie=Te.actions,Pe=Te.reducer,qe=function(){return[{name:"Sofia",_id:0},{name:"Varna",_id:1},{name:"Burgas",_id:2},{name:"Plovdiv",_id:3},{name:"Shumen",_id:4},{name:"Stara-Zagora",_id:5},{name:"Blagoevgrad",_id:6},{name:"Veliko-Tarnovo",_id:7},{name:"Pleven",_id:8},{name:"Ruse",_id:9}]},ze="https://food-delivery-network.herokuapp.com/api",Ue={add:function(e){return{url:"".concat(ze,"/restaurant/create"),method:"POST",body:e}},edit:function(e,t){return{url:"".concat(ze,"/restaurant/").concat(e),method:"PUT",body:t}},deleteRestaurant:function(e){return{url:"".concat(ze,"/restaurant/").concat(e),method:"DELETE"}},getById:function(e){return{url:"".concat(ze,"/restaurant/").concat(e)}},getByOwner:function(e){return{url:"".concat(ze,"/restaurant/by-owner?").concat(e)}},getByCity:function(e,t){return{url:"".concat(ze,"/restaurant?city=").concat(e,"&").concat(t)}},getByTheme:function(e,t){return{url:"".concat(ze,"/restaurant?mainTheme=").concat(e,"&").concat(t)}},getFavorites:function(e){return{url:"".concat(ze,"/restaurant/favorites?").concat(e)}},addComment:function(e,t,a,n){return{url:"".concat(ze,"/restaurant/").concat(e,"/comment"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,comment:a,rating:n})}},deleteComment:function(e,t){return{url:"".concat(ze,"/restaurant/").concat(e,"/comment/").concat(t),method:"DELETE"}},getComments:function(e,t){return{url:"".concat(ze,"/restaurant/").concat(e,"/comment?page=").concat(t)}},editComment:function(e,t,a,n,c){return{url:"".concat(ze,"/restaurant/").concat(e,"/comment/").concat(t),method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,comment:n,rating:c})}}},Je=a(22),We=a(47),Ge=a.n(We),Qe=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],l=s[1],d=Object(n.useRef)(null),u=Object(n.useRef)(null),j=o&&0===e.selected.length,m=Object(n.useCallback)((function(e){var t,a=e.target;(null===(t=d.current)||void 0===t?void 0:t.contains(a))||r(!1)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("click",m,{capture:!0}),function(){return document.removeEventListener("click",m,{capture:!0})}}),[m]),Object(I.jsxs)("div",{ref:d,className:"".concat(Ge.a.select," ").concat(j?Ge.a["select--invalid"]:""),onClick:function(e){var t=e.target;t!==d.current&&t!==u.current||(r((function(e){return!e})),l(!0))},children:[Object(I.jsx)("div",{ref:u,className:Ge.a.text,children:e.selected.map((function(e){return e.name})).join(", ")||e.text}),c&&!e.disabled&&Object(I.jsx)("ul",{className:Ge.a.list,children:e.inputStrings.map((function(t){return Object(I.jsxs)("li",{children:[Object(I.jsx)("input",{onChange:function(){return function(t){var a=e.inputStrings.find((function(e){return e._id===t})),n=e.selected.find((function(e){return e._id===t})),c=e.selected.indexOf(n);-1!==c?e.setStateHandler((function(e){var t=e.slice();return t.splice(c,1),t})):e.setStateHandler((function(e){return[a].concat(Object(Je.a)(e))}))}(t._id)},id:t.name,type:"checkbox",checked:Boolean(e.selected.find((function(e){return e._id===t._id})))}),Object(I.jsx)("label",{htmlFor:t.name,children:t.name})]},t._id)}))}),j&&Object(I.jsx)("p",{className:Ge.a["input-notification"],children:"At least one city is required!"})]})},Ke=a(10),Ye=a.n(Ke),Ze=function(e){var t=e.edit,a=l(),c=d((function(e){return e.restaurant})),r=qe(),i=Object(n.useState)([]),o=Object(g.a)(i,2),u=o[0],j=o[1],m=Object(n.useState)(),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useState)(!0),_=Object(g.a)(O,2),f=_[0],x=_[1],v=S(),N=v.isLoading,C=v.sendRequest,y=Object(s.g)(),k=ee(te.minLength.bind(null,6)),w=k.value,R=k.isValid,E=k.hasError,F=k.valueChangeHandler,L=k.inputBlurHandler,H=k.reset,B=k.setValue,M=ee(te.minLength.bind(null,6)),D=M.value,V=M.isValid,A=M.hasError,T=M.valueChangeHandler,P=M.inputBlurHandler,q=M.reset,z=M.setValue,U=ee(te.minStringCount.bind(null,1)),J=U.value,W=U.isValid,G=U.hasError,Q=U.valueChangeHandler,K=U.inputBlurHandler,Y=U.reset,Z=U.setValue,X=ee(te.workTime),$=X.value,ae=X.isValid,ne=X.hasError,ce=X.valueChangeHandler,re=X.inputBlurHandler,se=X.reset,oe=X.setValue;Object(n.useEffect)((function(){t&&(B(c.name),z(c.mainTheme),Z(c.categories.join(",")),oe("".concat(c.workDays.join("-")," ").concat(c.workHours.join("-"))),j(c.cities))}),[t,c,B,z,Z,oe]);var le=!1;R&&V&&W&&ae&&f&&(le=!0);var de=function(e){H(),q(),Y(),se(),t&&a(Ie.setRestaurant(e)),y.replace("/restaurant/".concat(e._id))};return Object(I.jsxs)("section",{className:"".concat(Ye.a["create-restaurant"]," container"),children:[!t&&Object(I.jsx)("h2",{children:"Lets create together the best restaurant"}),t&&Object(I.jsx)("h2",{children:"Edit restaurant"}),Object(I.jsxs)("form",{className:Ye.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),h||t){if(le){var a=new FormData;h?a.append("Restaurant Cover",h,h.name):a.append("Restaurant Cover",JSON.stringify(c.image)),a.append("name",w),a.append("mainTheme",D),a.append("categories",J),a.append("workTime",$),a.append("cities",JSON.stringify(u));var n=Ue.add(a);t&&(n=Ue.edit(c._id,a)),C(n,de)}}else x(!1)},children:[Object(I.jsxs)("div",{className:Ye.a.col,children:[Object(I.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(E?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:N,value:w,onChange:F,onBlur:L}),Object(I.jsx)("span",{className:Ye.a.placeholder,children:"Name of the restaurant"}),E&&Object(I.jsx)("p",{className:Ye.a["input-notification"],children:"Name must be at least 6 characters long!"})]}),Object(I.jsxs)("div",{className:Ye.a.col,children:[Object(I.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(A?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"theme",disabled:N,value:D,onChange:T,onBlur:P}),Object(I.jsx)("span",{className:Ye.a.placeholder,children:"Main theme of the restaurant"}),A&&Object(I.jsx)("p",{className:Ye.a["input-notification"],children:"Main theme must be at least 6 characters long!"})]}),Object(I.jsxs)("div",{className:Ye.a.col,children:[Object(I.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(G?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"categories",disabled:N,value:J,onChange:Q,onBlur:K}),Object(I.jsx)("span",{className:Ye.a.placeholder,children:'Categories separated by ","'}),G&&Object(I.jsx)("p",{className:Ye.a["input-notification"],children:"At least 1 category is required!"})]}),Object(I.jsxs)("div",{className:Ye.a.col,children:[Object(I.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(ne?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"work-time",disabled:N,value:$,onChange:ce,onBlur:re}),Object(I.jsx)("span",{className:Ye.a.placeholder,children:"Monday-Friday 10:00-20:00"}),ne&&Object(I.jsx)("p",{className:Ye.a["input-notification"],children:"Please fill working time in the correct format!"})]}),Object(I.jsxs)("div",{className:Ye.a.col,children:[Object(I.jsx)("label",{className:"".concat(Ye.a["file-label"]," ").concat(f?"":Ye.a["file-label--invalid"]),htmlFor:"image",children:h?"File selected":"Upload restaurant cover image"}),Object(I.jsx)("input",{className:Ye.a["file-btn"],id:"image",type:"file",disabled:N,name:"image",onChange:function(e){var t,a=e.target;0!==(null===(t=a.files)||void 0===t?void 0:t.length)&&(p(a.files[0]),x(!0))}}),!f&&Object(I.jsx)("p",{className:Ye.a["input-notification"],children:"Restaurant cover image is required!"})]}),Object(I.jsx)("div",{className:Ye.a.col,children:Object(I.jsx)(Qe,{text:"Select cities",inputStrings:r,setStateHandler:j,selected:u,disabled:N})}),Object(I.jsx)("div",{className:Ye.a.col,children:Object(I.jsxs)("button",{className:"main-btn create-btn ".concat(Ye.a["create-restaurant-btn"]),disabled:!le||N,children:[t?"Edit":"Create",N&&Object(I.jsx)("span",{className:Ye.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]})})]})]})},Xe=a(93),$e=a(35),et=a.n($e),tt=function(e){var t=e.links,a=Object(s.g)(),c=Object(n.useState)(!1),r=Object(g.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(!1),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useRef)(null),_=Object(n.useRef)(null),f=Object(n.useCallback)((function(){var e=O.current,t=_.current;if(e&&t){var a=getComputedStyle(e),n=Number(a.top.substring(0,a.top.length-2));o(n===t.getBoundingClientRect().top&&window.scrollY>0)}}),[]),x=Object(n.useCallback)((function(){var e=_.current;e.scrollWidth-e.clientWidth>0?(p(!0),j(!1),e.scrollLeft=0):p(!1)}),[]);Object(n.useEffect)((function(){return x(),a.listen((function(){window.scrollTo({top:0})})),window.addEventListener("resize",x),window.addEventListener("scroll",f),function(){window.removeEventListener("scroll",f),window.removeEventListener("resize",x)}}),[f,x,a]);return Object(I.jsx)("nav",{ref:O,className:"".concat(et.a.nav," ").concat(i?et.a["nav--scrolled"]:""),children:Object(I.jsxs)("ul",{ref:_,onScroll:function(){j(_.current.scrollLeft>0)},className:"container ".concat(et.a.list),children:[u&&Object(I.jsx)("div",{className:et.a["btn-wrapper"],children:Object(I.jsx)("button",{onClick:function(){var e=_.current;e.scrollLeft=e.scrollLeft-100,e.scrollLeft<120&&(e.scrollLeft=0),e.scrollWidth-e.clientWidth>0&&p(!0)},className:et.a["left-arrow"],children:"<"})}),t.map((function(e){return Object(I.jsx)("li",{onClick:function(){return window.scroll({top:0})},children:Object(I.jsx)(J.c,{activeClassName:et.a.active,className:et.a["list-item"],to:e.url,exact:!0,children:e.text})},Object(Xe.a)())})),h&&Object(I.jsx)("div",{className:"".concat(et.a["btn-wrapper"]," ").concat(et.a["btn-wrapper--right"]),children:Object(I.jsx)("button",{onClick:function(){var e=_.current,t=O.current;e.scrollLeft=e.scrollLeft+100,e.scrollWidth-t.clientWidth-e.scrollLeft<=120&&(p(!1),e.scrollLeft=e.scrollLeft+9999)},className:et.a["right-arrow"],children:">"})})]})})},at=a(6),nt=a.n(at),ct=function(e){var t=e.edit,a=Object(n.useState)(t),c=Object(g.a)(a,2),r=c[0],i=c[1],s=d((function(e){return e.auth})),o=l(),u=S(),j=u.isLoading,b=u.error,h=u.sendRequest,p=ee(te.minLength.bind(null,4)),O=p.value,_=p.hasError,f=p.isValid,x=p.inputBlurHandler,v=p.valueChangeHandler,N=p.setValue,C=p.reset,y=ee(te.minLength.bind(null,4)),k=y.value,w=y.hasError,R=y.isValid,E=y.inputBlurHandler,F=y.valueChangeHandler,L=y.setValue,H=y.reset,B=ee(te.isEmail),M=B.value,D=B.hasError,V=B.isValid,A=B.inputBlurHandler,T=B.valueChangeHandler,P=B.setValue,q=B.reset,z=ee(te.isPhone),U=z.value,J=z.hasError,W=z.isValid,G=z.inputBlurHandler,Q=z.valueChangeHandler,K=z.setValue,Y=z.reset,Z=ee(te.minLength.bind(null,4)),X=Z.value,$=Z.hasError,ae=Z.isValid,ne=Z.inputBlurHandler,ce=Z.valueChangeHandler,re=Z.setValue,se=Z.reset,oe=ee(te.minLength.bind(null,4)),le=oe.value,de=oe.hasError,ue=oe.isValid,je=oe.inputBlurHandler,me=oe.valueChangeHandler,be=oe.setValue,he=oe.reset,pe=Object(n.useCallback)((function(){var e;N(s.firstName||""),L(s.lastName||""),P(s.email||""),K((null===(e=s.phone)||void 0===e?void 0:e.toString())||""),re(s.city||""),be(s.address||"")}),[N,L,P,K,re,be,s]);Object(n.useEffect)((function(){pe()}),[pe]);var Oe=function(){i(!0)},_e=function(e){o(m.login(e)),i(!1)},fe=f&&R&&V&&W&&ae&&ue;return Object(I.jsxs)("section",{className:"".concat(nt.a["create-restaurant"]," container"),children:[Object(I.jsxs)("h2",{children:[s.firstName&&s.lastName?"".concat(s.firstName," ").concat(s.lastName):s.email,"`s profile"]}),b&&Object(I.jsx)("div",{children:b}),Object(I.jsxs)("form",{className:nt.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),fe){var t={firstName:O,lastName:k,email:M,phone:U,city:X,address:le};h({url:"http://localhost:3030/api/user/"+s._id,method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},_e)}},children:[Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat(_?nt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"first-name",disabled:j||!r,value:O,onChange:v,onBlur:x}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"First name"}),_&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"First name must be at least 4 characters long!"})]}),Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat(w?nt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"last-name",disabled:j||!r,value:k,onChange:F,onBlur:E}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"Last name"}),w&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"Last name must be at least 4 characters long!"})]}),Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat(D?nt.a["input--invalid"]:""),type:"email",placeholder:" ",name:"email",disabled:j||!r,value:M,onChange:T,onBlur:A}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"Email"}),D&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"Please enter a valid email!"})]}),Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat(J?nt.a["input--invalid"]:""),type:"tel",placeholder:" ",name:"phone",disabled:j||!r,value:U,onChange:Q,onBlur:G}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"Phone number"}),J&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"Please enter a valid phone number!"})]}),Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat($?nt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"city",disabled:j||!r,value:X,onChange:ce,onBlur:ne}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"City"}),$&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"City must be at least 4 characters long!"})]}),Object(I.jsxs)("div",{className:nt.a.col,children:[Object(I.jsx)("input",{className:"".concat(nt.a["create-restaurant-form-input"]," ").concat(de?nt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"address",disabled:j||!r,value:le,onChange:me,onBlur:je}),Object(I.jsx)("span",{className:nt.a.placeholder,children:"Address"}),de&&Object(I.jsx)("p",{className:nt.a["input-notification"],children:"Address must be at least 4 characters long!"})]}),!r&&Object(I.jsx)("div",{className:"".concat(nt.a["btn-container"]," ").concat(nt.a.col),children:Object(I.jsxs)("button",{className:"main-btn create-btn ".concat(nt.a["btn-container-btn"]),onClick:Oe,disabled:j,children:["Edit",j&&Object(I.jsx)("span",{className:nt.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]})}),r&&Object(I.jsxs)("div",{className:"".concat(nt.a["btn-container"]," ").concat(nt.a.col),children:[Object(I.jsxs)("button",{className:"main-btn ".concat(nt.a["btn-container-btn"]),onClick:Oe,disabled:!fe||j,children:["Save",j&&Object(I.jsx)("span",{className:nt.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]}),Object(I.jsx)("button",{className:"main-btn ".concat(nt.a["btn-container-btn"]," ").concat(nt.a["btn-container-btn--cancel"]),onClick:function(){j||(i(!1),C(),H(),Y(),q(),se(),he(),pe())},children:"Cancel"})]})]})]})},rt=function(e){return Object.entries(e).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&")},it=function(e){return e.length>0?e.split("?")[1].split("&").reduce((function(e,t){var a=t.split("="),n=Object(g.a)(a,2),c=n[0],r=n[1];return e[c]=r,e}),{}):{}},st=a(69),ot=a.n(st),lt=function(){var e=Object(s.g)(),t=it(e.location.search);return Object(I.jsx)("div",{className:ot.a.sort,children:Object(I.jsxs)("select",{className:ot.a["sort-select"],name:"sort",id:"sort",value:t.sort||"rating-desc",onChange:function(a){t.sort=a.currentTarget.value,t.page="1",e.push("".concat(e.location.pathname,"?").concat(rt(t)))},children:[Object(I.jsx)("option",{value:"rating-desc",children:"Rating desc"}),Object(I.jsx)("option",{value:"rating-asc",children:"Rating asc"}),Object(I.jsx)("option",{value:"ratingsCount-desc",children:"Comments count desc"}),Object(I.jsx)("option",{value:"ratingsCount-asc",children:"Comments count asc"})]})})},dt=a(48),ut=a.n(dt),jt=function(e){var t=l(),a=S(),n=a.sendRequest,c=a.isLoading,r=Object(s.g)(),i=function(){t(N.close()),r.replace("/")};return Object(I.jsxs)("section",{className:ut.a["delete-restaurant"],children:[!c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("h3",{className:ut.a["delete-restaurant-title"],children:["Confirm you want to delete ",e.name,"?"]}),Object(I.jsx)("button",{onClick:function(){n(Ue.deleteRestaurant(e._id),i)},className:"".concat(ut.a["delete-restaurant-btn"]," ").concat(ut.a["delete-restaurant-btn--danger"]),children:"Delete"}),Object(I.jsx)("button",{onClick:function(){t(N.close())},className:ut.a["delete-restaurant-btn"],children:"Cancel"})]}),c&&Object(I.jsx)(ie,{})]})},mt=a(29),bt=a.n(mt),ht=a(73),pt=a.n(ht),Ot=function(e){var t=e.children,a=e.url,c=Object(n.useState)(!0),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)(!0),l=Object(g.a)(o,2),d=l[0],u=l[1],j=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new Image;n.src=t,n.onload=function(){return e(null)},n.onerror=function(){return a({message:"Failed to load image!"})}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i&&e(),function(){s(!1)}}),[a,i]),Object(I.jsxs)(I.Fragment,{children:[d&&Object(I.jsx)("div",{className:pt.a["loader-container"],children:Object(I.jsx)(ie,{size:"medium"})}),!d&&t]})},_t=function(e){var t=e.restaurant,a=d((function(e){return e.modal})),n=d((function(e){return e.auth})),c=l(),r=n._id===t.owner,i=Object(s.g)();return Object(I.jsxs)("article",{className:bt.a.restaurant,children:[a.isOpen&&a.overlayName==="delete-restaurant-".concat(t._id)&&Object(I.jsx)($,{children:Object(I.jsx)(jt,{_id:t._id,name:t.name})}),Object(I.jsxs)(J.c,{to:"/restaurant/".concat(t._id),children:[Object(I.jsx)("article",{className:bt.a["restaurant-image-wrapper"],children:Object(I.jsx)(Ot,{url:t.image.url,children:Object(I.jsx)("img",{className:bt.a["restaurant-img-wrapper-img"],src:t.image.url,alt:"".concat(t.name," restaurant")})})}),Object(I.jsxs)("article",{className:bt.a["restaurant-title-wrapper"],children:[Object(I.jsx)("h2",{className:bt.a["restaurant-title"],children:t.name}),Object(I.jsxs)("p",{className:bt.a["restaurant-score"],children:[Object(I.jsx)(V.a,{icon:["fas","star"],className:"".concat(bt.a["restaurant-score-icon"]," ").concat(0===t.rating?bt.a["restaurant-score-icon--gray"]:"")}),0!==t.rating&&Object(I.jsxs)("span",{children:[t.rating,"(",t.ratingsCount,")"]})]})]}),Object(I.jsxs)("article",{className:bt.a["restaurant-text-wrapper"],children:[Object(I.jsxs)("p",{className:bt.a.description,children:[t.mainTheme,", ",t.categories[0]]}),r&&Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{onClick:function(e){e.preventDefault(),i.push("/restaurant/".concat(t._id,"/dashboard"))},children:Object(I.jsx)(V.a,{icon:["fas","tools"],className:bt.a.icon})}),Object(I.jsx)("span",{onClick:function(e){e.preventDefault(),c(N.open("delete-restaurant-".concat(t._id)))},children:Object(I.jsx)(V.a,{icon:["fas","trash"],className:bt.a.icon})})]})]})]})]})},ft=a(70),xt=a.n(ft),gt=function(e){var t=e.restaurants;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(lt,{}),Object(I.jsx)("ul",{className:"".concat(xt.a.list),children:t.map((function(e){return Object(I.jsx)("li",{className:xt.a["list-item"],children:Object(I.jsx)(_t,{restaurant:e})},e._id)}))})]})},vt=a(44),Nt=a.n(vt),Ct=function(e){var t=e.totalCount,a=e.shownCount,c=e.page,r=e.isLoading,i=Object(s.g)(),o=Object(n.useState)({}),l=Object(g.a)(o,2),d=l[0],u=l[1],j=Math.ceil(t/a);Object(n.useEffect)((function(){i.location.search&&u(it(i.location.search))}),[i.location.search]);var m=function(){var e=rt(d);i.push("".concat(i.location.pathname,"?").concat(e))};return Object(I.jsxs)("div",{className:Nt.a.paginator,children:[Object(I.jsx)("button",{className:Nt.a["paginator-btn"],onClick:function(){d.page="1",m()},disabled:1===c||r,children:"<<"}),Object(I.jsx)("button",{className:Nt.a["paginator-btn"],onClick:function(){var e=Number(d.page)||1;d.page=(e-1).toString(),m()},disabled:1===c||r,children:"-"}),Object(I.jsx)("span",{className:Nt.a["paginator-page"],children:c}),Object(I.jsx)("button",{className:Nt.a["paginator-btn"],onClick:function(){var e=Number(d.page)||1;d.page=(e+1).toString(),m()},disabled:j===c||r,children:"+"}),Object(I.jsx)("button",{className:Nt.a["paginator-btn"],onClick:function(){d.page=j.toString(),m()},disabled:j===c||r,children:">>"})]})},yt=a(74),kt=a.n(yt),wt=function(){var e=Object(s.h)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=S(),o=i.sendRequest,l=i.isLoading,d=Object(n.useState)(0),u=Object(g.a)(d,2),j=u[0],m=u[1],b=Object(n.useState)(1),h=Object(g.a)(b,2),p=h[0],O=h[1],_=Object(n.useCallback)((function(e){r(e.restaurants),m(e.count)}),[]);return Object(n.useEffect)((function(){var t=it(e.search);O(Number(t.page)||1),o(Ue.getByOwner(rt(t)),_)}),[o,e.search,_]),Object(I.jsxs)("section",{className:"container",children:[!l&&c.length>0&&Object(I.jsx)(gt,{restaurants:c}),!l&&0===c.length&&Object(I.jsx)("h2",{className:kt.a.title,children:"No restaurants yet!"}),l&&Object(I.jsx)(ie,{}),!l&&j>16&&Object(I.jsx)(Ct,{shownCount:16,totalCount:j,page:p,isLoading:l})]})},St="https://food-delivery-network.herokuapp.com/api",Rt={add:function(e){return{url:"".concat(St,"/order"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},getOrders:function(e,t,a){return{url:"".concat(St,"/order/").concat(e,"/").concat(t,"?page=").concat(a)}},deleteOrder:function(e){return{url:"".concat(St,"/order/").concat(e),method:"DELETE"}},edit:function(e,t){return{url:"".concat(St,"/order/").concat(e),method:"PUT",body:JSON.stringify({status:t}),headers:{"Content-Type":"application/json"}}},getOrdersCountByCategoryAndPeriod:function(e,t){return{url:"".concat(St,"/order/").concat(e,"/categories/count?period=").concat(t)}},getSalesByPeriod:function(e,t){return{url:"".concat(St,"/order/").concat(e,"/sales-volumes?period=").concat(t)}},getOrdersByOwner:function(e){return{url:"".concat(St,"/order/my-orders?page=").concat(e)}}},Et=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,c=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(c)},Ft=a(19),Lt=a.n(Ft),Ht=function(e){var t=e.order,a=e.onSuccessDelete,c=e.onSuccessChangeStatus,r=Object(n.useState)(""),i=Object(g.a)(r,2),s=i[0],o=i[1],u=Object(n.useState)(!1),j=Object(g.a)(u,2),m=j[0],b=j[1],h=S(),p=h.sendRequest,O=h.isLoading,_=l(),f=d((function(e){return e.auth})),x=d((function(e){return e.restaurant})),v=Et(t.date),C=t.items.reduce((function(e,t){return e+t.price*t.quantity}),0),y=C>10?"Free":"$3.99",k=C>10?(C+3.99).toFixed(2):C.toFixed(2),w=f._id===x.owner;Object(n.useEffect)((function(){return b(!0),function(){b(!1),_(N.close())}}),[_]);var R=function(){m&&(_(N.close()),"delete"===s?a():c(),o(""))};return Object(I.jsxs)("article",{className:Lt.a.modal,children:[Object(I.jsxs)("div",{children:[Object(I.jsxs)("h3",{className:Lt.a["order-title"],children:["Order from:",Object(I.jsx)(J.c,{to:"/restaurant/".concat(t.restaurant._id),className:Lt.a["order-link"],children:t.restaurant.name})]}),Object(I.jsx)("p",{className:Lt.a["order-date"],children:v})]}),Object(I.jsx)("ul",{className:Lt.a["order-list"],children:t.items.map((function(e){return Object(I.jsxs)("li",{className:Lt.a["order-list-item"],children:[Object(I.jsxs)("p",{className:Lt.a["order-list-item-text"],children:[e.item.name," (",e.item.weight,"g) - ",e.price," x ",e.quantity]}),Object(I.jsxs)("span",{children:["$",e.price*e.quantity]})]},e.item._id)}))}),Object(I.jsxs)("article",{className:Lt.a["order-summary"],children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Order:"}),Object(I.jsxs)("span",{children:["$",C.toFixed(2)]})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Delivery:"}),Object(I.jsx)("span",{children:y})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Total:"}),Object(I.jsxs)("span",{children:["$",k]})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Status:"}),Object(I.jsx)("span",{className:"pending"===t.status?Lt.a["status-red"]:Lt.a.status,children:t.status})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Address:"}),Object(I.jsxs)("span",{children:[t.city,", ",t.address]})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Customer:"}),Object(I.jsx)("span",{children:t.name})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Contact phone:"}),Object(I.jsx)("span",{children:9===t.phone.toString().length?"+359".concat(t.phone):t.phone})]})]}),w&&!s&&Object(I.jsxs)("article",{className:Lt.a["admin-controls"],children:[Object(I.jsx)("button",{onClick:function(){o("status")},className:Lt.a["admin-controls-control"],children:"Change status"}),Object(I.jsx)("button",{onClick:function(){o("delete")},className:"".concat(Lt.a["admin-controls-control"]," ").concat(Lt.a["admin-controls-control--red"]),children:"Delete"})]}),w&&s&&!O&&Object(I.jsxs)("article",{className:Lt.a.delete,children:[Object(I.jsx)("h4",{className:Lt.a["delete-title"],children:"Are you sure?"}),Object(I.jsx)("button",{className:"".concat(Lt.a["admin-controls-control--red"]," ").concat(Lt.a["admin-controls-control"]),onClick:"delete"===s?function(){p(Rt.deleteOrder(t._id),R)}:function(){var e="pending"===t.status?"completed":"pending";p(Rt.edit(t._id,e),R)},children:"delete"===s?"Delete":"Change"}),Object(I.jsx)("button",{className:Lt.a["admin-controls-control"],onClick:function(){o("")},children:"Cancel"})]}),w&&s&&O&&Object(I.jsx)("div",{className:Lt.a["loader-container"],children:Object(I.jsx)(ie,{size:"medium"})})]})},Bt=a(49),Mt=a.n(Bt),Dt=function(e){var t=e.order,a=e.onSuccessDelete,n=e.onSuccessChangeStatus,c=l(),r=d((function(e){return e.modal})),i=Et(t.date);return Object(I.jsxs)(I.Fragment,{children:[r.isOpen&&r.overlayName==="order-".concat(t._id)&&Object(I.jsx)($,{children:Object(I.jsx)(Ht,{order:t,onSuccessDelete:a,onSuccessChangeStatus:n})}),Object(I.jsxs)("article",{onClick:function(e){"A"!==e.target.tagName&&c(N.open("order-".concat(t._id)))},className:Mt.a.order,children:[Object(I.jsxs)("div",{children:[Object(I.jsxs)("h3",{className:Mt.a["order-title"],children:["Order from:",Object(I.jsx)(J.c,{to:"/restaurant/".concat(t.restaurant._id),className:Mt.a["order-link"],children:t.restaurant.name})]}),Object(I.jsx)("p",{className:Mt.a["order-date"],children:i})]}),Object(I.jsx)("div",{children:Object(I.jsxs)("p",{className:Mt.a["order-price"],children:["$",t.items.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)]})})]})]})},Vt=a(61),At=a.n(Vt),Tt=function(e){var t=e.status,a=Object(n.useState)([]),c=Object(g.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(1),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)(0),b=Object(g.a)(m,2),h=b[0],p=b[1],O=S(),_=O.sendRequest,f=O.isLoading,x=Object(s.g)(),v=d((function(e){return e.restaurant}));Object(n.useEffect)((function(){j(1),p(0),i([])}),[t]),Object(n.useEffect)((function(){if(x.location.search){var e=it(x.location.search);j(Number(e.page)||1)}}),[x.location.search]);var N=Object(n.useCallback)((function(e){i(e.orders),p(e.count)}),[]),C=Object(n.useCallback)((function(){var e=Rt.getOrders(v._id,t,u);"my-orders"===t&&(e=Rt.getOrdersByOwner(u)),_(e,N)}),[_,v._id,t,N,u]);Object(n.useEffect)((function(){C()}),[C]);var y=function(){C()},k=function(){C()};return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)("ul",{className:At.a.list,children:[f&&Object(I.jsx)(ie,{}),!f&&r.length>0&&r.map((function(e){return Object(I.jsx)("li",{className:At.a["list-item"],children:Object(I.jsx)(Dt,{order:e,onSuccessDelete:y,onSuccessChangeStatus:k})},e._id)})),!f&&0===r.length&&Object(I.jsx)("h2",{className:At.a["no-orders-title"],children:"No orders yet!"})]}),h>20&&Object(I.jsx)(Ct,{totalCount:h,shownCount:20,page:u,isLoading:f})]})},It=function(){var e=Object(s.h)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=S(),o=i.sendRequest,l=i.isLoading,u=Object(n.useState)(0),j=Object(g.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)(1),p=Object(g.a)(h,2),O=p[0],_=p[1],f=d((function(e){return e.auth})),x=Object(n.useCallback)((function(e){r(e.restaurants),b(e.count)}),[]);return Object(n.useEffect)((function(){var t=it(e.search);t.favorites=JSON.stringify(f.favorites),_(Number(t.page)||1),o(Ue.getFavorites(rt(t)),x)}),[o,f.favorites,x,e.search]),Object(I.jsxs)("div",{className:"container",children:[l&&Object(I.jsx)(ie,{}),!l&&c.length>0&&Object(I.jsx)(gt,{restaurants:c}),!l&&0===c.length&&Object(I.jsx)("h2",{children:"No favorite restaurants yet!"}),!l&&m>16&&Object(I.jsx)(Ct,{shownCount:16,totalCount:m,page:O,isLoading:l})]})},Pt=function(){var e=d((function(e){return e.auth})),t=[{url:"/profile/".concat(e._id),text:"Profile"},{url:"/profile/".concat(e._id,"/create-restaurant"),text:"Create Restaurant"},{url:"/profile/".concat(e._id,"/restaurants?sort=rating-desc&page=1"),text:"My restaurants"},{url:"/profile/".concat(e._id,"/favorites?sort=rating-desc&page=1"),text:"Favorite restaurants"},{url:"/profile/".concat(e._id,"/orders?page=1"),text:"My orders"}];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(tt,{links:t}),Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/profile/:id",exact:!0,children:Object(I.jsx)(ct,{edit:!1})}),Object(I.jsx)(s.b,{path:"/profile/:id/create-restaurant",children:Object(I.jsx)(Ze,{edit:!1})}),Object(I.jsx)(s.b,{path:"/profile/:id/orders",children:Object(I.jsx)(Tt,{status:"my-orders"})}),Object(I.jsx)(s.b,{path:"/profile/:id/restaurants",children:Object(I.jsx)(wt,{})}),Object(I.jsx)(s.b,{path:"/profile/:id/favorites",children:Object(I.jsx)(It,{})})]})]})},qt="https://food-delivery-network.herokuapp.com/api",zt={add:function(e,t){return{url:"".concat(qt,"/recipe/").concat(e,"/add-recipe"),method:"POST",body:t}},edit:function(e,t,a){return{url:"".concat(qt,"/recipe/").concat(e,"/").concat(t),method:"PUT",body:a}},deleteRecipe:function(e,t){return{url:"".concat(qt,"/recipe/").concat(e,"/").concat(t),method:"DELETE"}}},Ut=a(7),Jt=a.n(Ut),Wt=function(e){var t=e.recipe,a=d((function(e){return e.restaurant})),c=l(),r=S(),i=r.isLoading,s=r.sendRequest,o=Object(n.useState)(),u=Object(g.a)(o,2),j=u[0],m=u[1],b=Object(n.useState)(!0),h=Object(g.a)(b,2),p=h[0],O=h[1],_=ee(te.minLength.bind(null,5)),f=_.value,x=_.hasError,v=_.isValid,C=_.inputBlurHandler,y=_.valueChangeHandler,k=_.setValue,w=ee(te.minStringCount.bind(null,3)),R=w.value,E=w.hasError,F=w.isValid,L=w.inputBlurHandler,H=w.valueChangeHandler,B=w.setValue,M=ee(te.minLength.bind(null,1)),D=M.value,V=M.hasError,A=M.isValid,T=M.inputBlurHandler,P=M.valueChangeHandler,q=M.setValue,z=ee(te.minLength.bind(null,1)),U=z.value,J=z.hasError,W=z.isValid,G=z.inputBlurHandler,Q=z.valueChangeHandler,K=z.setValue,Y=ee(te.minLength.bind(null,1)),Z=Y.value,X=Y.isValid,$=Y.hasError,ae=Y.inputBlurHandler,ne=Y.valueChangeHandler,ce=Y.setValue,re=v&&F&&A&&X&&W;Object(n.useEffect)((function(){t&&(k(t.name),B(t.ingredients.join(",")),q(t.price.toString()),K(t.weight.toString()),ce(t.category))}),[t,k,B,q,K,ce]);var se=function(e){c(Ie.setRestaurant(e)),c(N.close())};return Object(I.jsxs)("section",{className:"".concat(Jt.a["add-recipe"]," container"),children:[Object(I.jsx)("h2",{children:"Add recipe"}),Object(I.jsxs)("form",{className:Jt.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),j||t){if(re){var n=new FormData;j?n.append("Recipe image",j,j.name):n.append("Recipe image",JSON.stringify(t.image)),n.append("name",f),n.append("ingredients",R),n.append("price",D),n.append("category",Z),n.append("weight",U);var c=zt.add(a._id,n);t&&(c=zt.edit(t._id,a._id,n)),s(c,se)}}else O(!1)},children:[Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsx)("input",{className:"".concat(Jt.a["create-restaurant-form-input"]," ").concat(x?Jt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:i,value:f,onChange:y,onBlur:C}),Object(I.jsx)("span",{className:Jt.a.placeholder,children:"Recipe name"}),x&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"At least 5 characters long!"})]}),Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsx)("input",{className:"".concat(Jt.a["create-restaurant-form-input"]," ").concat(E?Jt.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:i,value:R,onChange:H,onBlur:L}),Object(I.jsx)("span",{className:Jt.a.placeholder,children:'Ingredients separated by ","'}),E&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"At least 3!"})]}),Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsx)("input",{className:"".concat(Jt.a["create-restaurant-form-input"]," ").concat(J?Jt.a["input--invalid"]:""),type:"number",placeholder:" ",name:"name",disabled:i,value:U,onChange:Q,onBlur:G}),Object(I.jsx)("span",{className:Jt.a.placeholder,children:"Weight in grams"}),J&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"Weight is required!"})]}),Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsx)("input",{className:"".concat(Jt.a["create-restaurant-form-input"]," ").concat(V?Jt.a["input--invalid"]:""),type:"number",placeholder:" ",name:"name",disabled:i,value:D,onChange:P,onBlur:T}),Object(I.jsx)("span",{className:Jt.a.placeholder,children:"Price"}),V&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"Price is required!"})]}),Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsxs)("select",{className:"".concat(Jt.a.select," ").concat($?Jt.a["input--invalid"]:""),value:Z,disabled:i,onChange:ne,onBlur:ae,children:[Object(I.jsx)("option",{hidden:!0,children:"Select category"}),a.categories.map((function(e){return Object(I.jsx)("option",{children:e},Object(Xe.a)())}))]}),$&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"Category is required!"})]}),Object(I.jsxs)("div",{className:Jt.a.col,children:[Object(I.jsx)("label",{className:"".concat(Jt.a["file-label"]," ").concat(p?"":Jt.a["file-label--invalid"]),htmlFor:"image",children:j?"File selected":"Upload restaurant cover image"}),Object(I.jsx)("input",{className:Jt.a["file-btn"],id:"image",type:"file",name:"image",disabled:i,onChange:function(e){var t,a=e.target;0!==(null===(t=a.files)||void 0===t?void 0:t.length)&&(m(a.files[0]),O(!0))}}),!p&&Object(I.jsx)("p",{className:Jt.a["input-notification"],children:"Restaurant cover image is required!"})]}),!t&&Object(I.jsxs)("button",{className:"main-btn create-btn ".concat(Jt.a["btn-flex"]),disabled:!re||i,children:["Add",i&&Object(I.jsx)("span",{className:Jt.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]}),t&&Object(I.jsxs)("button",{className:"main-btn create-btn ".concat(Jt.a["btn-flex"]),disabled:!re||i,children:["Edit",i&&Object(I.jsx)("span",{className:Jt.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]})]})]})},Gt=a(50),Qt=a.n(Gt),Kt=function(e){var t=e._id,a=e.name,n=e.restaurantId,c=l(),r=S(),i=r.sendRequest,s=r.isLoading,o=function(e){c(N.close()),c(Ie.setRestaurant(e))};return Object(I.jsxs)("section",{className:Qt.a["delete-recipe"],children:[!s&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("h3",{className:Qt.a["delete-recipe-title"],children:["Confirm you want to delete ",a,"?"]}),Object(I.jsx)("button",{onClick:function(){i(zt.deleteRecipe(t,n),o)},className:"".concat(Qt.a["delete-recipe-btn"]," ").concat(Qt.a["delete-recipe-btn--danger"]),children:"Delete"}),Object(I.jsx)("button",{onClick:function(){c(N.close())},className:Qt.a["delete-recipe-btn"],children:"Cancel"})]}),s&&Object(I.jsx)(ie,{size:"medium"})]})},Yt=a(31),Zt=a.n(Yt),Xt=function(e){var t=e.recipe,a=l(),n=d((function(e){return e.restaurant})),c=d((function(e){return e.auth})),r=d((function(e){return e.modal})),i=n.owner===c._id;return Object(I.jsxs)("article",{className:Zt.a.recipe,children:[r.isOpen&&r.overlayName==="delete-recipe-".concat(t._id)&&Object(I.jsx)($,{children:Object(I.jsx)(Kt,{_id:t._id,name:t.name,restaurantId:n._id})}),r.isOpen&&r.overlayName==="edit-recipe/".concat(t._id)&&Object(I.jsx)($,{children:Object(I.jsx)(Wt,{recipe:t})}),Object(I.jsx)("div",{className:Zt.a["recipe-img-wrapper"],children:Object(I.jsx)(Ot,{url:t.image.url,children:Object(I.jsx)("img",{src:t.image.url,alt:t.name})})}),Object(I.jsxs)("div",{className:Zt.a["recipe-content"],children:[Object(I.jsxs)("h3",{className:Zt.a["recipe-content-title"],children:[t.name," ",Object(I.jsxs)("span",{className:Zt.a["recipe-content-weight"],children:["(",t.weight,"g)"]})]}),Object(I.jsx)("p",{className:Zt.a["recipe-content-text"],children:t.ingredients.join(", ")}),Object(I.jsxs)("p",{children:["$",t.price]})]}),Object(I.jsx)("div",{onClick:function(){a(p.addToCart({restaurantId:n._id,recipe:t}))},className:Zt.a["recipe-icon-wrapper"],children:Object(I.jsx)(V.a,{icon:["fas","plus"],className:Zt.a["recipe-icon"]})}),i&&Object(I.jsxs)("div",{className:Zt.a["recipe-admin-icons-wrapper"],children:[Object(I.jsx)(V.a,{icon:["fas","edit"],onClick:function(){a(N.open("edit-recipe/".concat(t._id)))},className:Zt.a["recipe-icon"]}),Object(I.jsx)(V.a,{icon:["fas","trash"],onClick:function(){a(N.open("delete-recipe-".concat(t._id)))},className:Zt.a["recipe-icon"]})]})]})},$t=a(71),ea=a.n($t),ta=Object(n.memo)((function(e){var t=e.categoryRecipes;return Object(I.jsxs)("div",{className:"".concat(ea.a.category),children:[Object(I.jsx)("h2",{className:ea.a["category-title"],children:t[0].category}),t.map((function(e){return Object(I.jsx)(Xt,{recipe:e},Object(Xe.a)())}))]})})),aa=a(75),na=a.n(aa),ca=Object(n.memo)((function(e){var t=e.categories,a=e.recipes;return Object(I.jsx)("section",{className:"container",children:t.map((function(e){var t=a.filter((function(t){return t.category===e}));return t.length>0?Object(I.jsx)(ta,{categoryRecipes:t},Object(Xe.a)()):Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{className:na.a["category-title"],children:e}),Object(I.jsx)("p",{children:"No recipes yet!"})]},Object(Xe.a)())}))})}),(function(e,t){return e.categories===t.categories})),ra=a(37),ia=a(51),sa=a.n(ia);ra.a.register.apply(ra.a,Object(Je.a)(ra.b));var oa=function(){var e=S().sendRequest,t=d((function(e){return e.restaurant})),a=Object(n.useRef)(null),c=Object(n.useState)("week"),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useCallback)((function(e){var t=[],a=[];Object.entries(e).forEach((function(e){var n=Object(g.a)(e,2),c=n[0],r=n[1];t.push(c),a.push(r)})),j(t),p(a)}),[]);Object(n.useEffect)((function(){t._id&&e(Rt.getOrdersCountByCategoryAndPeriod(t._id,i),O)}),[e,t._id,O,i]),Object(n.useEffect)((function(){if(0!==u.length){var e=new ra.a(a.current,{type:"pie",data:{labels:u,datasets:[{label:"Categories",data:h,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 71, 0.2)","rgba(238, 130, 238, 0.2)","rgba(255, 0, 0, 0.2)","rgba(0, 0, 255, 0.2)","rgba(255, 99, 71, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgb(255, 99, 71, 1)","rgb(238, 130, 238, 1)","rgb(255, 0, 0, 1)","rgb(0, 0, 255, 1)","rgba(255, 99, 71, 1)"],borderWidth:1}]},options:{plugins:{legend:{display:!1},title:{display:!0,text:"Orders by category"}}}});return function(){e.destroy()}}}),[h,u]);return Object(I.jsxs)("div",{className:sa.a.chart,children:[Object(I.jsx)("h2",{className:sa.a["chart-title"],children:"Categories share:"}),Object(I.jsxs)("select",{onChange:function(e){var t=e.target.selectedOptions[0].value;s(t)},className:sa.a["chart-select"],children:[Object(I.jsx)("option",{value:"week",children:"Week"}),Object(I.jsx)("option",{value:"month",children:"Month"})]}),u.length>0&&Object(I.jsx)("canvas",{ref:a,className:sa.a.canvas}),0===u.length&&Object(I.jsx)("div",{className:sa.a["no-data"],children:"No data for selected period"})]})},la=a(52),da=a.n(la);ra.a.register.apply(ra.a,Object(Je.a)(ra.b));var ua=function(){var e=S().sendRequest,t=d((function(e){return e.restaurant})),a=Object(n.useRef)(null),c=Object(n.useState)("week"),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useCallback)((function(e){var t=[],a=[];Object.entries(e).forEach((function(e){var n=Object(g.a)(e,2),c=n[0],r=n[1];t.push(c),a.push(r)})),j(t),p(a)}),[]);Object(n.useEffect)((function(){t._id&&e(Rt.getSalesByPeriod(t._id,i),O)}),[e,t._id,O,i]),Object(n.useEffect)((function(){if(0!==u.length){var e=new ra.a(a.current,{type:"bar",data:{labels:u,datasets:[{label:"Sales",data:h,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 71, 0.2)","rgba(238, 130, 238, 0.2)","rgba(255, 0, 0, 0.2)","rgba(0, 0, 255, 0.2)","rgba(255, 99, 71, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgb(255, 99, 71, 1)","rgb(238, 130, 238, 1)","rgb(255, 0, 0, 1)","rgb(0, 0, 255, 1)","rgba(255, 99, 71, 1)"],borderWidth:1}]},options:{plugins:{legend:{display:!1},title:{display:!0,text:"Orders by category"}}}});return function(){e.destroy()}}}),[h,u]);return Object(I.jsxs)("div",{className:da.a.chart,children:[Object(I.jsx)("h2",{className:da.a["chart-title"],children:"Sales:"}),Object(I.jsxs)("select",{onChange:function(e){var t=e.target.selectedOptions[0].value;s(t)},className:da.a["chart-select"],children:[Object(I.jsx)("option",{value:"week",children:"Week"}),Object(I.jsx)("option",{value:"month",children:"Month"})]}),u.length>0&&Object(I.jsx)("canvas",{ref:a,className:da.a.canvas}),0===u.length&&Object(I.jsx)("div",{className:da.a["no-data"],children:"No data for selected period"})]})},ja=a(76),ma=a.n(ja),ba=function(){return Object(I.jsxs)("div",{className:"".concat(ma.a.statistics," container"),children:[Object(I.jsx)(ua,{}),Object(I.jsx)(oa,{})]})},ha=function(){var e=d((function(e){return e.restaurant})),t=[{url:"/restaurant/".concat(e._id,"/dashboard/statistics"),text:"Statistics"},{url:"/restaurant/".concat(e._id,"/dashboard/active-orders?page=1"),text:"Active orders"},{url:"/restaurant/".concat(e._id,"/dashboard/completed-orders?page=1"),text:"Completed orders"}];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(tt,{links:t}),Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/restaurant/:id/dashboard/",exact:!0,children:Object(I.jsx)(s.a,{to:"/restaurant/".concat(e._id,"/dashboard/statistics")})}),Object(I.jsx)(s.b,{path:"/restaurant/:id/dashboard/statistics",children:Object(I.jsx)(ba,{})}),Object(I.jsx)(s.b,{path:"/restaurant/:id/dashboard/active-orders",children:Object(I.jsx)(Tt,{status:"active"})}),Object(I.jsx)(s.b,{path:"/restaurant/:id/dashboard/completed-orders",children:Object(I.jsx)(Tt,{status:"completed"})})]})]})},pa=a(11),Oa=a.n(pa),_a=function(e){var t=e.cancelClickHandler,a=e.addCommentSubmitHandler,c=e.setFormIsLoading,r=d((function(e){return e.auth})),i=S(),s=i.isLoading,o=i.setError,l=i.sendRequest,u=d((function(e){return e.restaurant})),j=ee(te.minLength.bind(null,6)),m=j.value,b=j.hasError,h=j.isValid,p=j.valueChangeHandler,O=j.inputBlurHandler,_=j.setValue,f=ee(te.minLength.bind(null,10)),x=f.value,g=f.hasError,v=f.isValid,N=f.valueChangeHandler,C=f.inputBlurHandler,y=h&&v;Object(n.useEffect)((function(){r.firstName&&r.lastName&&_("".concat(r.firstName," ").concat(r.lastName))}),[_,r]);var k=Object(n.useCallback)((function(e){a(e),c(!1)}),[a,c]);return Object(I.jsxs)(I.Fragment,{children:[s&&Object(I.jsx)("div",{className:Oa.a.background,children:Object(I.jsx)(ie,{})}),!s&&Object(I.jsxs)("form",{className:Oa.a.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("rating");null!==t?y&&(c(!0),l(Ue.addComment(u._id,m,x,t),k)):o("Rating is required!")},children:[Object(I.jsxs)("div",{className:Oa.a.col,children:[Object(I.jsx)("input",{className:b?Oa.a["input-invalid"]:"",placeholder:" ",type:"name",name:"name",id:"name",disabled:s,value:m,onChange:p,onBlur:O}),Object(I.jsx)("label",{htmlFor:"name",className:Oa.a.placeholder,children:"Name:"}),b&&Object(I.jsx)("p",{className:Oa.a["input-notification"],children:"At least 6 characters long!"})]}),Object(I.jsxs)("div",{className:Oa.a.col,children:[Object(I.jsx)("textarea",{className:Oa.a.textarea,placeholder:" ",name:"comment",id:"comment",rows:3,disabled:s,value:x,onChange:N,onBlur:C}),Object(I.jsx)("label",{htmlFor:"comment",className:Oa.a.placeholder,children:"Comment:"}),g&&Object(I.jsx)("p",{className:Oa.a["input-notification"],children:"At least 10 characters long!"})]}),Object(I.jsxs)("div",{className:Oa.a.controls,children:[Object(I.jsxs)("div",{className:Oa.a.rating,children:[Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"1"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"2"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"3"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"4"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"5"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:Oa.a.icon,children:"\u2605"})]})]}),Object(I.jsxs)("div",{className:Oa.a["controls-btns"],children:[Object(I.jsx)("button",{className:Oa.a["controls-btn"],disabled:!y||s,children:"Add"}),Object(I.jsx)("button",{onClick:t,className:"".concat(Oa.a["controls-btn"]," ").concat(Oa.a["controls-btn--danger"]),type:"button",children:"Cancel"})]})]})]})]})},fa=a(12),xa=a.n(fa),ga=function(e){var t=e.comment,a=e.setIsEditMode,c=e.editCommentHandler,r=S(),i=r.isLoading,s=r.setError,o=r.sendRequest,l=d((function(e){return e.restaurant})),u=ee(te.minLength.bind(null,6)),j=u.value,m=u.hasError,b=u.valueChangeHandler,h=u.inputBlurHandler,p=u.setValue,O=ee(te.minLength.bind(null,10)),_=O.value,f=O.hasError,x=O.valueChangeHandler,g=O.inputBlurHandler,v=O.setValue,N=!m&&!f;Object(n.useEffect)((function(){p(t.name),v(t.comment)}),[p,v,t]);var C=function(e){a(!1),c(e)};return Object(I.jsxs)(I.Fragment,{children:[i&&Object(I.jsx)("div",{className:xa.a.background,children:Object(I.jsx)(ie,{})}),!i&&Object(I.jsxs)("form",{className:xa.a.form,onSubmit:function(e){e.preventDefault();var a=new FormData(e.target).get("rating");null!==a?N&&o(Ue.editComment(l._id,t._id,j,_,a),C):s("Rating is required!")},children:[Object(I.jsxs)("div",{className:xa.a.col,children:[Object(I.jsx)("input",{className:m?xa.a["input-invalid"]:"",placeholder:" ",type:"name",name:"name",id:"name",disabled:i,value:j,onChange:b,onBlur:h}),Object(I.jsx)("label",{htmlFor:"name",className:xa.a.placeholder,children:"Name:"}),m&&Object(I.jsx)("p",{className:xa.a["input-notification"],children:"At least 6 characters long!"})]}),Object(I.jsxs)("div",{className:xa.a.col,children:[Object(I.jsx)("textarea",{className:xa.a.textarea,placeholder:" ",name:"comment",id:"comment",rows:3,value:_,onChange:x,onBlur:g}),Object(I.jsx)("label",{htmlFor:"comment",className:xa.a.placeholder,children:"Comment:"}),f&&Object(I.jsx)("p",{className:xa.a["input-notification"],children:"At least 10 characters long!"})]}),Object(I.jsxs)("div",{className:xa.a.controls,children:[Object(I.jsxs)("div",{className:xa.a.rating,children:[Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"1",defaultChecked:1===t.rating}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"2",defaultChecked:2===t.rating}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"3",defaultChecked:3===t.rating}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"4",defaultChecked:4===t.rating}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"})]}),Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"radio",name:"rating",value:"5",defaultChecked:5===t.rating}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"}),Object(I.jsx)("span",{className:xa.a.icon,children:"\u2605"})]})]}),Object(I.jsxs)("div",{className:xa.a["controls-btns"],children:[Object(I.jsx)("button",{className:xa.a["controls-btn"],children:"Edit"}),Object(I.jsx)("button",{onClick:function(){a(!1)},className:"".concat(xa.a["controls-btn"]," ").concat(xa.a["controls-btn--danger"]),type:"button",children:"Cancel"})]})]})]})]})},va=a(15),Na=a.n(va),Ca=function(e){var t=e.commentObj,a=e.editCommentHandler,c=e.deleteCommentHandler,r=l(),i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],u=s[1],j=Object(n.useState)(!1),m=Object(g.a)(j,2),b=m[0],h=m[1],p=d((function(e){return e.restaurant})),O=S(),_=O.sendRequest,f=O.isLoading,x=t.name,v=t.comment,N=t.rating,C=t.date,y=t.owner,w=d((function(e){return e.auth})),R=Et(C);Object(n.useEffect)((function(){return function(){r(k.close())}}),[r]);return Object(I.jsxs)(I.Fragment,{children:[!o&&!b&&Object(I.jsxs)("article",{className:Na.a.comment,children:[Object(I.jsxs)("div",{className:Na.a["comment-header"],children:[Object(I.jsxs)("h4",{className:Na.a["comment-header-title"],children:[x,w._id===y?Object(I.jsx)("button",{onClick:function(){u(!0)},className:Na.a["comment-edit-btn"],children:"Edit"}):null,w._id===y?Object(I.jsx)("button",{onClick:function(){h(!0)},className:"".concat(Na.a["comment-delete-btn"]," ").concat(Na.a["comment-delete-btn--red"]),children:"Delete"}):null]}),Object(I.jsx)("div",{className:Na.a.rating,children:Object(I.jsxs)("label",{children:[Object(I.jsx)("span",{className:"".concat(Na.a.icon," ").concat(N>=1?"":Na.a["icon--gray"]),children:"\u2605"}),Object(I.jsx)("span",{className:"".concat(Na.a.icon," ").concat(N>=2?"":Na.a["icon--gray"]),children:"\u2605"}),Object(I.jsx)("span",{className:"".concat(Na.a.icon," ").concat(N>=3?"":Na.a["icon--gray"]),children:"\u2605"}),Object(I.jsx)("span",{className:"".concat(Na.a.icon," ").concat(N>=4?"":Na.a["icon--gray"]),children:"\u2605"}),Object(I.jsx)("span",{className:"".concat(Na.a.icon," ").concat(N>=5?"":Na.a["icon--gray"]),children:"\u2605"})]})})]}),Object(I.jsx)("p",{className:Na.a["comment-date"],children:R}),Object(I.jsx)("p",{className:Na.a["comment-text"],children:v})]}),o&&!b&&Object(I.jsx)(ga,{setIsEditMode:u,comment:t,editCommentHandler:a}),!o&&b&&!f&&Object(I.jsxs)("article",{className:"".concat(Na.a.comment," ").concat(Na.a.delete),children:[Object(I.jsx)("h4",{className:Na.a["delete-title"],children:"Are you sure?"}),Object(I.jsx)("button",{className:"".concat(Na.a["comment-delete-btn"]," ").concat(Na.a["comment-delete-btn--red"]),onClick:function(){_(Ue.deleteComment(p._id,t._id),(function(e){return c({restaurant:e,commentId:t._id})}))},children:"Delete"}),Object(I.jsx)("button",{className:Na.a["comment-edit-btn"],onClick:function(){h(!1)},children:"Cancel"})]}),f&&Object(I.jsx)("div",{className:Na.a.background,children:Object(I.jsx)(ie,{size:"medium"})})]})},ya=a(36),ka=a.n(ya),wa=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),i=Object(g.a)(r,2),s=i[0],o=i[1],u=Object(n.useState)(1),j=Object(g.a)(u,2),b=j[0],h=j[1],p=Object(n.useState)(!1),O=Object(g.a)(p,2),_=O[0],f=O[1],x=Object(n.useState)(!1),v=Object(g.a)(x,2),N=v[0],C=v[1],y=d((function(e){return e.restaurant})),k=d((function(e){return e.auth})),w=S(),R=w.sendRequest,E=w.isLoading,F=l(),L=y._id,H=Object(n.useCallback)((function(e){c((function(t){return t.concat(e.comments)})),o(e.ratingsCount),e.tokenExpired&&F(m.logout())}),[c,F]);Object(n.useEffect)((function(){0!==b&&R(Ue.getComments(L,b),H)}),[L,b,H,R]);var B=Object(n.useRef)(),M=Object(n.useCallback)((function(e){E||N||(B.current&&B.current.disconnect(),B.current=new IntersectionObserver((function(e){e[0].isIntersecting&&s>a.length&&h((function(e){return e+1}))})),e&&B.current.observe(e))}),[E,s,a,N]),D=Object(n.useCallback)((function(e){f(!1),c([]),h(0),h(1),o(e.comments.length),F(Ie.updateRating({rating:e.restaurant.rating,ratingsCount:e.restaurant.ratingsCount}))}),[F]),A=function(e){var t=a.map((function(t){return(null===t||void 0===t?void 0:t._id)===e.comment._id?e.comment:t}));c(t),F(Ie.updateRating({rating:e.restaurant.rating,ratingsCount:e.restaurant.ratingsCount}))},T=function(e){var t=a.map((function(t){return(null===t||void 0===t?void 0:t._id)===e.commentId?null:t}));e.restaurant.ratingsCount<=10&&a.length>=10&&(t=[],h(0),h(1)),c(t),F(Ie.updateRating({rating:e.restaurant.rating,ratingsCount:e.restaurant.ratingsCount}))};return Object(I.jsxs)("section",{className:ka.a.comments,children:[Object(I.jsx)("h3",{className:ka.a["comments-title"],children:"Comments"}),Object(I.jsxs)("article",{className:ka.a["comments-score"],children:[Object(I.jsx)("h4",{className:ka.a["comments-score-title"],children:"Average score:"}),Object(I.jsxs)("div",{children:[Object(I.jsx)(V.a,{icon:["fas","star"],className:0!==y.rating?ka.a["comments-score-icon"]:ka.a["comments-score-icon--gray"]}),0!==y.rating&&Object(I.jsxs)("span",{children:[y.rating," from ",y.ratingsCount," comments"]}),0===y.rating&&Object(I.jsx)("span",{children:"No comments yet!"})]})]}),!_&&k.email&&Object(I.jsx)("button",{onClick:function(){return f(!0)},className:ka.a["comments-btn"],children:"Add comment"}),_&&Object(I.jsx)(_a,{cancelClickHandler:function(){return f(!1)},setFormIsLoading:C,addCommentSubmitHandler:D}),Object(I.jsxs)("ul",{className:ka.a["comments-list"],children:[a.map((function(e,t){return null===e?null:a.length===t+1?Object(I.jsx)("li",{ref:M,className:ka.a["comments-list-item"],children:Object(I.jsx)(Ca,{commentObj:e,editCommentHandler:A,deleteCommentHandler:T})},null===e||void 0===e?void 0:e._id):Object(I.jsx)("li",{className:ka.a["comments-list-item"],children:Object(I.jsx)(Ca,{commentObj:e,editCommentHandler:A,deleteCommentHandler:T})},e._id)})),E&&Object(I.jsx)(ie,{size:"medium"})]})]})},Sa=a(20),Ra=a.n(Sa),Ea=function(e){var t=e.user,a=d((function(e){return e.restaurant})),c=l(),r=t._id===a.owner,i=t.favorites.includes(a._id),s=d((function(e){return e.modal}));return Object(n.useEffect)((function(){return function(){c(N.close())}}),[c]),Object(I.jsxs)("section",{children:[s.isOpen&&s.overlayName==="delete-restaurant-".concat(a._id)&&Object(I.jsx)($,{children:Object(I.jsx)(jt,{_id:a._id,name:a.name})}),s.isOpen&&"add-recipe"===s.overlayName&&Object(I.jsx)($,{children:Object(I.jsx)(Wt,{})}),s.isOpen&&"comment"===s.overlayName&&Object(I.jsx)($,{children:Object(I.jsx)(wa,{})}),Object(I.jsx)(Ot,{url:a.image.url,children:Object(I.jsx)("img",{className:Ra.a["restaurant-img"],src:a.image.url,alt:"".concat(a.name," restaurant")})}),Object(I.jsxs)("article",{className:"".concat(Ra.a["restaurant-content"]," container"),children:[Object(I.jsxs)("article",{className:Ra.a["restaurant-content-title-wrapper"],children:[Object(I.jsx)(J.c,{to:"/restaurant/".concat(a._id),className:Ra.a["restaurant-content-title"],children:a.name}),Object(I.jsxs)("h4",{className:Ra.a["restaurant-content-subtitle"],children:[a.mainTheme,", ",a.categories[0]]}),Object(I.jsxs)("p",{className:Ra.a.scoring,children:[Object(I.jsx)(V.a,{icon:["fas","star"],size:"lg",className:0!==a.rating?Ra.a["icon--blue"]:Ra.a["icon--gray"]}),0!==a.rating&&Object(I.jsxs)("span",{children:[a.rating,"(",a.ratingsCount,")"]})]})]}),Object(I.jsxs)("p",{className:Ra.a.icons,children:[r&&Object(I.jsx)(J.c,{to:"/restaurant/".concat(a._id,"/edit"),children:Object(I.jsx)(V.a,{className:Ra.a.icon,icon:["fas","edit"]})}),r&&Object(I.jsx)("span",{className:Ra.a["icon--after"],children:Object(I.jsx)(V.a,{className:Ra.a.icon,onClick:function(){c(N.open("add-recipe"))},icon:["fas","hamburger"]})}),r&&Object(I.jsx)(J.c,{to:"/restaurant/".concat(a._id,"/dashboard"),children:Object(I.jsx)(V.a,{className:Ra.a.icon,icon:["fas","tools"]})}),r&&Object(I.jsx)(V.a,{className:Ra.a.icon,onClick:function(){c(N.open("delete-restaurant-".concat(a._id)))},icon:["fas","trash"]}),!i&&Object(I.jsx)(V.a,{className:"".concat(Ra.a.icon," ").concat(Ra.a["icon--red"]),onClick:function(){c(m.addToFavorites({_id:a._id}))},icon:["far","heart"]}),i&&Object(I.jsx)(V.a,{className:"".concat(Ra.a.icon," ").concat(Ra.a["icon--red"]),onClick:function(){c(m.removeFromFavorites({_id:a._id}))},icon:["fas","heart"]}),Object(I.jsx)(V.a,{className:"".concat(Ra.a.icon," ").concat(Ra.a["icon--blue"]),onClick:function(){c(N.open("comment"))},icon:["far","comment"]})]})]})]})},Fa=function(e){var t=Number(e[0].split(":")[0]),a=Number(e[0].split(":")[1]),n=Number(e[1].split(":")[0]),c=Number(e[1].split(":")[1]),r=(new Date).setHours(t,a,0,0),i=(new Date).setHours(n,c,0,0),s=Date.now();return r<s&&s<i},La=a(21),Ha=a.n(La),Ba=function(e){var t=e.cartRecipes,a=l(),c=d((function(e){return e.auth})),r=d((function(e){return e.restaurant})),i=d((function(e){return e.checkout})),s=S(),o=s.isLoading,u=s.sendRequest,j=ee(te.minLength.bind(null,6)),m=j.value,b=j.hasError,h=j.valueChangeHandler,O=j.inputBlurHandler,_=j.isValid,f=j.setValue,x=ee(te.minLength.bind(null,4)),g=x.value,v=x.hasError,N=x.valueChangeHandler,C=x.inputBlurHandler,y=x.isValid,w=x.setValue,R=ee(te.minLength.bind(null,6)),E=R.value,F=R.hasError,L=R.valueChangeHandler,H=R.inputBlurHandler,B=R.isValid,M=R.setValue,D=ee(te.isPhone),V=D.value,A=D.hasError,T=D.valueChangeHandler,P=D.inputBlurHandler,q=D.isValid,z=D.setValue,U=Object(n.useRef)(null),J=Object(n.useRef)(null),W=Object(n.useRef)(null),G=Object(n.useRef)(null);U.current=E,J.current=m,W.current=g,G.current=V,Object(n.useEffect)((function(){var e,t;return f(i.address||c.address||""),w(i.city||c.city||""),z((null===(e=i.phone)||void 0===e?void 0:e.toString())||(null===(t=c.phone)||void 0===t?void 0:t.toString())||""),c.firstName&&c.lastName?M(i.name||"".concat(c.firstName," ").concat(c.lastName)):M(i.name||""),function(){a(be.save({name:U.current,phone:G.current,city:W.current,address:J.current}))}}),[f,w,z,M,c,i,a]);var Q=_&&y&&B&&q;return Object(I.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),Q)if(Fa(r.workHours))if(r.cities.some((function(e){return e.name.toLocaleLowerCase()===g.toLocaleLowerCase()}))){var n={address:m,city:g,name:E,phone:V,recipes:t.map((function(e){return{recipe:e.recipe._id,quantity:e.quantity}})),restaurant:r._id};u(Rt.add(n),(function(){U.current=null,J.current=null,W.current=null,G.current=null,a(p.clearCartOrder({restaurantId:r._id})),a(k.show({type:"success",text:"Successful order!"})),setTimeout((function(){a(k.close())}),3e3)}))}else{var c=r.cities.map((function(e){return e.name})).join(", ");a(k.show({type:"error",text:"Unable to checkout. Restaurant delivers in these cities: ".concat(c,".")}))}else a(k.show({type:"error",text:"Unable to checkout. Restaurant working hours: ".concat(r.workHours.join("-"))}))},className:Ha.a.form,children:[Object(I.jsx)("h2",{className:Ha.a["form-title"],children:"Checkout"}),Object(I.jsxs)("div",{className:Ha.a.col,children:[Object(I.jsx)("input",{className:b?Ha.a["input-invalid"]:"",placeholder:" ",type:"text",name:"address",id:"address",disabled:o,value:m,onChange:h,onBlur:O}),Object(I.jsx)("span",{className:Ha.a.placeholder,children:"Address"}),b&&Object(I.jsx)("p",{className:Ha.a["input-notification"],children:"Address must be at least 6 characters long!"})]}),Object(I.jsxs)("div",{className:Ha.a.col,children:[Object(I.jsx)("input",{className:v?Ha.a["input-invalid"]:"",placeholder:" ",type:"text",name:"city",id:"city",disabled:o,value:g,onChange:N,onBlur:C}),Object(I.jsx)("span",{className:Ha.a.placeholder,children:"City"}),v&&Object(I.jsx)("p",{className:Ha.a["input-notification"],children:"City must be at least 4 characters long!"})]}),Object(I.jsxs)("div",{className:Ha.a.col,children:[Object(I.jsx)("input",{className:F?Ha.a["input-invalid"]:"",placeholder:" ",type:"text",name:"name",id:"name",disabled:o,value:E,onChange:L,onBlur:H}),Object(I.jsx)("span",{className:Ha.a.placeholder,children:"First and last name"}),F&&Object(I.jsx)("p",{className:Ha.a["input-notification"],children:"Names must be at least 6 characters long!"})]}),Object(I.jsxs)("div",{className:Ha.a.col,children:[Object(I.jsx)("input",{className:A?Ha.a["input-invalid"]:"",placeholder:" ",type:"tel",name:"phone",id:"phone",disabled:o,value:V,onChange:T,onBlur:P}),Object(I.jsx)("span",{className:Ha.a.placeholder,children:"Phone number"}),A&&Object(I.jsx)("p",{className:Ha.a["input-notification"],children:"Please enter a valid phone number!"})]}),Object(I.jsxs)("button",{className:"main-btn ".concat(Ha.a["main-btn"]),disabled:!Q||o,children:["Order",o&&Object(I.jsx)("span",{className:Ha.a["spinner-container"],children:Object(I.jsx)(ie,{size:"small"})})]})]})},Ma=a(45),Da=a.n(Ma),Va=function(e){var t=e.recipe,a=e.quantity,n=e.restaurantId,c=l();return Object(I.jsxs)("li",{className:Da.a["cart-item"],children:[Object(I.jsxs)("div",{className:Da.a["cart-item-text"],children:[t.name," (",t.weight,"g) ",Object(I.jsxs)("span",{children:["x ",a]})]}),Object(I.jsx)("div",{className:Da.a["cart-item-controls"],children:Object(I.jsxs)("div",{className:Da.a["cart-item-icons"],children:[Object(I.jsx)(V.a,{className:Da.a["icon--red"],icon:["fas","minus"],onClick:function(){c(p.removeFromCart({restaurantId:n,recipe:t}))}}),Object(I.jsxs)("span",{children:["$",t.price]}),Object(I.jsx)(V.a,{className:Da.a["icon--green"],icon:["fas","plus"],onClick:function(){c(p.addToCart({restaurantId:n,recipe:t}))}}),Object(I.jsxs)("span",{children:["$",(t.price*a).toFixed(2)]})]})})]})},Aa=a(32),Ta=a.n(Aa),Ia=function(){var e,t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],s=d((function(e){return e.cart})).restaurants,o=d((function(e){return e.restaurant})),u=l(),j=d((function(e){return e.notification})),m=null===(e=s.find((function(e){return e.restaurantId===o._id})))||void 0===e?void 0:e.recipes,b=Number(null===m||void 0===m?void 0:m.reduce((function(e,t){return e+t.quantity*t.recipe.price}),0).toFixed(2)),h=null===m||void 0===m?void 0:m.reduce((function(e,t){return e+t.quantity}),0);K(c);return Object(n.useEffect)((function(){return function(){"error"===j.type&&u(k.close())}}),[u,j.type]),Object(I.jsxs)(I.Fragment,{children:[c&&i.a.createPortal(Object(I.jsx)("div",{onClick:function(){r(!1)},children:Object(I.jsx)(X,{})}),document.getElementById("backdrop-root")),Object(I.jsxs)("section",{className:Ta.a.cart,children:[Object(I.jsxs)("article",{onClick:function(){r((function(e){return u(N.close()),!e}))},className:Ta.a["cart-header"],children:[Object(I.jsxs)("article",{className:Ta.a["cart-header-img-wrapper"],children:[Object(I.jsx)(V.a,{className:Ta.a["cart-header-img-wrapper-icon"],icon:["fas","shopping-cart"]}),Object(I.jsx)("div",{className:Ta.a["cart-header-img-quantity"],children:h})]}),Object(I.jsxs)("div",{className:Ta.a["cart-header-text"],children:[Object(I.jsxs)("p",{children:["Cart(",Object(I.jsxs)("span",{children:["$",b]}),")"]}),!c&&Object(I.jsx)(V.a,{icon:["fas","chevron-up"]}),c&&Object(I.jsx)(V.a,{icon:["fas","chevron-down"]})]})]}),c&&Object(I.jsxs)("section",{className:Ta.a["cart-content"],children:[Object(I.jsxs)("article",{className:Ta.a["cart-content-recipes"],children:[Object(I.jsx)("ul",{className:Ta.a["cart-content-recipes-list"],children:null===m||void 0===m?void 0:m.map((function(e){return Object(I.jsx)(Va,{recipe:e.recipe,quantity:e.quantity,restaurantId:o._id},e.recipe._id)}))}),Object(I.jsxs)("article",{className:Ta.a["cart-content-summary"],children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Order:"}),Object(I.jsxs)("span",{children:["$",b]})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Delivery:"}),Object(I.jsx)("span",{children:b>10?"Free":"$3.99"})]}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Total:"}),Object(I.jsxs)("span",{children:["$",b>10?b:(b+3.99).toFixed(2)]})]})]})]}),Object(I.jsx)("article",{className:Ta.a["cart-content-checkout"],children:Object(I.jsx)(Ba,{cartRecipes:m})})]})]})]})},Pa=function(e){var t=e.children,a=e.restaurant,n=d((function(e){return e.auth})),c=d((function(e){return e.app})).isInitializing;return c?Object(I.jsx)(ie,{}):c||a.owner!==n._id?Object(I.jsx)(s.a,{to:"/"}):t},qa=function(){var e=l(),t=d((function(e){return e.restaurant})),a=S(),c=a.isLoading,r=a.sendRequest,i=Object(s.i)().id,o=d((function(e){return e.auth})),u=d((function(e){return e.cart})).restaurants.find((function(e){return e.restaurantId===t._id})),j=Object(n.useCallback)((function(t){e(Ie.setRestaurant(t))}),[e]);return Object(n.useEffect)((function(){return r(Ue.getById(i),j),function(){e(Ie.clearRestaurant())}}),[i,r,j,e]),Object(I.jsxs)(I.Fragment,{children:[c&&Object(I.jsx)(ie,{}),t._id&&!c&&Object(I.jsx)(Ea,{user:o}),Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/restaurant/:id/dashboard",children:!c&&t._id&&Object(I.jsx)(Pa,{restaurant:t,children:Object(I.jsx)(ha,{})})}),Object(I.jsx)(s.b,{path:"/restaurant/:id/edit",children:t._id&&t._id&&Object(I.jsx)(Pa,{restaurant:t,children:Object(I.jsx)(Ze,{edit:!0})})}),Object(I.jsxs)(s.b,{path:"/",children:[t._id&&!c&&Object(I.jsx)(ca,{categories:t.categories,recipes:t.recipes}),t._id&&!c&&u&&u.recipes.length>0&&Object(I.jsx)(Ia,{})]})]})]})},za=function(){var e=Object(s.g)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(1),o=Object(g.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(0),j=Object(g.a)(u,2),m=j[0],b=j[1],h=Object(s.i)().cityName,p=S(),O=p.sendRequest,_=p.isLoading;return Object(n.useEffect)((function(){var t=it(e.location.search);d(Number(t.page)||1),O(Ue.getByCity(h,rt(t)),(function(e){r(e.restaurants),b(e.count)}))}),[O,h,e.location.search]),Object(I.jsxs)("section",{className:"container",children:[_&&Object(I.jsx)(ie,{}),!_&&c.length>0&&Object(I.jsx)(gt,{restaurants:c}),!_&&m>16&&Object(I.jsx)(Ct,{shownCount:16,totalCount:m,page:l,isLoading:_}),!_&&0===c.length&&Object(I.jsx)("h2",{children:"No restaurants yet!"})]})},Ua=function(){var e=Object(s.g)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(1),o=Object(g.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(0),j=Object(g.a)(u,2),m=j[0],b=j[1],h=Object(s.i)().mainTheme,p=S(),O=p.sendRequest,_=p.isLoading;return Object(n.useEffect)((function(){var t=it(e.location.search);d(Number(t.page)||1),O(Ue.getByTheme(h,rt(t)),(function(e){r(e.restaurants),b(e.count)}))}),[O,h,e.location.search]),Object(I.jsxs)("section",{className:"container",children:[_&&Object(I.jsx)(ie,{}),!_&&c.length>0&&Object(I.jsx)(gt,{restaurants:c}),!_&&m>16&&Object(I.jsx)(Ct,{shownCount:16,totalCount:m,page:l,isLoading:_}),!_&&0===c.length&&Object(I.jsx)("h2",{children:"No restaurants yet!"})]})},Ja=function(e){var t=e.children,a=Object(s.i)().id,n=d((function(e){return e.auth})),c=d((function(e){return e.app})).isInitializing;return c?Object(I.jsx)(ie,{}):c||a!==n._id?Object(I.jsx)(s.a,{to:"/"}):t};H();var Wa=function(){var e=S().sendRequest,t=l();return Object(n.useEffect)((function(){t(m.autoLoadFavorites()),t(p.autoLoadCart()),e(ne.verify(),(function(e){t(m.login(e)),t(M.initDone())}))}),[t,e]),Object(I.jsx)(ye,{children:Object(I.jsxs)(s.d,{children:[Object(I.jsx)(s.b,{path:"/",exact:!0,children:Object(I.jsx)(Ae,{})}),Object(I.jsx)(s.b,{path:"/profile/:id",children:Object(I.jsx)(Ja,{children:Object(I.jsx)(Pt,{})})}),Object(I.jsx)(s.b,{path:"/restaurant/:id",children:Object(I.jsx)(qa,{})}),Object(I.jsx)(s.b,{path:"/city/:cityName",children:Object(I.jsx)(za,{})}),Object(I.jsx)(s.b,{path:"/main-theme/:mainTheme",children:Object(I.jsx)(Ua,{})}),Object(I.jsx)(s.b,{path:"/favorites",children:Object(I.jsx)(It,{})})]})})},Ga=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},Qa=Object(u.a)({reducer:{auth:b,modal:C,restaurant:Pe,cart:O,checkout:he,notification:w,app:D}});i.a.render(Object(I.jsx)(o.a,{store:Qa,children:Object(I.jsx)(J.a,{children:Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(Wa,{})})})}),document.getElementById("root")),Ga()}],[[92,1,2]]]);
//# sourceMappingURL=main.7acb4acf.chunk.js.map