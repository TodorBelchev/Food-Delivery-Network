(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,function(e,t,a){e.exports={"create-restaurant":"UserData_create-restaurant__2cSHB","create-restaurant-form":"UserData_create-restaurant-form__iYRuf",col:"UserData_col__fI2Hz","create-restaurant-form-input":"UserData_create-restaurant-form-input__9VLAT",placeholder:"UserData_placeholder__1mtIE","file-btn":"UserData_file-btn__1A0i5","file-label":"UserData_file-label__3d7B1","file-label--invalid":"UserData_file-label--invalid__3ARLa","input--invalid":"UserData_input--invalid__1rqHw","input-notification":"UserData_input-notification__31Vjm","btn-container":"UserData_btn-container__3RlH0","btn-container-btn":"UserData_btn-container-btn__gYxoT","btn-container-btn--cancel":"UserData_btn-container-btn--cancel__2Mx5y","spinner-container":"UserData_spinner-container__2qaDI"}},function(e,t,a){e.exports={"add-recipe":"AddRecipeModal_add-recipe__mWH8x",col:"AddRecipeModal_col__cBsGW","create-restaurant-form-input":"AddRecipeModal_create-restaurant-form-input__3TrJz",placeholder:"AddRecipeModal_placeholder__3nBsy","file-btn":"AddRecipeModal_file-btn__VnuCR","file-label":"AddRecipeModal_file-label__8NiOC","file-label--invalid":"AddRecipeModal_file-label--invalid__1kYMK","input--invalid":"AddRecipeModal_input--invalid__1pJ4U","input-notification":"AddRecipeModal_input-notification__1UsrQ",select:"AddRecipeModal_select__H7Uv0",opt:"AddRecipeModal_opt__2JQWy","btn-flex":"AddRecipeModal_btn-flex__367BG","spinner-container":"AddRecipeModal_spinner-container__x7b9V"}},,function(e,t,a){e.exports={cities:"Cities_cities__3RG0h",benefits:"Cities_benefits__xsgtU",kitchens:"Cities_kitchens__1Ly75","cities-title":"Cities_cities-title__3gV_k","kitchens-title":"Cities_kitchens-title__3iTUJ",city:"Cities_city__2rK1D",kitchen:"Cities_kitchen__3HblG","city-name":"Cities_city-name__R8NJF","kitchen-name":"Cities_kitchen-name__3uowo",list:"Cities_list__34Gf5","list-item":"Cities_list-item__3qyOl"}},function(e,t,a){e.exports={"create-restaurant":"CreateRestaurant_create-restaurant__3bb5F","create-restaurant-form":"CreateRestaurant_create-restaurant-form__1q2gQ",col:"CreateRestaurant_col__1Ddvg","create-restaurant-form-input":"CreateRestaurant_create-restaurant-form-input__3Ev0V",placeholder:"CreateRestaurant_placeholder__2CWmk","file-btn":"CreateRestaurant_file-btn__1wRap","file-label":"CreateRestaurant_file-label__3dn-U","file-label--invalid":"CreateRestaurant_file-label--invalid__1BvO1","input--invalid":"CreateRestaurant_input--invalid__1V92H","input-notification":"CreateRestaurant_input-notification__1aOCJ","create-restaurant-btn":"CreateRestaurant_create-restaurant-btn__3CafE","spinner-container":"CreateRestaurant_spinner-container__1lWW3"}},function(e,t,a){e.exports={form:"AddCommentForm_form__kkAmX",background:"AddCommentForm_background__1Qn-W",col:"AddCommentForm_col__1bl4w",placeholder:"AddCommentForm_placeholder__TugKE","input-invalid":"AddCommentForm_input-invalid__29_P_","input-notification":"AddCommentForm_input-notification__12m0U",textarea:"AddCommentForm_textarea__37QNR",rating:"AddCommentForm_rating__3D4yP",icon:"AddCommentForm_icon__3MFwY",controls:"AddCommentForm_controls__17NfT","controls-btn":"AddCommentForm_controls-btn__2XJ_S","controls-btn--danger":"AddCommentForm_controls-btn--danger__u4DTO",error:"AddCommentForm_error__Vxo_Q","controls-btns":"AddCommentForm_controls-btns__3qGO0"}},function(e,t,a){e.exports={form:"EditCommentForm_form__VIGyh",background:"EditCommentForm_background__W4Kza",col:"EditCommentForm_col__3ot7N",placeholder:"EditCommentForm_placeholder__21FFY","input-invalid":"EditCommentForm_input-invalid__1fvd8","input-notification":"EditCommentForm_input-notification__2gBnh",textarea:"EditCommentForm_textarea__11qS4",rating:"EditCommentForm_rating__wCJBt",icon:"EditCommentForm_icon__1L_P3",controls:"EditCommentForm_controls__2id9G","controls-btn":"EditCommentForm_controls-btn__32gKl","controls-btn--danger":"EditCommentForm_controls-btn--danger__lduEt",error:"EditCommentForm_error__g7AGC","controls-btns":"EditCommentForm_controls-btns__2Yatr"}},function(e,t,a){e.exports={register:"RegisterModal_register__kJbu5","register-title":"RegisterModal_register-title__3YEr2","register-form":"RegisterModal_register-form__3QNBW",col:"RegisterModal_col__3R1EH",placeholder:"RegisterModal_placeholder__14OAt","input-invalid":"RegisterModal_input-invalid__2d3GN","input-notification":"RegisterModal_input-notification__3dBmm",error:"RegisterModal_error__S17Wx",invite:"RegisterModal_invite__2gagw","spinner-container":"RegisterModal_spinner-container__T6Zqi","main-btn":"RegisterModal_main-btn__3q8dW",icon:"RegisterModal_icon__CoDRJ",eye:"RegisterModal_eye___VBjQ"}},,function(e,t,a){e.exports={comment:"Comment_comment__2Tey_","comment-header":"Comment_comment-header__10DPe","comment-header-title":"Comment_comment-header-title__5aLIN",rating:"Comment_rating__29kHZ",icon:"Comment_icon__3UgSa","icon--gray":"Comment_icon--gray__2f87-","comment-date":"Comment_comment-date__14hRG","comment-text":"Comment_comment-text__2k4Ua","comment-edit-btn":"Comment_comment-edit-btn__2V9x4","comment-delete-btn":"Comment_comment-delete-btn__2qsYE","comment-delete-btn--red":"Comment_comment-delete-btn--red__10hrm",delete:"Comment_delete__28DLz","delete-title":"Comment_delete-title__tIGS2",background:"Comment_background__ycVGv"}},function(e,t,a){e.exports={footer:"Footer_footer__27SxS","footer-list":"Footer_footer-list__QwNgz","footer-list-item":"Footer_footer-list-item__-bt1R","footer-list-item-link":"Footer_footer-list-item-link__3Rs0e",end:"Footer_end__10zwd",social:"Footer_social__279pX","footer-wrapper":"Footer_footer-wrapper__wulpw","footer-icon":"Footer_footer-icon__KRejp"}},function(e,t,a){e.exports={kitchens:"Kitchens_kitchens__2rTWi","kitchens-title":"Kitchens_kitchens-title__25CQF",kitchen:"Kitchens_kitchen__7KckW","kitchen-name":"Kitchens_kitchen-name__3U50v",list:"Kitchens_list__2qXZh","list-item":"Kitchens_list-item__LcLS1"}},function(e,t,a){e.exports={login:"LoginModal_login__3sctA","login-title":"LoginModal_login-title__1xNJC","login-form":"LoginModal_login-form__3aDvX",col:"LoginModal_col__2gtji",placeholder:"LoginModal_placeholder__1371X","input-invalid":"LoginModal_input-invalid__vVny_","input-notification":"LoginModal_input-notification__1fdQD",error:"LoginModal_error__2sL9k",invite:"LoginModal_invite__bD70N","spinner-container":"LoginModal_spinner-container__1ZnIm","main-btn":"LoginModal_main-btn__2SG4F",icon:"LoginModal_icon__-KZnZ",eye:"LoginModal_eye__352AR"}},function(e,t,a){e.exports={modal:"OrderModal_modal__1CYg1","order-title":"OrderModal_order-title__2TAHE","order-date":"OrderModal_order-date__2FSZU","order-price":"OrderModal_order-price__2_ECq","order-link":"OrderModal_order-link__2nrh7","order-list":"OrderModal_order-list__1snpQ","order-list-item":"OrderModal_order-list-item__3jsIo","order-list-item-text":"OrderModal_order-list-item-text__2VhwW","order-summary":"OrderModal_order-summary__1C2Zl",status:"OrderModal_status__28um3","status-red":"OrderModal_status-red__R74fc","admin-controls":"OrderModal_admin-controls__3QTdW","admin-controls-control":"OrderModal_admin-controls-control__2zH4S","admin-controls-control--red":"OrderModal_admin-controls-control--red__avCiF",delete:"OrderModal_delete__3F6aG","delete-title":"OrderModal_delete-title__2VM9p","loader-container":"OrderModal_loader-container__2Tw-T"}},function(e,t,a){e.exports={"restaurant-content":"RestaurantHeader_restaurant-content__2GhPV","restaurant-img":"RestaurantHeader_restaurant-img__2IBKf",icons:"RestaurantHeader_icons__2ndtO",scoring:"RestaurantHeader_scoring__Pd3Bm","restaurant-content-subtitle":"RestaurantHeader_restaurant-content-subtitle__20Djl","restaurant-content-title":"RestaurantHeader_restaurant-content-title__3M5Wf",icon:"RestaurantHeader_icon__2pdiA","icon--red":"RestaurantHeader_icon--red__3ka4F","icon--blue":"RestaurantHeader_icon--blue__27D6V","icon--gray":"RestaurantHeader_icon--gray__3k1g9","icon--after":"RestaurantHeader_icon--after__3k592","restaurant-content-title-wrapper":"RestaurantHeader_restaurant-content-title-wrapper__3330b"}},function(e,t,a){e.exports={"form-title":"CheckoutForm_form-title__1zp5U",col:"CheckoutForm_col__3V1z6",placeholder:"CheckoutForm_placeholder__1xVHM",form:"CheckoutForm_form__3dyF3","input-invalid":"CheckoutForm_input-invalid__U918i","input-notification":"CheckoutForm_input-notification__1nlh_","main-btn":"CheckoutForm_main-btn__1Wz9I","spinner-container":"CheckoutForm_spinner-container__hGHts",error:"CheckoutForm_error__2slp9"}},,,,,,,,function(e,t,a){e.exports={restaurant:"RestaurantCard_restaurant__2JMy-","restaurant-image-wrapper":"RestaurantCard_restaurant-image-wrapper__3Cpjp","restaurant-img-wrapper-img":"RestaurantCard_restaurant-img-wrapper-img__Qya-6","restaurant-title-wrapper":"RestaurantCard_restaurant-title-wrapper__L0KVS","restaurant-title":"RestaurantCard_restaurant-title__3Yww1",description:"RestaurantCard_description__QAlD0","restaurant-score":"RestaurantCard_restaurant-score__2wwqV","restaurant-score-icon":"RestaurantCard_restaurant-score-icon__2nkQw","restaurant-score-icon--gray":"RestaurantCard_restaurant-score-icon--gray__3PAbQ","restaurant-text-wrapper":"RestaurantCard_restaurant-text-wrapper__2YSQA",icon:"RestaurantCard_icon__2y1q9"}},function(e,t,a){e.exports={header:"Navigation_header__3QyMU",container:"Navigation_container__2Ip_f",icon:"Navigation_icon__2yZRd","navigation-wrapper":"Navigation_navigation-wrapper__2mAAJ","nav-list":"Navigation_nav-list__18kn0","nav-list-item":"Navigation_nav-list-item__2b7yn","logo-link":"Navigation_logo-link__1349S","user-icon":"Navigation_user-icon__1dWv0","logo-link-short":"Navigation_logo-link-short__PF8Ct","logo-link-long":"Navigation_logo-link-long__1v1Jf"}},function(e,t,a){e.exports={recipe:"Recipe_recipe__ND3vb","recipe-img-wrapper":"Recipe_recipe-img-wrapper__37_PQ","recipe-content":"Recipe_recipe-content__EZcz_","recipe-content-text":"Recipe_recipe-content-text__2va3a","recipe-icon-wrapper":"Recipe_recipe-icon-wrapper__kwtci","recipe-admin-icons-wrapper":"Recipe_recipe-admin-icons-wrapper__3DCmX","recipe-icon":"Recipe_recipe-icon__3bMFc","recipe-content-weight":"Recipe_recipe-content-weight__2pJaB","recipe-content-title":"Recipe_recipe-content-title__3u1-A"}},function(e,t,a){e.exports={cart:"ShoppingCart_cart__zpX17","cart-header":"ShoppingCart_cart-header__wPVn4","cart-header-img-wrapper":"ShoppingCart_cart-header-img-wrapper__3eCkM","cart-header-img-wrapper-icon":"ShoppingCart_cart-header-img-wrapper-icon__1cjfZ","cart-header-img-quantity":"ShoppingCart_cart-header-img-quantity__2T_7v","cart-header-text":"ShoppingCart_cart-header-text__3TFhl","cart-content":"ShoppingCart_cart-content__2Ev3F","cart-content-recipes":"ShoppingCart_cart-content-recipes__13mDI","cart-content-checkout":"ShoppingCart_cart-content-checkout__3YrUl","cart-content-recipes-list":"ShoppingCart_cart-content-recipes-list__2-y4g","cart-content-summary":"ShoppingCart_cart-content-summary__yTEIQ"}},,function(e,t,a){e.exports={benefits:"Benefits_benefits__2sJw3","benefits-img":"Benefits_benefits-img__2BX0x","benefits-content":"Benefits_benefits-content__344X_","benefits-content-title":"Benefits_benefits-content-title__16P1y"}},function(e,t,a){e.exports={nav:"HorizontalNav_nav__37TwV","nav--scrolled":"HorizontalNav_nav--scrolled__1HS42",list:"HorizontalNav_list__1N1wy","list-item":"HorizontalNav_list-item__1HGTg",active:"HorizontalNav_active__2Ac5x","btn-wrapper":"HorizontalNav_btn-wrapper__226dE","btn-wrapper--right":"HorizontalNav_btn-wrapper--right__3Rd3K","left-arrow":"HorizontalNav_left-arrow__1-GKM","right-arrow":"HorizontalNav_right-arrow__VyBKd"}},function(e,t,a){e.exports={comments:"CommentsModal_comments__dubot","comments-title":"CommentsModal_comments-title__781yh","comments-score":"CommentsModal_comments-score__r46cF","comments-score-title":"CommentsModal_comments-score-title__3pyV6","comments-score-icon":"CommentsModal_comments-score-icon__26h2g","comments-score-icon--gray":"CommentsModal_comments-score-icon--gray__2c6zl","comments-list":"CommentsModal_comments-list__2Lez8","comments-list-item":"CommentsModal_comments-list-item__8Mj9e","comments-btn":"CommentsModal_comments-btn__2aFGf"}},,function(e,t,a){e.exports={notification:"Notification_notification__1pJAJ","notification-text":"Notification_notification-text__3Qcva","notification-text--red":"Notification_notification-text--red__3TjWk",icon:"Notification_icon__2zOdA","icon--red":"Notification_icon--red__JrQGt","icon--close":"Notification_icon--close__1Qdnu"}},,function(e,t,a){e.exports={popup:"UserPopup_popup__1gSEA",inner:"UserPopup_inner__17dAK",link:"UserPopup_link__1fFIa",btn:"UserPopup_btn__1u2vn"}},,,function(e,t,a){e.exports={hero:"Hero_hero__rVHf0","hero-img":"Hero_hero-img__3iFGl","hero-content":"Hero_hero-content__3eq5m","hero-content-title":"Hero_hero-content-title__3LA2c","hero-content-subtitle":"Hero_hero-content-subtitle__3L3t5"}},function(e,t,a){e.exports={paginator:"Paginator_paginator__1Ifp0","paginator-page":"Paginator_paginator-page__1an1C","paginator-btn":"Paginator_paginator-btn__27ajC"}},function(e,t,a){e.exports={"cart-item":"ShoppingCartListItem_cart-item__2WTuz","cart-item-controls":"ShoppingCartListItem_cart-item-controls__1X6rw","cart-item-icons":"ShoppingCartListItem_cart-item-icons__3BusN","cart-item-text":"ShoppingCartListItem_cart-item-text__9vMB8","icon--red":"ShoppingCartListItem_icon--red__3EdfM","icon--green":"ShoppingCartListItem_icon--green__sI9E5"}},,function(e,t,a){e.exports={select:"MultiChoiceSelect_select__26y1F","select--invalid":"MultiChoiceSelect_select--invalid__3ra7k",list:"MultiChoiceSelect_list__1f1F6",text:"MultiChoiceSelect_text__3X189","input-notification":"MultiChoiceSelect_input-notification__1aCFU"}},function(e,t,a){e.exports={"delete-restaurant":"DeleteRestaurantModal_delete-restaurant__3DS_G","delete-restaurant-title":"DeleteRestaurantModal_delete-restaurant-title__1sIFF","delete-restaurant-btn":"DeleteRestaurantModal_delete-restaurant-btn__2JofT","delete-restaurant-btn--danger":"DeleteRestaurantModal_delete-restaurant-btn--danger__13Mj4"}},function(e,t,a){e.exports={order:"OrdersListItem_order__3Cojh","order-title":"OrdersListItem_order-title__2JSY4","order-date":"OrdersListItem_order-date__2jKTr","order-price":"OrdersListItem_order-price__bqFMz","order-link":"OrdersListItem_order-link__12d5-"}},function(e,t,a){e.exports={"delete-recipe":"DeleteRecipeModal_delete-recipe__Ed2ur","delete-recipe-title":"DeleteRecipeModal_delete-recipe-title__3AaiN","delete-recipe-btn":"DeleteRecipeModal_delete-recipe-btn__2c09N","delete-recipe-btn--danger":"DeleteRecipeModal_delete-recipe-btn--danger__342VY"}},function(e,t,a){e.exports={chart:"CategoriesChart_chart__3mgBD","chart-title":"CategoriesChart_chart-title__8XmpL","chart-select":"CategoriesChart_chart-select__3G9Qv",hide:"CategoriesChart_hide__ZUjWo",canvas:"CategoriesChart_canvas__kseIe","no-data":"CategoriesChart_no-data__2-RRz"}},function(e,t,a){e.exports={chart:"SalesChart_chart__1RVhp","chart-title":"SalesChart_chart-title__18kKr","chart-select":"SalesChart_chart-select__1HZYd",hide:"SalesChart_hide__1z1W0",canvas:"SalesChart_canvas__1uEds","no-data":"SalesChart_no-data__1FNDD"}},,,,,,,,function(e,t,a){e.exports={"lds-dual-ring":"Spinner_lds-dual-ring__6HBEi",small:"Spinner_small__2dzd6",medium:"Spinner_medium__N-f44"}},function(e,t,a){e.exports={list:"OrdersList_list__Zduol","list-item":"OrdersList_list-item__2NlNg","no-orders-title":"OrdersList_no-orders-title__3n0K3"}},,,,,function(e,t,a){e.exports={backdrop:"Modal_backdrop__2NPG6",modal:"Modal_modal__2ZZ73"}},function(e,t,a){e.exports={"user-icon":"UserIcon_user-icon__2Nm-m",container:"UserIcon_container__NqWvg"}},function(e,t,a){e.exports={sort:"SortRestaurants_sort__3sZA3","sort-select":"SortRestaurants_sort-select__3mUX3"}},function(e,t,a){e.exports={list:"RestaurantList_list__3fMr7","list-item":"RestaurantList_list-item__39XXd"}},function(e,t,a){e.exports={category:"RestaurantCategoryList_category__1wG_A","category-title":"RestaurantCategoryList_category-title__2o2U9"}},,function(e,t,a){e.exports={"loader-container":"ImageSuspense_loader-container__G-U7j"}},function(e,t,a){e.exports={title:"MyRestaurants_title__1EBHN"}},function(e,t,a){e.exports={"category-title":"RestaurantCategories_category-title__144u_"}},function(e,t,a){e.exports={statistics:"Statistics_statistics__2y7wH"}},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(33),i=a.n(r),s=(a(80),a(3)),o=(a(81),a(56)),l=function(){return Object(o.b)()},d=o.c,u=a(24),j=Object(u.b)({name:"auth",initialState:{email:null,isAdmin:!1,_id:null,phone:null,firstName:null,lastName:null,city:null,address:null,favorites:[]},reducers:{login:function(e,t){e.email=t.payload.email,e._id=t.payload._id,e.isAdmin=t.payload.isAdmin,e.firstName=t.payload.firstName,e.lastName=t.payload.lastName,e.phone=t.payload.phone,e.city=t.payload.city,e.address=t.payload.address},logout:function(e){e.email=null,e._id=null,e.isAdmin=!1,e.phone=null,e.firstName=null,e.lastName=null,e.city=null,e.address=null},addToFavorites:function(e,t){e.favorites.push(t.payload._id),localStorage.setItem("favorites",JSON.stringify(e.favorites))},removeFromFavorites:function(e,t){var a=e.favorites.indexOf(t.payload._id);e.favorites.splice(a,1),localStorage.setItem("favorites",JSON.stringify(e.favorites))},autoLoadFavorites:function(e){var t=localStorage.getItem("favorites");t&&(e.favorites=JSON.parse(t))}}}),m=j.actions,b=j.reducer,h=Object(u.b)({name:"cart",initialState:{restaurants:[]},reducers:{addToCart:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId}));if(a){var n=a.recipes.find((function(e){return e.recipe._id===t.payload.recipe._id}));n?n.quantity++:a.recipes.push({recipe:t.payload.recipe,quantity:1})}else e.restaurants.push({restaurantId:t.payload.restaurantId,recipes:[{recipe:t.payload.recipe,quantity:1}]});localStorage.setItem("cart",JSON.stringify(e))},removeFromCart:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId})),n=null===a||void 0===a?void 0:a.recipes.find((function(e){return e.recipe._id===t.payload.recipe._id}));if(1===(null===n||void 0===n?void 0:n.quantity)){var c=null===a||void 0===a?void 0:a.recipes.indexOf(n);null===a||void 0===a||a.recipes.splice(c,1)}else n.quantity--;localStorage.setItem("cart",JSON.stringify(e))},autoLoadCart:function(e){var t=localStorage.getItem("cart");t&&(e.restaurants=JSON.parse(t).restaurants)},clearCartOrder:function(e,t){var a=e.restaurants.find((function(e){return e.restaurantId===t.payload.restaurantId})),n=e.restaurants.indexOf(a);e.restaurants.splice(n,1),localStorage.setItem("cart",JSON.stringify(e))}}}),p=h.actions,O=h.reducer,_=a(39),f=a.n(_),x=a(54),g=a(2),v=Object(u.b)({name:"modal",initialState:{isOpen:!1,overlayName:""},reducers:{open:function(e,t){e.isOpen=!0,e.overlayName=t.payload},close:function(e){e.isOpen=!1,e.overlayName=""},changeOverlay:function(e,t){e.overlayName=t.payload}}}),N=v.actions,y=v.reducer,C=Object(u.b)({name:"notification",initialState:{type:"",text:""},reducers:{show:function(e,t){e.type=t.payload.type||"error",e.text=t.payload.text||"Something went wrong. Please try again later."},close:function(e){e.type="",e.text=""}}}),k=C.actions,w=C.reducer,S=function(){var e=l(),t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),s=Object(g.a)(i,2),o=s[0],u=s[1],j=d((function(e){return e.notification})),b=Object(n.useCallback)(function(){var t=Object(x.a)(f.a.mark((function t(a,n){var c,i,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),u(null),t.prev=2,t.next=5,fetch(a.url,{method:a.method||"GET",credentials:"include",headers:a.headers||{},body:a.body||null});case 5:return c=t.sent,t.next=8,c.json();case 8:if(i=t.sent,c.ok){t.next=11;break}throw new Error(i.message);case 11:r(!1),n(i),t.next=22;break;case 15:t.prev=15,t.t0=t.catch(2),"Failed to fetch"!==(s=t.t0.message)&&""!==s||(s="Something went wrong. Please try again later."),"Please log in"===s&&(e(m.logout()),e(N.open("login"))),u(s),r(!1);case 22:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,a){return t.apply(this,arguments)}}(),[e]);return Object(n.useEffect)((function(){o&&e(k.show({type:"error",text:o})),""===j.text&&u(null)}),[e,o,j.text]),{isLoading:c,error:o,setError:u,sendRequest:b}},R=a(41),E=a(23),F=a(42),H=a(59),L=function(){R.b.add(F.e,E.c,E.b,E.g,E.d,E.m,E.n,F.a,E.f,E.j,H.a,H.b,H.c,E.i,E.k,E.p,F.f,E.h,F.b,E.o,F.c,F.d,E.e,E.l,E.a)},B=Object(u.b)({name:"app",initialState:{isInitializing:!0},reducers:{initDone:function(e){e.isInitializing=!1}}}),M=B.actions,D=B.reducer,V=a(4),A=a(5),I=a(16),T=a.n(I),P=a(0),q=function(){return Object(P.jsx)("footer",{className:T.a.footer,children:Object(P.jsxs)("section",{className:T.a["footer-wrapper"],children:[Object(P.jsxs)("ul",{className:T.a["footer-list"],children:[Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)(A.b,{className:T.a["footer-list-item-link"],to:"/contacts",children:"Contacts"})}),Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)(A.b,{className:T.a["footer-list-item-link"],to:"/about-us",children:"About us"})}),Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)(A.b,{className:T.a["footer-list-item-link"],to:"/terms-and-condition",children:"Terms and conditions"})})]}),Object(P.jsxs)("ul",{className:"".concat(T.a.social," ").concat(T.a["footer-list"]),children:[Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)("a",{className:T.a["footer-list-item-link"],href:"http://facebook.com",target:"_blank",rel:"noreferrer",children:Object(P.jsx)(V.a,{icon:["fab","facebook-square"],className:T.a["footer-icon"]})})}),Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)("a",{className:T.a["footer-list-item-link"],href:"http://instagram.com",target:"_blank",rel:"noreferrer",children:Object(P.jsx)(V.a,{icon:["fab","instagram-square"],className:T.a["footer-icon"]})})}),Object(P.jsx)("li",{className:T.a["footer-list-item"],children:Object(P.jsx)("a",{className:T.a["footer-list-item-link"],href:"http://twitter.com",target:"_blank",rel:"noreferrer",children:Object(P.jsx)(V.a,{icon:["fab","twitter-square"],className:T.a["footer-icon"]})})})]}),Object(P.jsx)("p",{className:T.a.end,children:"\xa9 This site is made with educational purpose only! No rights reserved!"})]})})},z=function(e){var t=function(){document.documentElement.style.setProperty("--scroll-y","".concat(window.scrollY,"px"))};Object(n.useEffect)((function(){if(window.addEventListener("scroll",t),e){var a=document.documentElement.style.getPropertyValue("--scroll-y");document.body.style.position="fixed",document.body.style.top="-".concat(a)}return function(){var e=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),window.removeEventListener("scroll",t)}}),[e])},U=a(66),J=a.n(U),W=function(){var e=l();return Object(P.jsx)("div",{className:J.a.backdrop,onClick:function(){e(N.close())}})},G=function(e){return Object(P.jsxs)(P.Fragment,{children:[i.a.createPortal(Object(P.jsx)(W,{}),document.getElementById("backdrop-root")),i.a.createPortal(Object(P.jsx)("div",{className:J.a.modal,children:e.children}),document.getElementById("overlay-root"))]})},Q=function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],l=s[1],d=e(c);return{value:c,isValid:d,hasError:!d&&o,setValue:r,valueChangeHandler:function(e){r(e.target.value)},inputBlurHandler:function(e){l(!0)},reset:function(){r(""),l(!1)}}},K={isEmail:function(e){return Boolean(e.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/))},minLength:function(e,t){return t.length>=e},stringMatch:function(e,t){return e===t},minStringCount:function(e,t){return t.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e})).length>=e},workTime:function(e){return Boolean(e.match(/^[A-Z]{1}[a-z]+-[A-Z]{1}[a-z]+ [0-9]{1,2}:[0-9]{2}-[0-9]{2}:[0-9]{2}$/))},isPhone:function(e){return Boolean(e.match(/^(\+359|0)\d{9}$/))}},Z="https://food-delivery-network.herokuapp.com/api",Y={login:function(e,t){return{url:"".concat(Z,"/user/login"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}},register:function(e,t,a){return{url:"".concat(Z,"/user/register"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,rePassword:a})}},logout:function(){return{url:"".concat(Z,"/user/logout")}},verify:function(){return{url:"".concat(Z,"/user/verify")}}},X=a(60),$=a.n(X),ee=function(e){return Object(P.jsx)("div",{className:"\n            ".concat($.a["lds-dual-ring"],"\n            ").concat("small"===e.size?$.a.small:"","\n            ").concat("medium"===e.size?$.a.medium:"")})},te=a(18),ae=a.n(te),ne=function(){var e=l(),t=S(),a=t.isLoading,c=t.sendRequest,r=Object(n.useState)(!0),i=Object(g.a)(r,2),s=i[0],o=i[1],d=Q(K.isEmail),u=d.value,j=d.isValid,b=d.hasError,h=d.valueChangeHandler,p=d.inputBlurHandler,O=d.reset,_=Q(K.minLength.bind(null,6)),f=_.value,x=_.isValid,v=_.hasError,y=_.valueChangeHandler,C=_.inputBlurHandler,k=_.reset,w=!1;j&&x&&(w=!0);var R=function(t){O(),k(),e(N.close()),e(m.login(t))},E=function(){o((function(e){return!e}))};return Object(P.jsxs)("section",{className:ae.a.login,children:[Object(P.jsx)("h3",{className:ae.a["login-title"],children:"Sign in into Food Delivery Network"}),Object(P.jsxs)("form",{className:ae.a["login-form"],onSubmit:function(e){e.preventDefault(),w&&c(Y.login(u,f),R)},children:[Object(P.jsxs)("div",{className:ae.a.col,children:[Object(P.jsx)("label",{htmlFor:"email",children:Object(P.jsx)(V.a,{icon:["far","envelope"],className:ae.a.icon})}),Object(P.jsx)("input",{className:b?ae.a["input-invalid"]:"",placeholder:" ",type:"email",name:"email",id:"email",disabled:a,value:u,onChange:h,onBlur:p}),Object(P.jsx)("span",{className:ae.a.placeholder,children:"Email"}),b&&Object(P.jsx)("p",{className:ae.a["input-notification"],children:"Please enter a valid email"})]}),Object(P.jsxs)("div",{className:ae.a.col,children:[Object(P.jsx)("label",{htmlFor:"password",children:Object(P.jsx)(V.a,{icon:["fas","unlock-alt"],className:ae.a.icon})}),Object(P.jsx)("input",{className:v?ae.a["input-invalid"]:"",placeholder:" ",type:s?"password":"text",name:"password",id:"password",disabled:a,value:f,onChange:y,onBlur:C}),s?Object(P.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(ae.a.icon," ").concat(ae.a.eye),onClick:E}):Object(P.jsx)(V.a,{icon:["far","eye"],className:"".concat(ae.a.icon," ").concat(ae.a.eye),onClick:E}),Object(P.jsx)("span",{className:ae.a.placeholder,children:"Password"}),v&&Object(P.jsx)("p",{className:ae.a["input-notification"],children:"At least 6 characters"})]}),Object(P.jsxs)("button",{className:"main-btn ".concat(ae.a["main-btn"]),disabled:!w||a,children:["Sign in",a&&Object(P.jsx)("span",{className:ae.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]}),Object(P.jsxs)("p",{className:ae.a.invite,children:["You don't have registration? ",Object(P.jsx)("a",{href:"/register",onClick:function(t){t.preventDefault(),e(N.changeOverlay("register"))},children:"Sign up now!"})]})]})]})},ce=a(13),re=a.n(ce),ie=function(){var e=l(),t=S(),a=t.isLoading,c=t.sendRequest,r=Object(n.useState)(!0),i=Object(g.a)(r,2),s=i[0],o=i[1],d=Object(n.useState)(!0),u=Object(g.a)(d,2),j=u[0],b=u[1],h=Q(K.isEmail),p=h.value,O=h.isValid,_=h.hasError,f=h.valueChangeHandler,x=h.inputBlurHandler,v=h.reset,y=Q(K.minLength.bind(null,6)),C=y.value,k=y.isValid,w=y.hasError,R=y.valueChangeHandler,E=y.inputBlurHandler,F=y.reset,H=Q(K.stringMatch.bind(null,C)),L=H.value,B=H.isValid,M=H.hasError,D=H.valueChangeHandler,A=H.inputBlurHandler,I=H.reset,T=!1;O&&k&&B&&C===L&&(T=!0);var q=function(t){v(),F(),I(),e(N.close()),e(m.login(t))},z=function(){o((function(e){return!e}))},U=function(){b((function(e){return!e}))};return Object(P.jsxs)("section",{className:re.a.register,children:[Object(P.jsx)("h3",{className:re.a["register-title"],children:"Sign up into Food Delivery Network"}),Object(P.jsxs)("form",{className:re.a["register-form"],onSubmit:function(e){e.preventDefault(),T&&c(Y.register(p,C,L),q)},children:[Object(P.jsxs)("div",{className:re.a.col,children:[Object(P.jsx)("label",{htmlFor:"email",children:Object(P.jsx)(V.a,{icon:["far","envelope"],className:re.a.icon})}),Object(P.jsx)("input",{className:_?re.a["input-invalid"]:"",type:"email",placeholder:" ",name:"email",id:"email",disabled:a,value:p,onChange:f,onBlur:x}),Object(P.jsx)("span",{className:re.a.placeholder,children:"Email"}),_&&Object(P.jsx)("p",{className:re.a["input-notification"],children:"Please enter a valid email"})]}),Object(P.jsxs)("div",{className:re.a.col,children:[Object(P.jsx)("label",{htmlFor:"password",children:Object(P.jsx)(V.a,{icon:["fas","unlock-alt"],className:re.a.icon})}),Object(P.jsx)("input",{className:w?re.a["input-invalid"]:"",type:s?"password":"text",placeholder:" ",name:"password",id:"password",value:C,onChange:R,onBlur:E}),s?Object(P.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(re.a.icon," ").concat(re.a.eye),onClick:z}):Object(P.jsx)(V.a,{icon:["far","eye"],className:"".concat(re.a.icon," ").concat(re.a.eye),onClick:z}),Object(P.jsx)("span",{className:re.a.placeholder,children:"Password"}),w&&Object(P.jsx)("p",{className:re.a["input-notification"],children:"At least 6 characters"})]}),Object(P.jsxs)("div",{className:re.a.col,children:[Object(P.jsx)("label",{htmlFor:"re-password",children:Object(P.jsx)(V.a,{icon:["fas","unlock-alt"],className:re.a.icon})}),Object(P.jsx)("input",{className:M?re.a["input-invalid"]:"",type:j?"password":"text",placeholder:" ",name:"re-password",id:"re-password",value:L,onChange:D,onBlur:A}),j?Object(P.jsx)(V.a,{icon:["far","eye-slash"],className:"".concat(re.a.icon," ").concat(re.a.eye),onClick:U}):Object(P.jsx)(V.a,{icon:["far","eye"],className:"".concat(re.a.icon," ").concat(re.a.eye),onClick:U}),Object(P.jsx)("span",{className:re.a.placeholder,children:"Re-password"}),M&&Object(P.jsx)("p",{className:re.a["input-notification"],children:"Passwords must match"})]}),Object(P.jsxs)("button",{className:"main-btn ".concat(re.a["main-btn"]),disabled:!T||a,children:["Sign up",a&&Object(P.jsx)("span",{className:re.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]}),Object(P.jsxs)("p",{className:re.a.invite,children:["You already have registration? ",Object(P.jsx)("a",{href:"/login",onClick:function(t){t.preventDefault(),e(N.changeOverlay("login"))},children:"Sign in now!"})]})]})]})},se=Object(u.b)({name:"checkout",initialState:{phone:null,name:null,city:null,address:null},reducers:{save:function(e,t){e.phone=t.payload.phone,e.name=t.payload.name,e.city=t.payload.city,e.address=t.payload.address},clear:function(e){e.phone=null,e.name=null,e.city=null,e.address=null}}}),oe=se.actions,le=se.reducer,de=a(40),ue=a.n(de),je=function(){var e=d((function(e){return e.auth})),t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(s.g)(),o=l(),u=S().sendRequest,j=Object(n.useCallback)((function(){return null}),[]),b=Object(n.useCallback)((function(){u(Y.logout(),j),o(m.logout()),o(oe.clear()),i.push("/")}),[o,i,u,j]);return Object(n.useEffect)((function(){return r(!0),function(){return r(!1)}}),[]),Object(P.jsx)("div",{className:ue.a.popup,children:Object(P.jsxs)("div",{className:ue.a.inner,children:[Object(P.jsx)(A.c,{to:"/profile/".concat(e._id),className:ue.a.link,children:"Profile"}),Object(P.jsx)(A.c,{to:"/profile/".concat(e._id,"/orders"),className:ue.a.link,children:"Orders"}),Object(P.jsx)(A.c,{to:"/profile/".concat(e._id,"/restaurants"),className:ue.a.link,children:"My restaurants"}),c&&Object(P.jsx)("button",{className:ue.a.btn,onClick:b,children:"Sign out"}),!c&&Object(P.jsx)("button",{className:ue.a.btn,children:"Sign out"})]})})},me=a(67),be=a.n(me),he=function(){var e=Object(n.useState)(!1),t=Object(g.a)(e,2),a=t[0],c=t[1],r=Object(n.useRef)(null),i=Object(n.useRef)(null),s=function(e){var t;(null===(t=r.current)||void 0===t?void 0:t.contains(e.target))||c(!1)},o=Object(n.useCallback)((function(e){"path"===e.target.nodeName||"svg"===e.target.nodeName?c((function(e){return!e})):"A"===e.target.nodeName||"BUTTON"===e.target.nodeName?c(!1):c(!0)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}}),[]),Object(P.jsxs)("div",{className:be.a.container,ref:r,onClick:o,children:[Object(P.jsx)("span",{ref:i,children:Object(P.jsx)(V.a,{icon:["far","user-circle"],className:be.a["user-icon"]})}),a&&Object(P.jsx)(je,{})]})},pe=a(30),Oe=a.n(pe),_e=function(){var e=d((function(e){return e.modal})),t=d((function(e){return e.auth})),a=l();return z(e.isOpen),Object(P.jsxs)("header",{className:Oe.a.header,children:[e.isOpen&&"login"===e.overlayName&&Object(P.jsx)(G,{children:Object(P.jsx)(ne,{})}),e.isOpen&&"register"===e.overlayName&&Object(P.jsx)(G,{children:Object(P.jsx)(ie,{})}),Object(P.jsxs)("div",{className:Oe.a.container,children:[Object(P.jsxs)(A.c,{to:"/",className:Oe.a["logo-link"],children:[Object(P.jsx)(V.a,{icon:["fas","utensils"],className:Oe.a.icon}),Object(P.jsx)("h2",{className:Oe.a["logo-link-long"],children:"Food Delivery Network"}),Object(P.jsx)("h2",{className:Oe.a["logo-link-short"],children:"FDN"})]}),Object(P.jsx)("nav",{children:Object(P.jsxs)("ul",{className:Oe.a["nav-list"],children:[Object(P.jsx)("li",{className:Oe.a["nav-list-item"],children:Object(P.jsx)(A.c,{to:t._id?"/profile/".concat(t._id,"/favorites"):"/favorites",children:Object(P.jsx)(V.a,{icon:["far","heart"],className:Oe.a["user-icon"]})})}),Object(P.jsx)("li",{className:Oe.a["nav-list-item"],children:t.email?Object(P.jsx)(he,{}):Object(P.jsx)(V.a,{icon:["far","user-circle"],onClick:function(){a(N.open("login"))},className:Oe.a["user-icon"]})})]})})]})]})},fe=function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_e,{}),Object(P.jsx)("main",{children:e.children}),Object(P.jsx)(q,{})]})},xe=a(34),ge=a.n(xe),ve=function(){return Object(P.jsxs)("section",{className:"".concat(ge.a.benefits," container"),children:[Object(P.jsx)("article",{className:ge.a["benefits-img"],children:Object(P.jsx)("img",{src:"/images/firmbee-com-SpVHcbuKi6E-unsplash.jpg",alt:"all-devices"})}),Object(P.jsxs)("article",{className:ge.a["benefits-content"],children:[Object(P.jsx)("h1",{className:ge.a["benefits-content-title"],children:"Experience our app on all your devices"}),Object(P.jsx)("p",{className:ge.a["benefits-content-subtitle"],children:"Separate design for computer, tablet and phones"}),Object(P.jsx)("p",{className:ge.a["benefits-content-subtitle"],children:"You can find the best food near you with click of your finger"}),Object(P.jsx)("h1",{className:ge.a["benefits-content-title"],children:"Fast delivery"}),Object(P.jsx)("p",{className:ge.a["benefits-content-subtitle"],children:"Delivery is made at your most convenient time"}),Object(P.jsx)("h1",{className:ge.a["benefits-content-title"],children:"Multiple types of payment"}),Object(P.jsx)("p",{className:ge.a["benefits-content-subtitle"],children:"Pay with card, on delivery or even setup your own budget"})]})]})},Ne=a(9),ye=a.n(Ne),Ce=function(){return Object(P.jsxs)("section",{className:"".concat(ye.a.cities," container"),children:[Object(P.jsx)("h2",{className:ye.a["cities-title"],children:"Select your city"}),Object(P.jsxs)("ul",{className:ye.a.list,children:[Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Sofia",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Sofia"}),Object(P.jsx)("img",{src:"/images/Sofia.jpg",alt:"sofia-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Varna",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Varna"}),Object(P.jsx)("img",{src:"/images/Varna.jpg",alt:"varna-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Plovdiv",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Plovdiv"}),Object(P.jsx)("img",{src:"/images/Plovdiv.jpg",alt:"plovdiv-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Burgas",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Burgas"}),Object(P.jsx)("img",{src:"/images/Burgas.jpg",alt:"burgas-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Stara-Zagora",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Stara Zagora"}),Object(P.jsx)("img",{src:"/images/Stara-zagora.jpg",alt:"stara-zagora-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Veliko-Tarnovo",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Veliko Tarnovo"}),Object(P.jsx)("img",{src:"/images/Veliko-tarnovo.jpg",alt:"veliko-tarnovo-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Pleven",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Pleven"}),Object(P.jsx)("img",{src:"/images/Pleven.jpg",alt:"pleven-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Blagoevgrad",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Blagoevgrad"}),Object(P.jsx)("img",{src:"/images/Blagoevgrad.jpg",alt:"blagoevgrad-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Ruse",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Ruse"}),Object(P.jsx)("img",{src:"/images/Ruse.jpg",alt:"ruse-img"})]})})}),Object(P.jsx)("li",{className:ye.a["list-item"],children:Object(P.jsx)("article",{className:ye.a.city,children:Object(P.jsxs)(A.c,{to:"/city/Shumen",children:[Object(P.jsx)("p",{className:ye.a["city-name"],children:"Shumen"}),Object(P.jsx)("img",{src:"/images/Shumen.jpg",alt:"shumen-img"})]})})})]})]})},ke=a(43),we=a.n(ke),Se=function(){return Object(P.jsxs)("section",{className:"".concat(we.a.hero," container"),children:[Object(P.jsxs)("article",{className:we.a["hero-content"],children:[Object(P.jsx)("h1",{className:we.a["hero-content-title"],children:"Order your favorite food"}),Object(P.jsx)("p",{className:we.a["hero-content-subtitle"],children:"Enjoy fast delivery to your address or take it yourself from the restaurant"}),Object(P.jsx)("p",{className:we.a["hero-content-subtitle"],children:"Choose from the richest catalog out in the internet"})]}),Object(P.jsx)("article",{className:we.a["hero-img"],children:Object(P.jsx)("img",{src:"/images/mahyar-motebassem-pGA4zHvpo5E-unsplash.jpg",alt:"food"})})]})},Re=a(17),Ee=a.n(Re),Fe=function(){return Object(P.jsxs)("section",{className:"".concat(Ee.a.kitchens," container"),children:[Object(P.jsx)("h2",{className:Ee.a["kitchens-title"],children:"Popular categories"}),Object(P.jsxs)("ul",{className:Ee.a.list,children:[Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/Bulgarian",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"Bulgarian"}),Object(P.jsx)("img",{src:"images/bulgarian.jpg",alt:"bulgarian-kitchen"})]})}),Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/Italian",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"Italian"}),Object(P.jsx)("img",{src:"images/kitchen-italian.jpg",alt:"italian-kitchen"})]})}),Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/French",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"French"}),Object(P.jsx)("img",{src:"images/kitchen-french.jpg",alt:"french-kitchen"})]})}),Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/Chinese",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"Chinese"}),Object(P.jsx)("img",{src:"images/kitchen-chinese.jpg",alt:"chinese-kitchen"})]})}),Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/Fast Food",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"Fast Food"}),Object(P.jsx)("img",{src:"images/fast-food.jpg",alt:"fast-food"})]})}),Object(P.jsx)("li",{className:Ee.a["list-item"],children:Object(P.jsxs)(A.c,{to:"/main-theme/Vegetarian",className:Ee.a.kitchen,children:[Object(P.jsx)("p",{className:Ee.a["kitchen-name"],children:"Vegetarian"}),Object(P.jsx)("img",{src:"images/vegetarian.jpg",alt:"vegetarian-kitchen"})]})})]})]})},He=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Se,{}),Object(P.jsx)(Ce,{}),Object(P.jsx)(ve,{}),Object(P.jsx)(Fe,{})]})},Le=Object(u.b)({name:"restaurant",initialState:{_id:"",categories:[],cities:[],image:{url:"",object_id:""},mainTheme:"",name:"",owner:"",workDays:[],workHours:[],rating:0,ratingsCount:0,recipes:[]},reducers:{setRestaurant:function(e,t){e._id=t.payload._id,e.categories=t.payload.categories,e.cities=t.payload.cities,e.image=t.payload.image,e.mainTheme=t.payload.mainTheme,e.name=t.payload.name,e.owner=t.payload.owner,e.workDays=t.payload.workDays,e.workHours=t.payload.workHours,e.rating=t.payload.rating,e.ratingsCount=t.payload.ratingsCount,e.recipes=t.payload.recipes},updateRating:function(e,t){e.ratingsCount=t.payload.ratingsCount,e.rating=t.payload.rating},clearRestaurant:function(e){e._id="",e.categories=[],e.cities=[],e.image={url:"",object_id:""},e.mainTheme="",e.name="",e.owner="",e.workDays=[],e.workHours=[],e.rating=0,e.ratingsCount=0,e.recipes=[]}}}),Be=Le.actions,Me=Le.reducer,De=function(){return[{name:"Sofia",_id:0},{name:"Varna",_id:1},{name:"Burgas",_id:2},{name:"Plovdiv",_id:3},{name:"Shumen",_id:4},{name:"Stara-Zagora",_id:5},{name:"Blagoevgrad",_id:6},{name:"Veliko-Tarnovo",_id:7},{name:"Pleven",_id:8},{name:"Ruse",_id:9}]},Ve="https://food-delivery-network.herokuapp.com/api",Ae={add:function(e){return{url:"".concat(Ve,"/restaurant/create"),method:"POST",body:e}},edit:function(e,t){return{url:"".concat(Ve,"/restaurant/").concat(e),method:"PUT",body:t}},deleteRestaurant:function(e){return{url:"".concat(Ve,"/restaurant/").concat(e),method:"DELETE"}},getById:function(e){return{url:"".concat(Ve,"/restaurant/").concat(e)}},getByOwner:function(){return{url:"".concat(Ve,"/restaurant/by-owner")}},getByCity:function(e,t){return{url:"".concat(Ve,"/restaurant?city=").concat(e,"&").concat(t)}},getByTheme:function(e,t){return{url:"".concat(Ve,"/restaurant?mainTheme=").concat(e,"&").concat(t)}},getFavorites:function(e){return{url:"".concat(Ve,"/restaurant/favorites?").concat(e)}},addComment:function(e,t,a,n){return{url:"".concat(Ve,"/restaurant/").concat(e,"/comment"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,comment:a,rating:n})}},deleteComment:function(e,t){return{url:"".concat(Ve,"/restaurant/").concat(e,"/comment/").concat(t),method:"DELETE"}},getComments:function(e,t){return{url:"".concat(Ve,"/restaurant/").concat(e,"/comment?page=").concat(t)}},editComment:function(e,t,a,n,c){return{url:"".concat(Ve,"/restaurant/").concat(e,"/comment/").concat(t),method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,comment:n,rating:c})}}},Ie=a(22),Te=a(47),Pe=a.n(Te),qe=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],l=s[1],d=Object(n.useRef)(null),u=Object(n.useRef)(null),j=o&&0===e.selected.length,m=Object(n.useCallback)((function(e){var t,a=e.target;(null===(t=d.current)||void 0===t?void 0:t.contains(a))||r(!1)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("click",m,{capture:!0}),function(){return document.removeEventListener("click",m,{capture:!0})}}),[m]),Object(P.jsxs)("div",{ref:d,className:"".concat(Pe.a.select," ").concat(j?Pe.a["select--invalid"]:""),onClick:function(e){var t=e.target;t!==d.current&&t!==u.current||(r((function(e){return!e})),l(!0))},children:[Object(P.jsx)("div",{ref:u,className:Pe.a.text,children:e.selected.map((function(e){return e.name})).join(", ")||e.text}),c&&!e.disabled&&Object(P.jsx)("ul",{className:Pe.a.list,children:e.inputStrings.map((function(t){return Object(P.jsxs)("li",{children:[Object(P.jsx)("input",{onChange:function(){return function(t){var a=e.inputStrings.find((function(e){return e._id===t})),n=e.selected.find((function(e){return e._id===t})),c=e.selected.indexOf(n);-1!==c?e.setStateHandler((function(e){var t=e.slice();return t.splice(c,1),t})):e.setStateHandler((function(e){return[a].concat(Object(Ie.a)(e))}))}(t._id)},id:t.name,type:"checkbox",checked:Boolean(e.selected.find((function(e){return e._id===t._id})))}),Object(P.jsx)("label",{htmlFor:t.name,children:t.name})]},t._id)}))}),j&&Object(P.jsx)("p",{className:Pe.a["input-notification"],children:"At least one city is required!"})]})},ze=a(10),Ue=a.n(ze),Je=function(e){var t=e.edit,a=l(),c=d((function(e){return e.restaurant})),r=De(),i=Object(n.useState)([]),o=Object(g.a)(i,2),u=o[0],j=o[1],m=Object(n.useState)(),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useState)(!0),_=Object(g.a)(O,2),f=_[0],x=_[1],v=S(),N=v.isLoading,y=v.sendRequest,C=Object(s.g)(),k=Q(K.minLength.bind(null,6)),w=k.value,R=k.isValid,E=k.hasError,F=k.valueChangeHandler,H=k.inputBlurHandler,L=k.reset,B=k.setValue,M=Q(K.minLength.bind(null,6)),D=M.value,V=M.isValid,A=M.hasError,I=M.valueChangeHandler,T=M.inputBlurHandler,q=M.reset,z=M.setValue,U=Q(K.minStringCount.bind(null,1)),J=U.value,W=U.isValid,G=U.hasError,Z=U.valueChangeHandler,Y=U.inputBlurHandler,X=U.reset,$=U.setValue,te=Q(K.workTime),ae=te.value,ne=te.isValid,ce=te.hasError,re=te.valueChangeHandler,ie=te.inputBlurHandler,se=te.reset,oe=te.setValue;Object(n.useEffect)((function(){t&&(B(c.name),z(c.mainTheme),$(c.categories.join(",")),oe("".concat(c.workDays.join("-")," ").concat(c.workHours.join("-"))),j(c.cities))}),[t,c,B,z,$,oe]);var le=!1;R&&V&&W&&ne&&f&&(le=!0);var de=function(e){L(),q(),X(),se(),t&&a(Be.setRestaurant(e)),C.replace("/restaurant/".concat(e._id))};return Object(P.jsxs)("section",{className:"".concat(Ue.a["create-restaurant"]," container"),children:[!t&&Object(P.jsx)("h2",{children:"Lets create together the best restaurant"}),t&&Object(P.jsx)("h2",{children:"Edit restaurant"}),Object(P.jsxs)("form",{className:Ue.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),h||t){if(le){var a=new FormData;h?a.append("Restaurant Cover",h,h.name):a.append("Restaurant Cover",JSON.stringify(c.image)),a.append("name",w),a.append("mainTheme",D),a.append("categories",J),a.append("workTime",ae),a.append("cities",JSON.stringify(u));var n=Ae.add(a);t&&(n=Ae.edit(c._id,a)),y(n,de)}}else x(!1)},children:[Object(P.jsxs)("div",{className:Ue.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ue.a["create-restaurant-form-input"]," ").concat(E?Ue.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:N,value:w,onChange:F,onBlur:H}),Object(P.jsx)("span",{className:Ue.a.placeholder,children:"Name of the restaurant"}),E&&Object(P.jsx)("p",{className:Ue.a["input-notification"],children:"Name must be at least 6 characters long!"})]}),Object(P.jsxs)("div",{className:Ue.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ue.a["create-restaurant-form-input"]," ").concat(A?Ue.a["input--invalid"]:""),type:"text",placeholder:" ",name:"theme",disabled:N,value:D,onChange:I,onBlur:T}),Object(P.jsx)("span",{className:Ue.a.placeholder,children:"Main theme of the restaurant"}),A&&Object(P.jsx)("p",{className:Ue.a["input-notification"],children:"Main theme must be at least 6 characters long!"})]}),Object(P.jsxs)("div",{className:Ue.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ue.a["create-restaurant-form-input"]," ").concat(G?Ue.a["input--invalid"]:""),type:"text",placeholder:" ",name:"categories",disabled:N,value:J,onChange:Z,onBlur:Y}),Object(P.jsx)("span",{className:Ue.a.placeholder,children:'Categories separated by ","'}),G&&Object(P.jsx)("p",{className:Ue.a["input-notification"],children:"At least 1 category is required!"})]}),Object(P.jsxs)("div",{className:Ue.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ue.a["create-restaurant-form-input"]," ").concat(ce?Ue.a["input--invalid"]:""),type:"text",placeholder:" ",name:"work-time",disabled:N,value:ae,onChange:re,onBlur:ie}),Object(P.jsx)("span",{className:Ue.a.placeholder,children:"Monday-Friday 10:00-20:00"}),ce&&Object(P.jsx)("p",{className:Ue.a["input-notification"],children:"Please fill working time in the correct format!"})]}),Object(P.jsxs)("div",{className:Ue.a.col,children:[Object(P.jsx)("label",{className:"".concat(Ue.a["file-label"]," ").concat(f?"":Ue.a["file-label--invalid"]),htmlFor:"image",children:h?"File selected":"Upload restaurant cover image"}),Object(P.jsx)("input",{className:Ue.a["file-btn"],id:"image",type:"file",disabled:N,name:"image",onChange:function(e){var t,a=e.target;0!==(null===(t=a.files)||void 0===t?void 0:t.length)&&(p(a.files[0]),x(!0))}}),!f&&Object(P.jsx)("p",{className:Ue.a["input-notification"],children:"Restaurant cover image is required!"})]}),Object(P.jsx)("div",{className:Ue.a.col,children:Object(P.jsx)(qe,{text:"Select cities",inputStrings:r,setStateHandler:j,selected:u,disabled:N})}),Object(P.jsx)("div",{className:Ue.a.col,children:Object(P.jsxs)("button",{className:"main-btn create-btn ".concat(Ue.a["create-restaurant-btn"]),disabled:!le||N,children:[t?"Edit":"Create",N&&Object(P.jsx)("span",{className:Ue.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]})})]})]})},We=a(92),Ge=a(35),Qe=a.n(Ge),Ke=function(e){var t=e.links,a=Object(s.g)(),c=Object(n.useState)(!1),r=Object(g.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!1),d=Object(g.a)(l,2),u=d[0],j=d[1],m=Object(n.useState)(!1),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useRef)(null),_=Object(n.useRef)(null),f=Object(n.useCallback)((function(){var e=O.current,t=_.current;if(e&&t){var a=getComputedStyle(e),n=Number(a.top.substring(0,a.top.length-2));o(n===t.getBoundingClientRect().top&&window.scrollY>0)}}),[]),x=Object(n.useCallback)((function(){var e=_.current;e.scrollWidth-e.clientWidth>0?(p(!0),j(!1),e.scrollLeft=0):p(!1)}),[]);Object(n.useEffect)((function(){return x(),a.listen((function(){window.scrollTo({top:0})})),window.addEventListener("resize",x),window.addEventListener("scroll",f),function(){window.removeEventListener("scroll",f),window.removeEventListener("resize",x)}}),[f,x,a]);return Object(P.jsx)("nav",{ref:O,className:"".concat(Qe.a.nav," ").concat(i?Qe.a["nav--scrolled"]:""),children:Object(P.jsxs)("ul",{ref:_,onScroll:function(){j(_.current.scrollLeft>0)},className:"container ".concat(Qe.a.list),children:[u&&Object(P.jsx)("div",{className:Qe.a["btn-wrapper"],children:Object(P.jsx)("button",{onClick:function(){var e=_.current;e.scrollLeft=e.scrollLeft-100,e.scrollLeft<120&&(e.scrollLeft=0),e.scrollWidth-e.clientWidth>0&&p(!0)},className:Qe.a["left-arrow"],children:"<"})}),t.map((function(e){return Object(P.jsx)("li",{onClick:function(){return window.scroll({top:0})},children:Object(P.jsx)(A.c,{activeClassName:Qe.a.active,className:Qe.a["list-item"],to:e.url,exact:!0,children:e.text})},Object(We.a)())})),h&&Object(P.jsx)("div",{className:"".concat(Qe.a["btn-wrapper"]," ").concat(Qe.a["btn-wrapper--right"]),children:Object(P.jsx)("button",{onClick:function(){var e=_.current,t=O.current;e.scrollLeft=e.scrollLeft+100,e.scrollWidth-t.clientWidth-e.scrollLeft<=120&&(p(!1),e.scrollLeft=e.scrollLeft+9999)},className:Qe.a["right-arrow"],children:">"})})]})})},Ze=a(6),Ye=a.n(Ze),Xe=function(e){var t=e.edit,a=Object(n.useState)(t),c=Object(g.a)(a,2),r=c[0],i=c[1],s=d((function(e){return e.auth})),o=l(),u=S(),j=u.isLoading,b=u.error,h=u.sendRequest,p=Q(K.minLength.bind(null,4)),O=p.value,_=p.hasError,f=p.isValid,x=p.inputBlurHandler,v=p.valueChangeHandler,N=p.setValue,y=p.reset,C=Q(K.minLength.bind(null,4)),k=C.value,w=C.hasError,R=C.isValid,E=C.inputBlurHandler,F=C.valueChangeHandler,H=C.setValue,L=C.reset,B=Q(K.isEmail),M=B.value,D=B.hasError,V=B.isValid,A=B.inputBlurHandler,I=B.valueChangeHandler,T=B.setValue,q=B.reset,z=Q(K.isPhone),U=z.value,J=z.hasError,W=z.isValid,G=z.inputBlurHandler,Z=z.valueChangeHandler,Y=z.setValue,X=z.reset,$=Q(K.minLength.bind(null,4)),te=$.value,ae=$.hasError,ne=$.isValid,ce=$.inputBlurHandler,re=$.valueChangeHandler,ie=$.setValue,se=$.reset,oe=Q(K.minLength.bind(null,4)),le=oe.value,de=oe.hasError,ue=oe.isValid,je=oe.inputBlurHandler,me=oe.valueChangeHandler,be=oe.setValue,he=oe.reset,pe=Object(n.useCallback)((function(){var e;N(s.firstName||""),H(s.lastName||""),T(s.email||""),Y((null===(e=s.phone)||void 0===e?void 0:e.toString())||""),ie(s.city||""),be(s.address||"")}),[N,H,T,Y,ie,be,s]);Object(n.useEffect)((function(){pe()}),[pe]);var Oe=function(){i(!0)},_e=function(e){o(m.login(e)),i(!1)},fe=f&&R&&V&&W&&ne&&ue;return Object(P.jsxs)("section",{className:"".concat(Ye.a["create-restaurant"]," container"),children:[Object(P.jsxs)("h2",{children:[s.firstName&&s.lastName?"".concat(s.firstName," ").concat(s.lastName):s.email,"`s profile"]}),b&&Object(P.jsx)("div",{children:b}),Object(P.jsxs)("form",{className:Ye.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),fe){var t={firstName:O,lastName:k,email:M,phone:U,city:te,address:le};h({url:"http://localhost:3030/api/user/"+s._id,method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},_e)}},children:[Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(_?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"first-name",disabled:j||!r,value:O,onChange:v,onBlur:x}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"First name"}),_&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"First name must be at least 4 characters long!"})]}),Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(w?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"last-name",disabled:j||!r,value:k,onChange:F,onBlur:E}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"Last name"}),w&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"Last name must be at least 4 characters long!"})]}),Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(D?Ye.a["input--invalid"]:""),type:"email",placeholder:" ",name:"email",disabled:j||!r,value:M,onChange:I,onBlur:A}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"Email"}),D&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"Please enter a valid email!"})]}),Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(J?Ye.a["input--invalid"]:""),type:"tel",placeholder:" ",name:"phone",disabled:j||!r,value:U,onChange:Z,onBlur:G}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"Phone number"}),J&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"Please enter a valid phone number!"})]}),Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(ae?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"city",disabled:j||!r,value:te,onChange:re,onBlur:ce}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"City"}),ae&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"City must be at least 4 characters long!"})]}),Object(P.jsxs)("div",{className:Ye.a.col,children:[Object(P.jsx)("input",{className:"".concat(Ye.a["create-restaurant-form-input"]," ").concat(de?Ye.a["input--invalid"]:""),type:"text",placeholder:" ",name:"address",disabled:j||!r,value:le,onChange:me,onBlur:je}),Object(P.jsx)("span",{className:Ye.a.placeholder,children:"Address"}),de&&Object(P.jsx)("p",{className:Ye.a["input-notification"],children:"Address must be at least 4 characters long!"})]}),!r&&Object(P.jsx)("div",{className:"".concat(Ye.a["btn-container"]," ").concat(Ye.a.col),children:Object(P.jsxs)("button",{className:"main-btn create-btn ".concat(Ye.a["btn-container-btn"]),onClick:Oe,disabled:j,children:["Edit",j&&Object(P.jsx)("span",{className:Ye.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]})}),r&&Object(P.jsxs)("div",{className:"".concat(Ye.a["btn-container"]," ").concat(Ye.a.col),children:[Object(P.jsxs)("button",{className:"main-btn ".concat(Ye.a["btn-container-btn"]),onClick:Oe,disabled:!fe||j,children:["Save",j&&Object(P.jsx)("span",{className:Ye.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]}),Object(P.jsx)("button",{className:"main-btn ".concat(Ye.a["btn-container-btn"]," ").concat(Ye.a["btn-container-btn--cancel"]),onClick:function(){j||(i(!1),y(),L(),X(),q(),se(),he(),pe())},children:"Cancel"})]})]})]})},$e=function(e){return Object.entries(e).map((function(e){var t=Object(g.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&")},et=function(e){return e.length>0?e.split("?")[1].split("&").reduce((function(e,t){var a=t.split("="),n=Object(g.a)(a,2),c=n[0],r=n[1];return e[c]=r,e}),{}):{}},tt=a(68),at=a.n(tt),nt=function(){var e=Object(s.g)(),t=et(e.location.search);return Object(P.jsx)("div",{className:at.a.sort,children:Object(P.jsxs)("select",{className:at.a["sort-select"],name:"sort",id:"sort",value:t.sort||"rating-desc",onChange:function(a){t.sort=a.currentTarget.value,e.push("".concat(e.location.pathname,"?").concat($e(t)))},children:[Object(P.jsx)("option",{value:"rating-desc",children:"Rating desc"}),Object(P.jsx)("option",{value:"rating-asc",children:"Rating asc"}),Object(P.jsx)("option",{value:"ratingsCount-desc",children:"Comments count desc"}),Object(P.jsx)("option",{value:"ratingsCount-asc",children:"Comments count asc"})]})})},ct=a(48),rt=a.n(ct),it=function(e){var t=l(),a=S(),n=a.sendRequest,c=a.isLoading,r=Object(s.g)(),i=function(){t(N.close()),r.replace("/")};return Object(P.jsxs)("section",{className:rt.a["delete-restaurant"],children:[!c&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h3",{className:rt.a["delete-restaurant-title"],children:["Confirm you want to delete ",e.name,"?"]}),Object(P.jsx)("button",{onClick:function(){n(Ae.deleteRestaurant(e._id),i)},className:"".concat(rt.a["delete-restaurant-btn"]," ").concat(rt.a["delete-restaurant-btn--danger"]),children:"Delete"}),Object(P.jsx)("button",{onClick:function(){t(N.close())},className:rt.a["delete-restaurant-btn"],children:"Cancel"})]}),c&&Object(P.jsx)(ee,{})]})},st=a(29),ot=a.n(st),lt=a(72),dt=a.n(lt),ut=function(e){var t=e.children,a=e.url,c=Object(n.useState)(!0),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)(!0),l=Object(g.a)(o,2),d=l[0],u=l[1],j=function(){var e=Object(x.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new Image;n.src=t,n.onload=function(){return e(null)},n.onerror=function(){return a({message:"Failed to load image!"})}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(x.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i&&e(),function(){s(!1)}}),[a,i]),Object(P.jsxs)(P.Fragment,{children:[d&&Object(P.jsx)("div",{className:dt.a["loader-container"],children:Object(P.jsx)(ee,{size:"medium"})}),!d&&t]})},jt=function(e){var t=e.restaurant,a=d((function(e){return e.modal})),n=d((function(e){return e.auth})),c=l(),r=n._id===t.owner,i=Object(s.g)();return Object(P.jsxs)("article",{className:ot.a.restaurant,children:[a.isOpen&&a.overlayName==="delete-restaurant-".concat(t._id)&&Object(P.jsx)(G,{children:Object(P.jsx)(it,{_id:t._id,name:t.name})}),Object(P.jsxs)(A.c,{to:"/restaurant/".concat(t._id),children:[Object(P.jsx)("article",{className:ot.a["restaurant-image-wrapper"],children:Object(P.jsx)(ut,{url:t.image.url,children:Object(P.jsx)("img",{className:ot.a["restaurant-img-wrapper-img"],src:t.image.url,alt:"".concat(t.name," restaurant")})})}),Object(P.jsxs)("article",{className:ot.a["restaurant-title-wrapper"],children:[Object(P.jsx)("h2",{className:ot.a["restaurant-title"],children:t.name}),Object(P.jsxs)("p",{className:ot.a["restaurant-score"],children:[Object(P.jsx)(V.a,{icon:["fas","star"],className:"".concat(ot.a["restaurant-score-icon"]," ").concat(0===t.rating?ot.a["restaurant-score-icon--gray"]:"")}),0!==t.rating&&Object(P.jsxs)("span",{children:[t.rating,"(",t.ratingsCount,")"]})]})]}),Object(P.jsxs)("article",{className:ot.a["restaurant-text-wrapper"],children:[Object(P.jsxs)("p",{className:ot.a.description,children:[t.mainTheme,", ",t.categories[0]]}),r&&Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{onClick:function(e){e.preventDefault(),i.push("/restaurant/".concat(t._id,"/dashboard"))},children:Object(P.jsx)(V.a,{icon:["fas","tools"],className:ot.a.icon})}),Object(P.jsx)("span",{onClick:function(e){e.preventDefault(),c(N.open("delete-restaurant-".concat(t._id)))},children:Object(P.jsx)(V.a,{icon:["fas","trash"],className:ot.a.icon})})]})]})]})]})},mt=a(69),bt=a.n(mt),ht=function(e){var t=e.restaurants;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(nt,{}),Object(P.jsx)("ul",{className:"".concat(bt.a.list),children:t.map((function(e){return Object(P.jsx)("li",{className:bt.a["list-item"],children:Object(P.jsx)(jt,{restaurant:e})},e._id)}))})]})},pt=a(73),Ot=a.n(pt),_t=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],r=S(),i=r.sendRequest,s=r.isLoading,o=function(e){c(e)};return Object(n.useEffect)((function(){i(Ae.getByOwner(),o)}),[i]),Object(P.jsxs)("section",{className:"container",children:[!s&&a.length>0&&Object(P.jsx)(ht,{restaurants:a}),!s&&0===a.length&&Object(P.jsx)("h2",{className:Ot.a.title,children:"No restaurants yet!"}),s&&Object(P.jsx)(ee,{})]})},ft="https://food-delivery-network.herokuapp.com/api",xt={add:function(e){return{url:"".concat(ft,"/order"),method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},getOrders:function(e,t,a){return{url:"".concat(ft,"/order/").concat(e,"/").concat(t,"?page=").concat(a)}},deleteOrder:function(e){return{url:"".concat(ft,"/order/").concat(e),method:"DELETE"}},edit:function(e,t){return{url:"".concat(ft,"/order/").concat(e),method:"PUT",body:JSON.stringify({status:t}),headers:{"Content-Type":"application/json"}}},getOrdersCountByCategoryAndPeriod:function(e,t){return{url:"".concat(ft,"/order/").concat(e,"/categories/count?period=").concat(t)}},getSalesByPeriod:function(e,t){return{url:"".concat(ft,"/order/").concat(e,"/sales-volumes?period=").concat(t)}},getOrdersByOwner:function(e){return{url:"".concat(ft,"/order/my-orders?page=").concat(e)}}},gt=a(44),vt=a.n(gt),Nt=function(e){var t=e.totalCount,a=e.shownCount,c=e.page,r=e.isLoading,i=Object(s.g)(),o=Object(n.useState)({}),l=Object(g.a)(o,2),d=l[0],u=l[1],j=Math.ceil(t/a);Object(n.useEffect)((function(){i.location.search&&u(et(i.location.search))}),[i.location.search]);var m=function(){var e=$e(d);i.push("".concat(i.location.pathname,"?").concat(e))};return Object(P.jsxs)("div",{className:vt.a.paginator,children:[Object(P.jsx)("button",{className:vt.a["paginator-btn"],onClick:function(){d.page="1",m()},disabled:1===c||r,children:"<<"}),Object(P.jsx)("button",{className:vt.a["paginator-btn"],onClick:function(){var e=Number(d.page)||1;d.page=(e-1).toString(),m()},disabled:1===c||r,children:"-"}),Object(P.jsx)("span",{className:vt.a["paginator-page"],children:c}),Object(P.jsx)("button",{className:vt.a["paginator-btn"],onClick:function(){var e=Number(d.page)||1;d.page=(e+1).toString(),m()},disabled:j===c||r,children:"+"}),Object(P.jsx)("button",{className:vt.a["paginator-btn"],onClick:function(){d.page=j.toString(),m()},disabled:j===c||r,children:">>"})]})},yt=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,c=t.getFullYear();return"".concat(a,"/").concat(n,"/").concat(c)},Ct=a(19),kt=a.n(Ct),wt=function(e){var t=e.order,a=e.onSuccessDelete,c=e.onSuccessChangeStatus,r=Object(n.useState)(""),i=Object(g.a)(r,2),s=i[0],o=i[1],u=Object(n.useState)(!1),j=Object(g.a)(u,2),m=j[0],b=j[1],h=S(),p=h.sendRequest,O=h.isLoading,_=l(),f=d((function(e){return e.auth})),x=d((function(e){return e.restaurant})),v=yt(t.date),y=t.items.reduce((function(e,t){return e+t.price*t.quantity}),0),C=y>10?"Free":"$3.99",k=y>10?(y+3.99).toFixed(2):y.toFixed(2),w=f._id===x.owner;Object(n.useEffect)((function(){return b(!0),function(){b(!1),_(N.close())}}),[_]);var R=function(){m&&(_(N.close()),"delete"===s?a():c(),o(""))};return Object(P.jsxs)("article",{className:kt.a.modal,children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("h3",{className:kt.a["order-title"],children:["Order from:",Object(P.jsx)(A.c,{to:"/restaurant/".concat(t.restaurant._id),className:kt.a["order-link"],children:t.restaurant.name})]}),Object(P.jsx)("p",{className:kt.a["order-date"],children:v})]}),Object(P.jsx)("ul",{className:kt.a["order-list"],children:t.items.map((function(e){return Object(P.jsxs)("li",{className:kt.a["order-list-item"],children:[Object(P.jsxs)("p",{className:kt.a["order-list-item-text"],children:[e.item.name," (",e.item.weight,"g) - ",e.price," x ",e.quantity]}),Object(P.jsxs)("span",{children:["$",e.price*e.quantity]})]},e.item._id)}))}),Object(P.jsxs)("article",{className:kt.a["order-summary"],children:[Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Order:"}),Object(P.jsxs)("span",{children:["$",y.toFixed(2)]})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Delivery:"}),Object(P.jsx)("span",{children:C})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Total:"}),Object(P.jsxs)("span",{children:["$",k]})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Status:"}),Object(P.jsx)("span",{className:"pending"===t.status?kt.a["status-red"]:kt.a.status,children:t.status})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Address:"}),Object(P.jsxs)("span",{children:[t.city,", ",t.address]})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Customer:"}),Object(P.jsx)("span",{children:t.name})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Contact phone:"}),Object(P.jsx)("span",{children:9===t.phone.toString().length?"+359".concat(t.phone):t.phone})]})]}),w&&!s&&Object(P.jsxs)("article",{className:kt.a["admin-controls"],children:[Object(P.jsx)("button",{onClick:function(){o("status")},className:kt.a["admin-controls-control"],children:"Change status"}),Object(P.jsx)("button",{onClick:function(){o("delete")},className:"".concat(kt.a["admin-controls-control"]," ").concat(kt.a["admin-controls-control--red"]),children:"Delete"})]}),w&&s&&!O&&Object(P.jsxs)("article",{className:kt.a.delete,children:[Object(P.jsx)("h4",{className:kt.a["delete-title"],children:"Are you sure?"}),Object(P.jsx)("button",{className:"".concat(kt.a["admin-controls-control--red"]," ").concat(kt.a["admin-controls-control"]),onClick:"delete"===s?function(){p(xt.deleteOrder(t._id),R)}:function(){var e="pending"===t.status?"completed":"pending";p(xt.edit(t._id,e),R)},children:"delete"===s?"Delete":"Change"}),Object(P.jsx)("button",{className:kt.a["admin-controls-control"],onClick:function(){o("")},children:"Cancel"})]}),w&&s&&O&&Object(P.jsx)("div",{className:kt.a["loader-container"],children:Object(P.jsx)(ee,{size:"medium"})})]})},St=a(49),Rt=a.n(St),Et=function(e){var t=e.order,a=e.onSuccessDelete,n=e.onSuccessChangeStatus,c=l(),r=d((function(e){return e.modal})),i=yt(t.date);return Object(P.jsxs)(P.Fragment,{children:[r.isOpen&&r.overlayName==="order-".concat(t._id)&&Object(P.jsx)(G,{children:Object(P.jsx)(wt,{order:t,onSuccessDelete:a,onSuccessChangeStatus:n})}),Object(P.jsxs)("article",{onClick:function(e){"A"!==e.target.tagName&&c(N.open("order-".concat(t._id)))},className:Rt.a.order,children:[Object(P.jsxs)("div",{children:[Object(P.jsxs)("h3",{className:Rt.a["order-title"],children:["Order from:",Object(P.jsx)(A.c,{to:"/restaurant/".concat(t.restaurant._id),className:Rt.a["order-link"],children:t.restaurant.name})]}),Object(P.jsx)("p",{className:Rt.a["order-date"],children:i})]}),Object(P.jsx)("div",{children:Object(P.jsxs)("p",{className:Rt.a["order-price"],children:["$",t.items.reduce((function(e,t){return e+t.price*t.quantity}),0).toFixed(2)]})})]})]})},Ft=a(61),Ht=a.n(Ft),Lt=function(e){var t=e.status,a=Object(n.useState)([]),c=Object(g.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(1),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)(0),b=Object(g.a)(m,2),h=b[0],p=b[1],O=S(),_=O.sendRequest,f=O.isLoading,x=Object(s.g)(),v=d((function(e){return e.restaurant}));Object(n.useEffect)((function(){j(1),p(0),i([])}),[t]),Object(n.useEffect)((function(){if(x.location.search){var e=et(x.location.search);j(Number(e.page)||1)}}),[x.location.search]);var N=Object(n.useCallback)((function(e){i(e.orders),p(e.count)}),[]),y=Object(n.useCallback)((function(){var e=xt.getOrders(v._id,t,u);"my-orders"===t&&(e=xt.getOrdersByOwner(u)),_(e,N)}),[_,v._id,t,N,u]);Object(n.useEffect)((function(){y()}),[y]);var C=function(){y()},k=function(){y()};return Object(P.jsxs)("div",{className:"container",children:[Object(P.jsxs)("ul",{className:Ht.a.list,children:[f&&Object(P.jsx)(ee,{}),!f&&r.length>0&&r.map((function(e){return Object(P.jsx)("li",{className:Ht.a["list-item"],children:Object(P.jsx)(Et,{order:e,onSuccessDelete:C,onSuccessChangeStatus:k})},e._id)})),!f&&0===r.length&&Object(P.jsx)("h2",{className:Ht.a["no-orders-title"],children:"No orders yet!"})]}),h>20&&Object(P.jsx)(Nt,{totalCount:h,shownCount:20,page:u,isLoading:f})]})},Bt=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],r=S(),i=r.sendRequest,s=r.isLoading,o=d((function(e){return e.auth})),l=Object(n.useCallback)((function(e){c(e)}),[]);return Object(n.useEffect)((function(){var e=o.favorites.join("&");i(Ae.getFavorites(e),l)}),[i,o.favorites,l]),Object(P.jsxs)("div",{className:"container",children:[s&&Object(P.jsx)(ee,{}),!s&&a.length>0&&Object(P.jsx)(ht,{restaurants:a}),!s&&0===a.length&&Object(P.jsx)("h2",{children:"No favorite restaurants yet!"})]})},Mt=function(){var e=d((function(e){return e.auth})),t=[{url:"/profile/".concat(e._id),text:"Profile"},{url:"/profile/".concat(e._id,"/create-restaurant"),text:"Create Restaurant"},{url:"/profile/".concat(e._id,"/restaurants"),text:"My restaurants"},{url:"/profile/".concat(e._id,"/favorites"),text:"Favorite restaurants"},{url:"/profile/".concat(e._id,"/orders"),text:"My orders"}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ke,{links:t}),Object(P.jsxs)(s.d,{children:[Object(P.jsx)(s.b,{path:"/profile/:id",exact:!0,children:Object(P.jsx)(Xe,{edit:!1})}),Object(P.jsx)(s.b,{path:"/profile/:id/create-restaurant",children:Object(P.jsx)(Je,{edit:!1})}),Object(P.jsx)(s.b,{path:"/profile/:id/orders",children:Object(P.jsx)(Lt,{status:"my-orders"})}),Object(P.jsx)(s.b,{path:"/profile/:id/restaurants",children:Object(P.jsx)(_t,{})}),Object(P.jsx)(s.b,{path:"/profile/:id/favorites",children:Object(P.jsx)(Bt,{})})]})]})},Dt="https://food-delivery-network.herokuapp.com/api",Vt={add:function(e,t){return{url:"".concat(Dt,"/recipe/").concat(e,"/add-recipe"),method:"POST",body:t}},edit:function(e,t,a){return{url:"".concat(Dt,"/recipe/").concat(e,"/").concat(t),method:"PUT",body:a}},deleteRecipe:function(e,t){return{url:"".concat(Dt,"/recipe/").concat(e,"/").concat(t),method:"DELETE"}}},At=a(7),It=a.n(At),Tt=function(e){var t=e.recipe,a=d((function(e){return e.restaurant})),c=l(),r=S(),i=r.isLoading,s=r.sendRequest,o=Object(n.useState)(),u=Object(g.a)(o,2),j=u[0],m=u[1],b=Object(n.useState)(!0),h=Object(g.a)(b,2),p=h[0],O=h[1],_=Q(K.minLength.bind(null,5)),f=_.value,x=_.hasError,v=_.isValid,y=_.inputBlurHandler,C=_.valueChangeHandler,k=_.setValue,w=Q(K.minStringCount.bind(null,3)),R=w.value,E=w.hasError,F=w.isValid,H=w.inputBlurHandler,L=w.valueChangeHandler,B=w.setValue,M=Q(K.minLength.bind(null,1)),D=M.value,V=M.hasError,A=M.isValid,I=M.inputBlurHandler,T=M.valueChangeHandler,q=M.setValue,z=Q(K.minLength.bind(null,1)),U=z.value,J=z.hasError,W=z.isValid,G=z.inputBlurHandler,Z=z.valueChangeHandler,Y=z.setValue,X=Q(K.minLength.bind(null,1)),$=X.value,te=X.isValid,ae=X.hasError,ne=X.inputBlurHandler,ce=X.valueChangeHandler,re=X.setValue,ie=v&&F&&A&&te&&W;Object(n.useEffect)((function(){t&&(k(t.name),B(t.ingredients.join(",")),q(t.price.toString()),Y(t.weight.toString()),re(t.category))}),[t,k,B,q,Y,re]);var se=function(e){c(Be.setRestaurant(e)),c(N.close())};return Object(P.jsxs)("section",{className:"".concat(It.a["add-recipe"]," container"),children:[Object(P.jsx)("h2",{children:"Add recipe"}),Object(P.jsxs)("form",{className:It.a["create-restaurant-form"],onSubmit:function(e){if(e.preventDefault(),j||t){if(ie){var n=new FormData;j?n.append("Recipe image",j,j.name):n.append("Recipe image",JSON.stringify(t.image)),n.append("name",f),n.append("ingredients",R),n.append("price",D),n.append("category",$),n.append("weight",U);var c=Vt.add(a._id,n);t&&(c=Vt.edit(t._id,a._id,n)),s(c,se)}}else O(!1)},children:[Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsx)("input",{className:"".concat(It.a["create-restaurant-form-input"]," ").concat(x?It.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:i,value:f,onChange:C,onBlur:y}),Object(P.jsx)("span",{className:It.a.placeholder,children:"Recipe name"}),x&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"At least 5 characters long!"})]}),Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsx)("input",{className:"".concat(It.a["create-restaurant-form-input"]," ").concat(E?It.a["input--invalid"]:""),type:"text",placeholder:" ",name:"name",disabled:i,value:R,onChange:L,onBlur:H}),Object(P.jsx)("span",{className:It.a.placeholder,children:'Ingredients separated by ","'}),E&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"At least 3!"})]}),Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsx)("input",{className:"".concat(It.a["create-restaurant-form-input"]," ").concat(J?It.a["input--invalid"]:""),type:"number",placeholder:" ",name:"name",disabled:i,value:U,onChange:Z,onBlur:G}),Object(P.jsx)("span",{className:It.a.placeholder,children:"Weight in grams"}),J&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"Weight is required!"})]}),Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsx)("input",{className:"".concat(It.a["create-restaurant-form-input"]," ").concat(V?It.a["input--invalid"]:""),type:"number",placeholder:" ",name:"name",disabled:i,value:D,onChange:T,onBlur:I}),Object(P.jsx)("span",{className:It.a.placeholder,children:"Price"}),V&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"Price is required!"})]}),Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsxs)("select",{className:"".concat(It.a.select," ").concat(ae?It.a["input--invalid"]:""),value:$,disabled:i,onChange:ce,onBlur:ne,children:[Object(P.jsx)("option",{hidden:!0,children:"Select category"}),a.categories.map((function(e){return Object(P.jsx)("option",{children:e},Object(We.a)())}))]}),ae&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"Category is required!"})]}),Object(P.jsxs)("div",{className:It.a.col,children:[Object(P.jsx)("label",{className:"".concat(It.a["file-label"]," ").concat(p?"":It.a["file-label--invalid"]),htmlFor:"image",children:j?"File selected":"Upload restaurant cover image"}),Object(P.jsx)("input",{className:It.a["file-btn"],id:"image",type:"file",name:"image",disabled:i,onChange:function(e){var t,a=e.target;0!==(null===(t=a.files)||void 0===t?void 0:t.length)&&(m(a.files[0]),O(!0))}}),!p&&Object(P.jsx)("p",{className:It.a["input-notification"],children:"Restaurant cover image is required!"})]}),!t&&Object(P.jsxs)("button",{className:"main-btn create-btn ".concat(It.a["btn-flex"]),disabled:!ie||i,children:["Add",i&&Object(P.jsx)("span",{className:It.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]}),t&&Object(P.jsxs)("button",{className:"main-btn create-btn ".concat(It.a["btn-flex"]),disabled:!ie||i,children:["Edit",i&&Object(P.jsx)("span",{className:It.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]})]})]})},Pt=a(50),qt=a.n(Pt),zt=function(e){var t=e._id,a=e.name,n=e.restaurantId,c=l(),r=S(),i=r.sendRequest,s=r.isLoading,o=function(e){c(N.close()),c(Be.setRestaurant(e))};return Object(P.jsxs)("section",{className:qt.a["delete-recipe"],children:[!s&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("h3",{className:qt.a["delete-recipe-title"],children:["Confirm you want to delete ",a,"?"]}),Object(P.jsx)("button",{onClick:function(){i(Vt.deleteRecipe(t,n),o)},className:"".concat(qt.a["delete-recipe-btn"]," ").concat(qt.a["delete-recipe-btn--danger"]),children:"Delete"}),Object(P.jsx)("button",{onClick:function(){c(N.close())},className:qt.a["delete-recipe-btn"],children:"Cancel"})]}),s&&Object(P.jsx)(ee,{size:"medium"})]})},Ut=a(31),Jt=a.n(Ut),Wt=function(e){var t=e.recipe,a=l(),n=d((function(e){return e.restaurant})),c=d((function(e){return e.auth})),r=d((function(e){return e.modal})),i=n.owner===c._id;return Object(P.jsxs)("article",{className:Jt.a.recipe,children:[r.isOpen&&r.overlayName==="delete-recipe-".concat(t._id)&&Object(P.jsx)(G,{children:Object(P.jsx)(zt,{_id:t._id,name:t.name,restaurantId:n._id})}),r.isOpen&&r.overlayName==="edit-recipe/".concat(t._id)&&Object(P.jsx)(G,{children:Object(P.jsx)(Tt,{recipe:t})}),Object(P.jsx)("div",{className:Jt.a["recipe-img-wrapper"],children:Object(P.jsx)(ut,{url:t.image.url,children:Object(P.jsx)("img",{src:t.image.url,alt:t.name})})}),Object(P.jsxs)("div",{className:Jt.a["recipe-content"],children:[Object(P.jsxs)("h3",{className:Jt.a["recipe-content-title"],children:[t.name," ",Object(P.jsxs)("span",{className:Jt.a["recipe-content-weight"],children:["(",t.weight,"g)"]})]}),Object(P.jsx)("p",{className:Jt.a["recipe-content-text"],children:t.ingredients.join(", ")}),Object(P.jsxs)("p",{children:["$",t.price]})]}),Object(P.jsx)("div",{onClick:function(){a(p.addToCart({restaurantId:n._id,recipe:t}))},className:Jt.a["recipe-icon-wrapper"],children:Object(P.jsx)(V.a,{icon:["fas","plus"],className:Jt.a["recipe-icon"]})}),i&&Object(P.jsxs)("div",{className:Jt.a["recipe-admin-icons-wrapper"],children:[Object(P.jsx)(V.a,{icon:["fas","edit"],onClick:function(){a(N.open("edit-recipe/".concat(t._id)))},className:Jt.a["recipe-icon"]}),Object(P.jsx)(V.a,{icon:["fas","trash"],onClick:function(){a(N.open("delete-recipe-".concat(t._id)))},className:Jt.a["recipe-icon"]})]})]})},Gt=a(70),Qt=a.n(Gt),Kt=Object(n.memo)((function(e){var t=e.categoryRecipes;return Object(P.jsxs)("div",{className:"".concat(Qt.a.category),children:[Object(P.jsx)("h2",{className:Qt.a["category-title"],children:t[0].category}),t.map((function(e){return Object(P.jsx)(Wt,{recipe:e},Object(We.a)())}))]})})),Zt=a(74),Yt=a.n(Zt),Xt=Object(n.memo)((function(){var e=d((function(e){return e.restaurant}));return Object(P.jsx)("section",{className:"container",children:e.categories.map((function(t){var a=e.recipes.filter((function(e){return e.category===t}));return a.length>0?Object(P.jsx)(Kt,{categoryRecipes:a},Object(We.a)()):Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{className:Yt.a["category-title"],children:t}),Object(P.jsx)("p",{children:"No recipes yet!"})]},Object(We.a)())}))})})),$t=a(37),ea=a(51),ta=a.n(ea);$t.a.register.apply($t.a,Object(Ie.a)($t.b));var aa=function(){var e=S().sendRequest,t=d((function(e){return e.restaurant})),a=Object(n.useRef)(null),c=Object(n.useState)("week"),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useCallback)((function(e){var t=[],a=[];Object.entries(e).forEach((function(e){var n=Object(g.a)(e,2),c=n[0],r=n[1];t.push(c),a.push(r)})),j(t),p(a)}),[]);Object(n.useEffect)((function(){t._id&&e(xt.getOrdersCountByCategoryAndPeriod(t._id,i),O)}),[e,t._id,O,i]),Object(n.useEffect)((function(){if(0!==u.length){var e=new $t.a(a.current,{type:"pie",data:{labels:u,datasets:[{label:"Categories",data:h,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 71, 0.2)","rgba(238, 130, 238, 0.2)","rgba(255, 0, 0, 0.2)","rgba(0, 0, 255, 0.2)","rgba(255, 99, 71, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgb(255, 99, 71, 1)","rgb(238, 130, 238, 1)","rgb(255, 0, 0, 1)","rgb(0, 0, 255, 1)","rgba(255, 99, 71, 1)"],borderWidth:1}]},options:{plugins:{legend:{display:!1},title:{display:!0,text:"Orders by category"}}}});return function(){e.destroy()}}}),[h,u]);return Object(P.jsxs)("div",{className:ta.a.chart,children:[Object(P.jsx)("h2",{className:ta.a["chart-title"],children:"Categories share:"}),Object(P.jsxs)("select",{onChange:function(e){var t=e.target.selectedOptions[0].value;s(t)},className:ta.a["chart-select"],children:[Object(P.jsx)("option",{value:"week",children:"Week"}),Object(P.jsx)("option",{value:"month",children:"Month"})]}),u.length>0&&Object(P.jsx)("canvas",{ref:a,className:ta.a.canvas}),0===u.length&&Object(P.jsx)("div",{className:ta.a["no-data"],children:"No data for selected period"})]})},na=a(52),ca=a.n(na);$t.a.register.apply($t.a,Object(Ie.a)($t.b));var ra=function(){var e=S().sendRequest,t=d((function(e){return e.restaurant})),a=Object(n.useRef)(null),c=Object(n.useState)("week"),r=Object(g.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(g.a)(o,2),u=l[0],j=l[1],m=Object(n.useState)([]),b=Object(g.a)(m,2),h=b[0],p=b[1],O=Object(n.useCallback)((function(e){var t=[],a=[];Object.entries(e).forEach((function(e){var n=Object(g.a)(e,2),c=n[0],r=n[1];t.push(c),a.push(r)})),j(t),p(a)}),[]);Object(n.useEffect)((function(){t._id&&e(xt.getSalesByPeriod(t._id,i),O)}),[e,t._id,O,i]),Object(n.useEffect)((function(){if(0!==u.length){var e=new $t.a(a.current,{type:"bar",data:{labels:u,datasets:[{label:"Sales",data:h,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 71, 0.2)","rgba(238, 130, 238, 0.2)","rgba(255, 0, 0, 0.2)","rgba(0, 0, 255, 0.2)","rgba(255, 99, 71, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgb(255, 99, 71, 1)","rgb(238, 130, 238, 1)","rgb(255, 0, 0, 1)","rgb(0, 0, 255, 1)","rgba(255, 99, 71, 1)"],borderWidth:1}]},options:{plugins:{legend:{display:!1},title:{display:!0,text:"Orders by category"}}}});return function(){e.destroy()}}}),[h,u]);return Object(P.jsxs)("div",{className:ca.a.chart,children:[Object(P.jsx)("h2",{className:ca.a["chart-title"],children:"Sales:"}),Object(P.jsxs)("select",{onChange:function(e){var t=e.target.selectedOptions[0].value;s(t)},className:ca.a["chart-select"],children:[Object(P.jsx)("option",{value:"week",children:"Week"}),Object(P.jsx)("option",{value:"month",children:"Month"})]}),u.length>0&&Object(P.jsx)("canvas",{ref:a,className:ca.a.canvas}),0===u.length&&Object(P.jsx)("div",{className:ca.a["no-data"],children:"No data for selected period"})]})},ia=a(75),sa=a.n(ia),oa=function(){return Object(P.jsxs)("div",{className:"".concat(sa.a.statistics," container"),children:[Object(P.jsx)(ra,{}),Object(P.jsx)(aa,{})]})},la=function(){var e=d((function(e){return e.restaurant})),t=[{url:"/restaurant/".concat(e._id,"/dashboard/statistics"),text:"Statistics"},{url:"/restaurant/".concat(e._id,"/dashboard/active-orders"),text:"Active orders"},{url:"/restaurant/".concat(e._id,"/dashboard/completed-orders"),text:"Completed orders"}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ke,{links:t}),Object(P.jsxs)(s.d,{children:[Object(P.jsx)(s.b,{path:"/restaurant/:id/dashboard/",exact:!0,children:Object(P.jsx)(s.a,{to:"/restaurant/".concat(e._id,"/dashboard/statistics")})}),Object(P.jsx)(s.b,{path:"/restaurant/:id/dashboard/statistics",children:Object(P.jsx)(oa,{})}),Object(P.jsx)(s.b,{path:"/restaurant/:id/dashboard/active-orders",children:Object(P.jsx)(Lt,{status:"active"})}),Object(P.jsx)(s.b,{path:"/restaurant/:id/dashboard/completed-orders",children:Object(P.jsx)(Lt,{status:"completed"})})]})]})},da=a(11),ua=a.n(da),ja=function(e){var t=e.cancelClickHandler,a=e.addCommentSubmitHandler,c=e.setFormIsLoading,r=d((function(e){return e.auth})),i=S(),s=i.isLoading,o=i.setError,l=i.sendRequest,u=d((function(e){return e.restaurant})),j=Q(K.minLength.bind(null,6)),m=j.value,b=j.hasError,h=j.valueChangeHandler,p=j.inputBlurHandler,O=j.setValue,_=Q(K.minLength.bind(null,10)),f=_.value,x=_.hasError,g=_.valueChangeHandler,v=_.inputBlurHandler,N=!b&&!x;Object(n.useEffect)((function(){r.firstName&&r.lastName&&O("".concat(r.firstName," ").concat(r.lastName))}),[O,r]);var y=Object(n.useCallback)((function(e){a(e),c(!1)}),[a,c]);return Object(P.jsxs)(P.Fragment,{children:[s&&Object(P.jsx)("div",{className:ua.a.background,children:Object(P.jsx)(ee,{})}),!s&&Object(P.jsxs)("form",{className:ua.a.form,onSubmit:function(e){e.preventDefault();var t=new FormData(e.target).get("rating");null!==t?N&&(c(!0),l(Ae.addComment(u._id,m,f,t),y)):o("Rating is required!")},children:[Object(P.jsxs)("div",{className:ua.a.col,children:[Object(P.jsx)("input",{className:b?ua.a["input-invalid"]:"",placeholder:" ",type:"name",name:"name",id:"name",disabled:s,value:m,onChange:h,onBlur:p}),Object(P.jsx)("label",{htmlFor:"name",className:ua.a.placeholder,children:"Name:"}),b&&Object(P.jsx)("p",{className:ua.a["input-notification"],children:"At least 6 characters long!"})]}),Object(P.jsxs)("div",{className:ua.a.col,children:[Object(P.jsx)("textarea",{className:ua.a.textarea,placeholder:" ",name:"comment",id:"comment",rows:3,disabled:s,value:f,onChange:g,onBlur:v}),Object(P.jsx)("label",{htmlFor:"comment",className:ua.a.placeholder,children:"Comment:"}),x&&Object(P.jsx)("p",{className:ua.a["input-notification"],children:"At least 10 characters long!"})]}),Object(P.jsxs)("div",{className:ua.a.controls,children:[Object(P.jsxs)("div",{className:ua.a.rating,children:[Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"1"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"2"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"3"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"4"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"5"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ua.a.icon,children:"\u2605"})]})]}),Object(P.jsxs)("div",{className:ua.a["controls-btns"],children:[Object(P.jsx)("button",{className:ua.a["controls-btn"],children:"Add"}),Object(P.jsx)("button",{onClick:t,className:"".concat(ua.a["controls-btn"]," ").concat(ua.a["controls-btn--danger"]),type:"button",children:"Cancel"})]})]})]})]})},ma=a(12),ba=a.n(ma),ha=function(e){var t=e.comment,a=e.setIsEditMode,c=e.editCommentHandler,r=S(),i=r.isLoading,s=r.setError,o=r.sendRequest,l=d((function(e){return e.restaurant})),u=Q(K.minLength.bind(null,6)),j=u.value,m=u.hasError,b=u.valueChangeHandler,h=u.inputBlurHandler,p=u.setValue,O=Q(K.minLength.bind(null,10)),_=O.value,f=O.hasError,x=O.valueChangeHandler,g=O.inputBlurHandler,v=O.setValue,N=!m&&!f;Object(n.useEffect)((function(){p(t.name),v(t.comment)}),[p,v,t]);var y=function(e){a(!1),c(e)};return Object(P.jsxs)(P.Fragment,{children:[i&&Object(P.jsx)("div",{className:ba.a.background,children:Object(P.jsx)(ee,{})}),!i&&Object(P.jsxs)("form",{className:ba.a.form,onSubmit:function(e){e.preventDefault();var a=new FormData(e.target).get("rating");null!==a?N&&o(Ae.editComment(l._id,t._id,j,_,a),y):s("Rating is required!")},children:[Object(P.jsxs)("div",{className:ba.a.col,children:[Object(P.jsx)("input",{className:m?ba.a["input-invalid"]:"",placeholder:" ",type:"name",name:"name",id:"name",disabled:i,value:j,onChange:b,onBlur:h}),Object(P.jsx)("label",{htmlFor:"name",className:ba.a.placeholder,children:"Name:"}),m&&Object(P.jsx)("p",{className:ba.a["input-notification"],children:"At least 6 characters long!"})]}),Object(P.jsxs)("div",{className:ba.a.col,children:[Object(P.jsx)("textarea",{className:ba.a.textarea,placeholder:" ",name:"comment",id:"comment",rows:3,value:_,onChange:x,onBlur:g}),Object(P.jsx)("label",{htmlFor:"comment",className:ba.a.placeholder,children:"Comment:"}),f&&Object(P.jsx)("p",{className:ba.a["input-notification"],children:"At least 10 characters long!"})]}),Object(P.jsxs)("div",{className:ba.a.controls,children:[Object(P.jsxs)("div",{className:ba.a.rating,children:[Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"1",defaultChecked:1===t.rating}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"2",defaultChecked:2===t.rating}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"3",defaultChecked:3===t.rating}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"4",defaultChecked:4===t.rating}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"})]}),Object(P.jsxs)("label",{children:[Object(P.jsx)("input",{type:"radio",name:"rating",value:"5",defaultChecked:5===t.rating}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"}),Object(P.jsx)("span",{className:ba.a.icon,children:"\u2605"})]})]}),Object(P.jsxs)("div",{className:ba.a["controls-btns"],children:[Object(P.jsx)("button",{className:ba.a["controls-btn"],children:"Edit"}),Object(P.jsx)("button",{onClick:function(){a(!1)},className:"".concat(ba.a["controls-btn"]," ").concat(ba.a["controls-btn--danger"]),type:"button",children:"Cancel"})]})]})]})]})},pa=a(15),Oa=a.n(pa),_a=function(e){var t=e.commentObj,a=e.editCommentHandler,c=e.deleteCommentHandler,r=l(),i=Object(n.useState)(!1),s=Object(g.a)(i,2),o=s[0],u=s[1],j=Object(n.useState)(!1),m=Object(g.a)(j,2),b=m[0],h=m[1],p=d((function(e){return e.restaurant})),O=S(),_=O.sendRequest,f=O.isLoading,x=t.name,v=t.comment,N=t.rating,y=t.date,C=t.owner,w=d((function(e){return e.auth})),R=yt(y);Object(n.useEffect)((function(){return function(){r(k.close())}}),[r]);return Object(P.jsxs)(P.Fragment,{children:[!o&&!b&&Object(P.jsxs)("article",{className:Oa.a.comment,children:[Object(P.jsxs)("div",{className:Oa.a["comment-header"],children:[Object(P.jsxs)("h4",{className:Oa.a["comment-header-title"],children:[x,w._id===C?Object(P.jsx)("button",{onClick:function(){u(!0)},className:Oa.a["comment-edit-btn"],children:"Edit"}):null,w._id===C?Object(P.jsx)("button",{onClick:function(){h(!0)},className:"".concat(Oa.a["comment-delete-btn"]," ").concat(Oa.a["comment-delete-btn--red"]),children:"Delete"}):null]}),Object(P.jsx)("div",{className:Oa.a.rating,children:Object(P.jsxs)("label",{children:[Object(P.jsx)("span",{className:"".concat(Oa.a.icon," ").concat(N>=1?"":Oa.a["icon--gray"]),children:"\u2605"}),Object(P.jsx)("span",{className:"".concat(Oa.a.icon," ").concat(N>=2?"":Oa.a["icon--gray"]),children:"\u2605"}),Object(P.jsx)("span",{className:"".concat(Oa.a.icon," ").concat(N>=3?"":Oa.a["icon--gray"]),children:"\u2605"}),Object(P.jsx)("span",{className:"".concat(Oa.a.icon," ").concat(N>=4?"":Oa.a["icon--gray"]),children:"\u2605"}),Object(P.jsx)("span",{className:"".concat(Oa.a.icon," ").concat(N>=5?"":Oa.a["icon--gray"]),children:"\u2605"})]})})]}),Object(P.jsx)("p",{className:Oa.a["comment-date"],children:R}),Object(P.jsx)("p",{className:Oa.a["comment-text"],children:v})]}),o&&!b&&Object(P.jsx)(ha,{setIsEditMode:u,comment:t,editCommentHandler:a}),!o&&b&&!f&&Object(P.jsxs)("article",{className:"".concat(Oa.a.comment," ").concat(Oa.a.delete),children:[Object(P.jsx)("h4",{className:Oa.a["delete-title"],children:"Are you sure?"}),Object(P.jsx)("button",{className:"".concat(Oa.a["comment-delete-btn"]," ").concat(Oa.a["comment-delete-btn--red"]),onClick:function(){_(Ae.deleteComment(p._id,t._id),(function(e){return c({restaurant:e,commentId:t._id})}))},children:"Delete"}),Object(P.jsx)("button",{className:Oa.a["comment-edit-btn"],onClick:function(){h(!1)},children:"Cancel"})]}),f&&Object(P.jsx)("div",{className:Oa.a.background,children:Object(P.jsx)(ee,{size:"medium"})})]})},fa=a(36),xa=a.n(fa),ga=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),i=Object(g.a)(r,2),s=i[0],o=i[1],u=Object(n.useState)(1),j=Object(g.a)(u,2),b=j[0],h=j[1],p=Object(n.useState)(!1),O=Object(g.a)(p,2),_=O[0],f=O[1],x=Object(n.useState)(!1),v=Object(g.a)(x,2),N=v[0],y=v[1],C=d((function(e){return e.restaurant})),k=d((function(e){return e.auth})),w=S(),R=w.sendRequest,E=w.isLoading,F=l(),H=C._id,L=Object(n.useCallback)((function(e){c((function(t){return t.concat(e.comments)})),o(e.ratingsCount),e.tokenExpired&&F(m.logout())}),[c,F]);Object(n.useEffect)((function(){0!==b&&R(Ae.getComments(H,b),L)}),[H,b,L,R]);var B=Object(n.useRef)(),M=Object(n.useCallback)((function(e){E||N||(B.current&&B.current.disconnect(),B.current=new IntersectionObserver((function(e){e[0].isIntersecting&&s>a.length&&h((function(e){return e+1}))})),e&&B.current.observe(e))}),[E,s,a,N]),D=Object(n.useCallback)((function(e){f(!1),c([]),h(0),h(1),o(e.comments.length),F(Be.updateRating({rating:e.restaurant.rating,ratingsCount:e.restaurant.ratingsCount}))}),[F]),A=function(e){var t=a.map((function(t){return(null===t||void 0===t?void 0:t._id)===e.comment._id?e.comment:t}));c(t),F(Be.updateRating({rating:e.restaurant.rating,ratingsCount:e.restaurant.ratingsCount}))},I=function(e){var t=a.map((function(t){return(null===t||void 0===t?void 0:t._id)===e.commentId?null:t}));e.restaurant.ratingsCount<=10&&a.length>=10&&(t=[],h(0),h(1)),c(t),F(Be.setRestaurant(e.restaurant))};return Object(P.jsxs)("section",{className:xa.a.comments,children:[Object(P.jsx)("h3",{className:xa.a["comments-title"],children:"Comments"}),Object(P.jsxs)("article",{className:xa.a["comments-score"],children:[Object(P.jsx)("h4",{className:xa.a["comments-score-title"],children:"Average score:"}),Object(P.jsxs)("div",{children:[Object(P.jsx)(V.a,{icon:["fas","star"],className:0!==C.rating?xa.a["comments-score-icon"]:xa.a["comments-score-icon--gray"]}),0!==C.rating&&Object(P.jsxs)("span",{children:[C.rating," from ",C.ratingsCount," comments"]}),0===C.rating&&Object(P.jsx)("span",{children:"No comments yet!"})]})]}),!_&&k.email&&Object(P.jsx)("button",{onClick:function(){return f(!0)},className:xa.a["comments-btn"],children:"Add comment"}),_&&Object(P.jsx)(ja,{cancelClickHandler:function(){return f(!1)},setFormIsLoading:y,addCommentSubmitHandler:D}),Object(P.jsxs)("ul",{className:xa.a["comments-list"],children:[a.map((function(e,t){return null===e?null:a.length===t+1?Object(P.jsx)("li",{ref:M,className:xa.a["comments-list-item"],children:Object(P.jsx)(_a,{commentObj:e,editCommentHandler:A,deleteCommentHandler:I})},null===e||void 0===e?void 0:e._id):Object(P.jsx)("li",{className:xa.a["comments-list-item"],children:Object(P.jsx)(_a,{commentObj:e,editCommentHandler:A,deleteCommentHandler:I})},e._id)})),E&&Object(P.jsx)(ee,{size:"medium"})]})]})},va=a(20),Na=a.n(va),ya=function(e){var t=e.user,a=d((function(e){return e.restaurant})),c=l(),r=t._id===a.owner,i=t.favorites.includes(a._id),s=d((function(e){return e.modal}));return Object(n.useEffect)((function(){return function(){c(N.close())}}),[c]),Object(P.jsxs)("section",{children:[s.isOpen&&s.overlayName==="delete-restaurant-".concat(a._id)&&Object(P.jsx)(G,{children:Object(P.jsx)(it,{_id:a._id,name:a.name})}),s.isOpen&&"add-recipe"===s.overlayName&&Object(P.jsx)(G,{children:Object(P.jsx)(Tt,{})}),s.isOpen&&"comment"===s.overlayName&&Object(P.jsx)(G,{children:Object(P.jsx)(ga,{})}),Object(P.jsx)(ut,{url:a.image.url,children:Object(P.jsx)("img",{className:Na.a["restaurant-img"],src:a.image.url,alt:"".concat(a.name," restaurant")})}),Object(P.jsxs)("article",{className:"".concat(Na.a["restaurant-content"]," container"),children:[Object(P.jsxs)("article",{className:Na.a["restaurant-content-title-wrapper"],children:[Object(P.jsx)(A.c,{to:"/restaurant/".concat(a._id),className:Na.a["restaurant-content-title"],children:a.name}),Object(P.jsxs)("h4",{className:Na.a["restaurant-content-subtitle"],children:[a.mainTheme,", ",a.categories[0]]}),Object(P.jsxs)("p",{className:Na.a.scoring,children:[Object(P.jsx)(V.a,{icon:["fas","star"],size:"lg",className:0!==a.rating?Na.a["icon--blue"]:Na.a["icon--gray"]}),0!==a.rating&&Object(P.jsxs)("span",{children:[a.rating,"(",a.ratingsCount,")"]})]})]}),Object(P.jsxs)("p",{className:Na.a.icons,children:[r&&Object(P.jsx)(A.c,{to:"/restaurant/".concat(a._id,"/edit"),children:Object(P.jsx)(V.a,{className:Na.a.icon,icon:["fas","edit"]})}),r&&Object(P.jsx)("span",{className:Na.a["icon--after"],children:Object(P.jsx)(V.a,{className:Na.a.icon,onClick:function(){c(N.open("add-recipe"))},icon:["fas","hamburger"]})}),r&&Object(P.jsx)(A.c,{to:"/restaurant/".concat(a._id,"/dashboard"),children:Object(P.jsx)(V.a,{className:Na.a.icon,icon:["fas","tools"]})}),r&&Object(P.jsx)(V.a,{className:Na.a.icon,onClick:function(){c(N.open("delete-restaurant-".concat(a._id)))},icon:["fas","trash"]}),!i&&Object(P.jsx)(V.a,{className:"".concat(Na.a.icon," ").concat(Na.a["icon--red"]),onClick:function(){c(m.addToFavorites({_id:a._id}))},icon:["far","heart"]}),i&&Object(P.jsx)(V.a,{className:"".concat(Na.a.icon," ").concat(Na.a["icon--red"]),onClick:function(){c(m.removeFromFavorites({_id:a._id}))},icon:["fas","heart"]}),Object(P.jsx)(V.a,{className:"".concat(Na.a.icon," ").concat(Na.a["icon--blue"]),onClick:function(){c(N.open("comment"))},icon:["far","comment"]})]})]})]})},Ca=function(e){var t=Number(e[0].split(":")[0]),a=Number(e[0].split(":")[1]),n=Number(e[1].split(":")[0]),c=Number(e[1].split(":")[1]),r=(new Date).setHours(t,a,0,0),i=(new Date).setHours(n,c,0,0),s=Date.now();return r<s&&s<i},ka=a(21),wa=a.n(ka),Sa=function(e){var t=e.cartRecipes,a=l(),c=d((function(e){return e.auth})),r=d((function(e){return e.restaurant})),i=d((function(e){return e.checkout})),s=S(),o=s.isLoading,u=s.sendRequest,j=Q(K.minLength.bind(null,6)),m=j.value,b=j.hasError,h=j.valueChangeHandler,O=j.inputBlurHandler,_=j.isValid,f=j.setValue,x=Q(K.minLength.bind(null,4)),g=x.value,v=x.hasError,N=x.valueChangeHandler,y=x.inputBlurHandler,C=x.isValid,w=x.setValue,R=Q(K.minLength.bind(null,6)),E=R.value,F=R.hasError,H=R.valueChangeHandler,L=R.inputBlurHandler,B=R.isValid,M=R.setValue,D=Q(K.isPhone),V=D.value,A=D.hasError,I=D.valueChangeHandler,T=D.inputBlurHandler,q=D.isValid,z=D.setValue,U=Object(n.useRef)(null),J=Object(n.useRef)(null),W=Object(n.useRef)(null),G=Object(n.useRef)(null);U.current=E,J.current=m,W.current=g,G.current=V,Object(n.useEffect)((function(){var e,t;return f(i.address||c.address||""),w(i.city||c.city||""),z((null===(e=i.phone)||void 0===e?void 0:e.toString())||(null===(t=c.phone)||void 0===t?void 0:t.toString())||""),c.firstName&&c.lastName?M(i.name||"".concat(c.firstName," ").concat(c.lastName)):M(i.name||""),function(){a(oe.save({name:U.current,phone:G.current,city:W.current,address:J.current}))}}),[f,w,z,M,c,i,a]);var Z=_&&C&&B&&q;return Object(P.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),Z)if(Ca(r.workHours))if(r.cities.some((function(e){return e.name.toLocaleLowerCase()===g.toLocaleLowerCase()}))){var n={address:m,city:g,name:E,phone:V,recipes:t.map((function(e){return{recipe:e.recipe._id,quantity:e.quantity}})),restaurant:r._id};u(xt.add(n),(function(){U.current=null,J.current=null,W.current=null,G.current=null,a(p.clearCartOrder({restaurantId:r._id})),a(k.show({type:"success",text:"Successful order!"})),setTimeout((function(){a(k.close())}),3e3)}))}else{var c=r.cities.map((function(e){return e.name})).join(", ");a(k.show({type:"error",text:"Unable to checkout. Restaurant delivers in these cities: ".concat(c,".")}))}else a(k.show({type:"error",text:"Unable to checkout. Restaurant working hours: ".concat(r.workHours.join("-"))}))},className:wa.a.form,children:[Object(P.jsx)("h2",{className:wa.a["form-title"],children:"Checkout"}),Object(P.jsxs)("div",{className:wa.a.col,children:[Object(P.jsx)("input",{className:b?wa.a["input-invalid"]:"",placeholder:" ",type:"text",name:"address",id:"address",disabled:o,value:m,onChange:h,onBlur:O}),Object(P.jsx)("span",{className:wa.a.placeholder,children:"Address"}),b&&Object(P.jsx)("p",{className:wa.a["input-notification"],children:"Address must be at least 6 characters long!"})]}),Object(P.jsxs)("div",{className:wa.a.col,children:[Object(P.jsx)("input",{className:v?wa.a["input-invalid"]:"",placeholder:" ",type:"text",name:"city",id:"city",disabled:o,value:g,onChange:N,onBlur:y}),Object(P.jsx)("span",{className:wa.a.placeholder,children:"City"}),v&&Object(P.jsx)("p",{className:wa.a["input-notification"],children:"City must be at least 4 characters long!"})]}),Object(P.jsxs)("div",{className:wa.a.col,children:[Object(P.jsx)("input",{className:F?wa.a["input-invalid"]:"",placeholder:" ",type:"text",name:"name",id:"name",disabled:o,value:E,onChange:H,onBlur:L}),Object(P.jsx)("span",{className:wa.a.placeholder,children:"First and last name"}),F&&Object(P.jsx)("p",{className:wa.a["input-notification"],children:"Names must be at least 6 characters long!"})]}),Object(P.jsxs)("div",{className:wa.a.col,children:[Object(P.jsx)("input",{className:A?wa.a["input-invalid"]:"",placeholder:" ",type:"tel",name:"phone",id:"phone",disabled:o,value:V,onChange:I,onBlur:T}),Object(P.jsx)("span",{className:wa.a.placeholder,children:"Phone number"}),A&&Object(P.jsx)("p",{className:wa.a["input-notification"],children:"Please enter a valid phone number!"})]}),Object(P.jsxs)("button",{className:"main-btn ".concat(wa.a["main-btn"]),disabled:!Z||o,children:["Order",o&&Object(P.jsx)("span",{className:wa.a["spinner-container"],children:Object(P.jsx)(ee,{size:"small"})})]})]})},Ra=a(45),Ea=a.n(Ra),Fa=function(e){var t=e.recipe,a=e.quantity,n=e.restaurantId,c=l();return Object(P.jsxs)("li",{className:Ea.a["cart-item"],children:[Object(P.jsxs)("div",{className:Ea.a["cart-item-text"],children:[t.name," (",t.weight,"g) ",Object(P.jsxs)("span",{children:["x ",a]})]}),Object(P.jsx)("div",{className:Ea.a["cart-item-controls"],children:Object(P.jsxs)("div",{className:Ea.a["cart-item-icons"],children:[Object(P.jsx)(V.a,{className:Ea.a["icon--red"],icon:["fas","minus"],onClick:function(){c(p.removeFromCart({restaurantId:n,recipe:t}))}}),Object(P.jsxs)("span",{children:["$",t.price]}),Object(P.jsx)(V.a,{className:Ea.a["icon--green"],icon:["fas","plus"],onClick:function(){c(p.addToCart({restaurantId:n,recipe:t}))}}),Object(P.jsxs)("span",{children:["$",(t.price*a).toFixed(2)]})]})})]})},Ha=a(32),La=a.n(Ha),Ba=function(){var e,t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],r=a[1],s=d((function(e){return e.cart})).restaurants,o=d((function(e){return e.restaurant})),u=l(),j=d((function(e){return e.notification})),m=null===(e=s.find((function(e){return e.restaurantId===o._id})))||void 0===e?void 0:e.recipes,b=Number(null===m||void 0===m?void 0:m.reduce((function(e,t){return e+t.quantity*t.recipe.price}),0).toFixed(2)),h=null===m||void 0===m?void 0:m.reduce((function(e,t){return e+t.quantity}),0);z(c);return Object(n.useEffect)((function(){return function(){"error"===j.type&&u(k.close())}}),[u,j.type]),Object(P.jsxs)(P.Fragment,{children:[c&&i.a.createPortal(Object(P.jsx)("div",{onClick:function(){r(!1)},children:Object(P.jsx)(W,{})}),document.getElementById("backdrop-root")),Object(P.jsxs)("section",{className:La.a.cart,children:[Object(P.jsxs)("article",{onClick:function(){r((function(e){return u(N.close()),!e}))},className:La.a["cart-header"],children:[Object(P.jsxs)("article",{className:La.a["cart-header-img-wrapper"],children:[Object(P.jsx)(V.a,{className:La.a["cart-header-img-wrapper-icon"],icon:["fas","shopping-cart"]}),Object(P.jsx)("div",{className:La.a["cart-header-img-quantity"],children:h})]}),Object(P.jsxs)("div",{className:La.a["cart-header-text"],children:[Object(P.jsxs)("p",{children:["Cart(",Object(P.jsxs)("span",{children:["$",b]}),")"]}),!c&&Object(P.jsx)(V.a,{icon:["fas","chevron-up"]}),c&&Object(P.jsx)(V.a,{icon:["fas","chevron-down"]})]})]}),c&&Object(P.jsxs)("section",{className:La.a["cart-content"],children:[Object(P.jsxs)("article",{className:La.a["cart-content-recipes"],children:[Object(P.jsx)("ul",{className:La.a["cart-content-recipes-list"],children:null===m||void 0===m?void 0:m.map((function(e){return Object(P.jsx)(Fa,{recipe:e.recipe,quantity:e.quantity,restaurantId:o._id},e.recipe._id)}))}),Object(P.jsxs)("article",{className:La.a["cart-content-summary"],children:[Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Order:"}),Object(P.jsxs)("span",{children:["$",b]})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Delivery:"}),Object(P.jsx)("span",{children:b>10?"Free":"$3.99"})]}),Object(P.jsxs)("p",{children:[Object(P.jsx)("span",{children:"Total:"}),Object(P.jsxs)("span",{children:["$",b>10?b:(b+3.99).toFixed(2)]})]})]})]}),Object(P.jsx)("article",{className:La.a["cart-content-checkout"],children:Object(P.jsx)(Sa,{cartRecipes:m})})]})]})]})},Ma=function(e){var t=e.children,a=e.restaurant,n=d((function(e){return e.auth})),c=d((function(e){return e.app})).isInitializing;return c?Object(P.jsx)(ee,{}):c||a.owner!==n._id?Object(P.jsx)(s.a,{to:"/"}):t},Da=function(){var e=l(),t=d((function(e){return e.restaurant})),a=S(),c=a.isLoading,r=a.sendRequest,i=Object(s.h)().id,o=d((function(e){return e.auth})),u=d((function(e){return e.cart})).restaurants.find((function(e){return e.restaurantId===t._id})),j=Object(n.useCallback)((function(t){e(Be.setRestaurant(t))}),[e]);return Object(n.useEffect)((function(){return r(Ae.getById(i),j),function(){e(Be.clearRestaurant())}}),[i,r,j,e]),Object(P.jsxs)(P.Fragment,{children:[c&&Object(P.jsx)(ee,{}),t._id&&!c&&Object(P.jsx)(ya,{user:o}),Object(P.jsxs)(s.d,{children:[Object(P.jsx)(s.b,{path:"/restaurant/:id/dashboard",children:!c&&t._id&&Object(P.jsx)(Ma,{restaurant:t,children:Object(P.jsx)(la,{})})}),Object(P.jsx)(s.b,{path:"/restaurant/:id/edit",children:t._id&&t._id&&Object(P.jsx)(Ma,{restaurant:t,children:Object(P.jsx)(Je,{edit:!0})})}),Object(P.jsxs)(s.b,{path:"/",children:[t._id&&!c&&Object(P.jsx)(Xt,{}),t._id&&!c&&u&&u.recipes.length>0&&Object(P.jsx)(Ba,{})]})]})]})},Va=function(){var e=Object(s.g)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(1),o=Object(g.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(0),j=Object(g.a)(u,2),m=j[0],b=j[1],h=Object(s.h)().cityName,p=S(),O=p.sendRequest,_=p.isLoading;return Object(n.useEffect)((function(){var t=et(e.location.search);d(Number(t.page)||1),O(Ae.getByCity(h,$e(t)),(function(e){r(e.restaurants),b(e.count)}))}),[O,h,e.location.search]),Object(P.jsxs)("section",{className:"container",children:[_&&Object(P.jsx)(ee,{}),!_&&c.length>0&&Object(P.jsx)(ht,{restaurants:c}),!_&&m>16&&Object(P.jsx)(Nt,{shownCount:16,totalCount:m,page:l,isLoading:_}),!_&&0===c.length&&Object(P.jsx)("h2",{children:"No restaurants yet!"})]})},Aa=function(){var e=Object(s.g)(),t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(1),o=Object(g.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(0),j=Object(g.a)(u,2),m=j[0],b=j[1],h=Object(s.h)().mainTheme,p=S(),O=p.sendRequest,_=p.isLoading;return Object(n.useEffect)((function(){var t=et(e.location.search);d(Number(t.page)||1),O(Ae.getByTheme(h,$e(t)),(function(e){r(e.restaurants),b(e.count)}))}),[O,h,e.location.search]),Object(P.jsxs)("section",{className:"container",children:[_&&Object(P.jsx)(ee,{}),!_&&c.length>0&&Object(P.jsx)(ht,{restaurants:c}),!_&&m>16&&Object(P.jsx)(Nt,{shownCount:16,totalCount:m,page:l,isLoading:_}),!_&&0===c.length&&Object(P.jsx)("h2",{children:"No restaurants yet!"})]})},Ia=a(38),Ta=a.n(Ia),Pa=function(){var e=l(),t=d((function(e){return e.notification})),a="".concat(Ta.a["notification-text"]," ").concat("error"===t.type?Ta.a["notification-text--red"]:""),n="".concat(Ta.a.icon),c="".concat(Ta.a.icon," ").concat(Ta.a["icon--red"]),r="".concat(Ta.a.icon," ").concat(Ta.a["icon--red"]," ").concat(Ta.a["icon--close"]);return Object(P.jsx)(P.Fragment,{children:i.a.createPortal(Object(P.jsxs)("div",{className:Ta.a.notification,children:["success"===t.type?Object(P.jsx)(V.a,{className:n,icon:["fas","check-circle"]}):Object(P.jsx)(V.a,{className:c,icon:["fas","exclamation-circle"]}),Object(P.jsx)("p",{className:a,children:t.text}),Object(P.jsx)(V.a,{onClick:function(){e(k.close())},className:r,icon:["fas","times-circle"]})]}),document.getElementById("notification"))})},qa=function(e){var t=e.children,a=Object(s.h)().id,n=d((function(e){return e.auth})),c=d((function(e){return e.app})).isInitializing;return c?Object(P.jsx)(ee,{}):c||a!==n._id?Object(P.jsx)(s.a,{to:"/"}):t};L();var za=function(){var e=S().sendRequest,t=l(),a=d((function(e){return e.notification}));return Object(n.useEffect)((function(){t(m.autoLoadFavorites()),t(p.autoLoadCart()),e(Y.verify(),(function(e){t(m.login(e)),t(M.initDone())}))}),[t,e]),Object(P.jsxs)(fe,{children:[a.text&&Object(P.jsx)(Pa,{}),Object(P.jsxs)(s.d,{children:[Object(P.jsx)(s.b,{path:"/",exact:!0,children:Object(P.jsx)(He,{})}),Object(P.jsx)(s.b,{path:"/profile/:id",children:Object(P.jsx)(qa,{children:Object(P.jsx)(Mt,{})})}),Object(P.jsx)(s.b,{path:"/restaurant/:id",children:Object(P.jsx)(Da,{})}),Object(P.jsx)(s.b,{path:"/city/:cityName",children:Object(P.jsx)(Va,{})}),Object(P.jsx)(s.b,{path:"/main-theme/:mainTheme",children:Object(P.jsx)(Aa,{})}),Object(P.jsx)(s.b,{path:"/favorites",children:Object(P.jsx)(Bt,{})})]})]})},Ua=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},Ja=Object(u.a)({reducer:{auth:b,modal:y,restaurant:Me,cart:O,checkout:le,notification:w,app:D}});i.a.render(Object(P.jsx)(o.a,{store:Ja,children:Object(P.jsx)(A.a,{children:Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(za,{})})})}),document.getElementById("root")),Ua()}],[[91,1,2]]]);
//# sourceMappingURL=main.2addf1be.chunk.js.map