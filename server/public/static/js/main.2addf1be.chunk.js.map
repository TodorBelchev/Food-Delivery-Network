{"version":3,"sources":["components/userProfile/UserData/UserData.module.css","components/recipe/AddRecipeModal/AddRecipeModal.module.css","components/home/Cities/Cities.module.css","components/restaurant/CreateRestaurant/CreateRestaurant.module.css","components/comment/AddCommentForm/AddCommentForm.module.css","components/comment/EditCommentForm/EditCommentForm.module.css","components/auth/Register/RegisterModal.module.css","components/comment/Comment/Comment.module.css","components/layout/Footer/Footer.module.css","components/home/Kitchens/Kitchens.module.css","components/auth/Login/LoginModal.module.css","components/order/OrderModal/OrderModal.module.css","components/restaurant/RestaurantHeader/RestaurantHeader.module.css","components/shoppingCart/CheckoutForm/CheckoutForm.module.css","components/restaurant/RestaurantCard/RestaurantCard.module.css","components/layout/Navigation/Navigation.module.css","components/recipe/Recipe/Recipe.module.css","components/shoppingCart/ShoppingCart/ShoppingCart.module.css","components/home/Benefits/Benefits.module.css","components/UI/HorizontalNav/HorizontalNav.module.css","components/comment/CommentsModal/CommentsModal.module.css","components/UI/Notification/Notification.module.css","components/userProfile/UserPopup/UserPopup.module.css","components/home/Hero/Hero.module.css","components/UI/Paginator/Paginator.module.css","components/shoppingCart/ShoppingCartListItem/ShoppingCartListItem.module.css","components/UI/MultiChoiceSelect/MultiChoiceSelect.module.css","components/restaurant/DeleteRestaurantModal/DeleteRestaurantModal.module.css","components/order/OrdersListItem/OrdersListItem.module.css","components/recipe/DeleteRecipeModal/DeleteRecipeModal.module.css","components/restaurant/Statistics/CategoriesChart/CategoriesChart.module.css","components/restaurant/Statistics/SalesChart/SalesChart.module.css","components/UI/Spinner/Spinner.module.css","components/order/OrdersList/OrdersList.module.css","components/UI/Modal/Modal.module.css","components/userProfile/UserIcon/UserIcon.module.css","components/UI/SortRestaurants/SortRestaurants.module.css","components/restaurant/RestaurantList/RestaurantList.module.css","components/restaurant/RestaurantCategoryList/RestaurantCategoryList.module.css","components/UI/ImageSuspense/ImageSuspense.module.css","components/restaurant/MyRestaurants/MyRestaurants.module.css","components/restaurant/RestaurantCategories/RestaurantCategories.module.css","components/restaurant/Statistics/Statistics.module.css","hooks/reduxHooks.tsx","store/auth.tsx","store/cart.tsx","store/modal.tsx","store/notification.tsx","hooks/useHttp.tsx","utils/loadFontAwesome.tsx","store/app.tsx","components/layout/Footer/Footer.tsx","hooks/usePreventScrolling.tsx","components/UI/Modal/Modal.tsx","hooks/useUserInput.tsx","validators/index.tsx","validators/isEmail.tsx","validators/minLength.tsx","validators/stringMatch.tsx","validators/minStringCount.tsx","validators/workTime.tsx","validators/isPhone.tsx","utils/userOptions.tsx","components/UI/Spinner/Spinner.tsx","components/auth/Login/LoginModal.tsx","components/auth/Register/RegisterModal.tsx","store/checkout.tsx","components/userProfile/UserPopup/UserPopup.tsx","components/userProfile/UserIcon/UserIcon.tsx","components/layout/Navigation/Navigation.tsx","components/layout/Layout/Layout.tsx","components/home/Benefits/Benefits.tsx","components/home/Cities/Cities.tsx","components/home/Hero/Hero.tsx","components/home/Kitchens/Kitchens.tsx","pages/Home/Home.tsx","store/restaurant.tsx","utils/getCities.tsx","utils/restaurantOptions.tsx","components/UI/MultiChoiceSelect/MultiChoiceSelect.tsx","components/restaurant/CreateRestaurant/CreateRestaurant.tsx","components/UI/HorizontalNav/HorizontalNav.tsx","components/userProfile/UserData/UserData.tsx","utils/queryHelper.tsx","components/UI/SortRestaurants/SortRestaurants.tsx","components/restaurant/DeleteRestaurantModal/DeleteRestaurantModal.tsx","components/UI/ImageSuspense/ImageSuspense.tsx","components/restaurant/RestaurantCard/RestaurantCard.tsx","components/restaurant/RestaurantList/RestaurantList.tsx","components/restaurant/MyRestaurants/MyRestaurants.tsx","utils/orderOptions.tsx","components/UI/Paginator/Paginator.tsx","utils/formatDate.tsx","components/order/OrderModal/OrderModal.tsx","components/order/OrdersListItem/OrdersListItem.tsx","components/order/OrdersList/OrdersList.tsx","components/restaurant/FavoriteRestaurants/FavoriteRestaurants.tsx","pages/UserProfile/UserProfile.tsx","utils/recipeOptions.tsx","components/recipe/AddRecipeModal/AddRecipeModal.tsx","components/recipe/DeleteRecipeModal/DeleteRecipeModal.tsx","components/recipe/Recipe/Recipe.tsx","components/restaurant/RestaurantCategoryList/RestaurantCategoryList.tsx","components/restaurant/RestaurantCategories/RestaurantCategories.tsx","components/restaurant/Statistics/CategoriesChart/CategoriesChart.tsx","components/restaurant/Statistics/SalesChart/SalesChart.tsx","components/restaurant/Statistics/Statistics.tsx","components/restaurant/RestaurantDashboard/RestaurantDashboard.tsx","components/comment/AddCommentForm/AddCommentForm.tsx","components/comment/EditCommentForm/EditCommentForm.tsx","components/comment/Comment/Comment.tsx","components/comment/CommentsModal/CommentsModal.tsx","components/restaurant/RestaurantHeader/RestaurantHeader.tsx","utils/isOpen.tsx","components/shoppingCart/CheckoutForm/CheckoutForm.tsx","components/shoppingCart/ShoppingCartListItem/ShoppingCartListItem.tsx","components/shoppingCart/ShoppingCart/ShoppingCart.tsx","guards/IsOwner.tsx","pages/RestaurantDetails/RestaurantDetails.tsx","pages/City/City.tsx","pages/MainTheme/MainTheme.tsx","components/UI/Notification/Notification.tsx","guards/UserProfileGuard.tsx","App.tsx","reportWebVitals.ts","store/index.tsx","index.tsx"],"names":["module","exports","useAppDispatch","useDispatch","useAppSelector","useSelector","authSlice","createSlice","name","initialState","email","isAdmin","_id","phone","firstName","lastName","city","address","favorites","reducers","login","state","action","payload","logout","addToFavorites","push","localStorage","setItem","JSON","stringify","removeFromFavorites","index","indexOf","splice","autoLoadFavorites","getItem","parse","authActions","actions","cartSlice","restaurants","addToCart","restaurant","find","x","restaurantId","recipe","recipes","quantity","removeFromCart","recipeToRemove","autoLoadCart","cart","clearCartOrder","cartActions","modalSlice","isOpen","overlayName","open","close","changeOverlay","modalActions","notificationSlice","type","text","show","notificationActions","useHttp","dispatch","useState","isLoading","setIsLoading","error","setError","notificationState","notification","sendRequest","useCallback","requestConfig","applyData","a","fetch","url","method","credentials","headers","body","response","json","data","ok","Error","message","errorMessage","useEffect","loadFontAwesome","library","add","faHeart","faChevronUp","faChevronDown","faHeartSolid","faEdit","faTools","faTrash","faComment","faHamburger","faShoppingCart","faFacebookSquare","faInstagramSquare","faTwitterSquare","faPlus","faStar","faUtensils","faUserCircle","faMinus","faEnvelope","faUnlockAlt","faEye","faEyeSlash","faExclamationCircle","faTimesCircle","faCheckCircle","appSlice","isInitializing","initDone","appActions","Footer","className","classes","footer","to","social","href","target","rel","icon","end","usePreventScrolling","isPreventing","setScroll","document","documentElement","style","setProperty","window","scrollY","addEventListener","getPropertyValue","position","top","scrollTo","parseInt","removeEventListener","Backdrop","backdrop","onClick","Modal","props","ReactDOM","createPortal","getElementById","modal","children","useUserInput","validator","inputValue","setInputValue","isTouched","setIsTouched","valueIsValid","value","isValid","hasError","setValue","valueChangeHandler","e","inputBlurHandler","reset","validators","isEmail","Boolean","match","minLength","expectedLength","length","stringMatch","minStringCount","expectedCount","split","map","trim","filter","workTime","isPhone","REACT_APP_BASE_URL","process","userOptions","password","register","rePassword","verify","Spinner","size","small","medium","LoginModal","passwordIsHidden","setPasswordIsHidden","emailValue","emailIsValid","emailHasError","emailChangeHandler","emailBlurHandler","resetEmail","bind","passwordValue","passwordIsValid","passwordHasError","passwordChangeHandler","passwordBlurHandler","resetPassword","formIsValid","processResponse","togglePasswordVisibility","oldState","onSubmit","preventDefault","col","htmlFor","placeholder","id","disabled","onChange","onBlur","invite","RegisterModal","rePasswordIsHidden","setRePasswordIsHidden","rePasswordValue","rePasswordIsValid","rePasswordHasError","rePasswordChangeHandler","rePasswordBlurHandler","resetRePassword","toggleRePasswordVisibility","checkoutSlice","save","clear","checkoutActions","UserPopup","user","auth","isMounted","setIsMounted","history","useHistory","resHandler","logoutHandler","popup","inner","link","btn","UserIcon","popupIsOpen","setPopupIsOpen","containerRef","useRef","imgRef","handleOutsideClick","current","contains","handleInsideClick","nodeName","container","ref","Navigation","modalState","header","Layout","Benefits","benefits","src","alt","Cities","cities","list","Hero","hero","Kitchens","kitchens","kitchen","Home","restaurantSlice","categories","image","object_id","mainTheme","owner","workDays","workHours","rating","ratingsCount","setRestaurant","updateRating","clearRestaurant","restaurantActions","getCities","restaurantOptions","edit","deleteRestaurant","getById","getByOwner","getByCity","query","getByTheme","theme","getFavorites","addComment","comment","deleteComment","commentId","getComments","page","editComment","MultiChoiceSelect","isVisible","setIsVisible","textRef","isInvalid","selected","outsideClickHandler","element","capture","select","oldValue","join","inputStrings","selectedString","isPresent","isPresentIndex","setStateHandler","newSelected","slice","old","onSelectHandler","checked","y","CreateRestaurant","selectedCities","setSelectedCities","selectedFile","setSelectedFile","fileIsValid","setFileIsValid","nameValue","nameIsValid","nameHasError","nameChangeHandler","nameBlurHandler","nameReset","setNameValue","mainThemeValue","mainThemeIsValid","mainThemeHasError","mainThemeChangeHandler","mainThemeBlurHandler","mainThemeReset","setMainThemeValue","categoriesValue","categoriesIsValid","categoriesHasError","categoriesChangeHandler","categoriesBlurHandler","categoriesReset","setCategoriesValue","workTimeValue","workTimeIsValid","workTimeHasError","workTimeChangeHandler","workTimeBlurHandler","workTimeReset","setWorkTimeValue","replace","formData","FormData","append","options","files","HorizontalNav","links","isSticky","setIsSticky","leftScroll","setLeftScroll","rightScroll","setRightScroll","navRef","ulRef","handleYScroll","navBar","ul","styles","getComputedStyle","distance","Number","substring","getBoundingClientRect","init","scrollWidth","clientWidth","scrollLeft","listen","nav","onScroll","scroll","activeClassName","active","exact","uuidv4","UserData","isEditMode","setIsEditMode","firstNameValue","firstNameHasError","firstNameIsValid","firstNameBlurHandler","firstNameChangeHandler","setFirstNameValue","firstNameReset","lastNameValue","lastNameHasError","lastNameIsValid","lastNameBlurHandler","lastNameChangeHandler","setLastNameValue","lastNameReset","setEmailValue","emailReset","phoneValue","phoneHasError","phoneIsValid","phoneBlurHandler","phoneChangeHandler","setPhoneValue","phoneReset","cityValue","cityHasError","cityIsValid","cityBlurHandler","cityChangeHandler","setCityValue","cityReset","addressValue","addressHasError","addressIsValid","addressBlurHandler","addressChangeHandler","setAddressValue","addressReset","fillForm","toString","editClickHandler","userData","constructNewQuery","Object","entries","k","v","extractQueryObject","search","reduce","acc","curr","queryName","SortRestaurants","location","sort","currentTarget","pathname","DeleteRestaurantModal","ImageSuspense","cacheImage","imageSrc","Promise","resolve","reject","img","Image","onload","onerror","loadImage","RestaurantCard","isOwner","description","RestaurantList","MyRestaurants","setRestaurants","res","title","orderOptions","orderData","getOrders","status","deleteOrder","orderId","getOrdersCountByCategoryAndPeriod","period","getSalesByPeriod","getOrdersByOwner","Paginator","totalCount","shownCount","setQuery","lastPage","Math","ceil","navigate","newQuery","paginator","currentPage","formatDate","date","newDate","Date","day","getDate","month","getMonth","year","getFullYear","OrderModal","order","onSuccessDelete","onSuccessChangeStatus","promptAction","setPromptAction","formattedDate","price","items","delivery","totalPrice","toFixed","item","weight","newStatus","OrdersListItem","tagName","OrdersList","orders","setOrders","setPage","setTotalCount","count","fetchOrders","FavoriteRestaurants","UserProfile","path","recipeOptions","recipeId","deleteRecipe","AddRecipeModal","ingredientsValue","ingredientsHasError","ingredientsIsValid","ingredientsBlurHandler","ingredientsChangeHandler","setIngredientsValue","priceValue","priceHasError","priceIsValid","priceBlurHandler","priceChangeHandler","setPriceValue","weightValue","weightHasError","weightIsValid","weightBlurHandler","weightChangeHandler","setWeightValue","categoryValue","categoryIsValid","categoryHasError","categoryBlurHandler","categoryChangeHandler","setCategoryValue","ingredients","category","hidden","DeleteRecipeModal","Recipe","RestaurantCategoryList","memo","categoryRecipes","RestaurantCategories","Chart","registerables","CategoriesChart","canvasRef","setPeriod","dataLabels","setDataLabels","categoriesCount","setCategoriesCount","labels","counts","forEach","myChart","datasets","label","backgroundColor","borderColor","borderWidth","plugins","legend","display","destroy","chart","selectedOptions","SalesChart","Statistics","statistics","RestaurantDashboard","AddCommentForm","cancelClickHandler","addCommentSubmitHandler","setFormIsLoading","commentValue","commentHasError","commentChangeHandler","commentBlurHandler","form","get","rows","controls","EditCommentForm","editCommentHandler","setCommentValue","defaultChecked","Comment","commentObj","deleteCommentHandler","isDeleteMode","setIsDeleteMode","delete","CommentsModal","comments","setComments","totalCommentsCount","setTotalCommentsCount","showAddComment","setShowAddComment","formIsLoading","resId","concat","tokenExpired","observer","lastCommentElementRef","node","disconnect","IntersectionObserver","isIntersecting","oldPage","observe","newComments","i","RestaurantHeader","userIsOwner","restaurantIsInFavorites","includes","scoring","icons","workHoursStartHours","workHoursStartMinutes","workHoursEndHours","workHoursEndMinutes","workHoursStart","setHours","workHoursEnd","time","now","CheckoutForm","cartRecipes","checkoutState","checkout","nameRef","addressRef","cityRef","phoneRef","some","toLocaleLowerCase","setTimeout","citiesString","ShoppingCartListItem","ShoppingCart","setIsOpen","totalQuantity","IsOwner","app","RestaurantDetails","useParams","restaurantIsInCart","City","cityName","MainTheme","Notification","textClasses","greenIconClasses","redIconClasses","closeIconClasses","UserProfileGuard","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","render","StrictMode"],"mappings":"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","file":"static/js/main.2addf1be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"create-restaurant\":\"UserData_create-restaurant__2cSHB\",\"create-restaurant-form\":\"UserData_create-restaurant-form__iYRuf\",\"col\":\"UserData_col__fI2Hz\",\"create-restaurant-form-input\":\"UserData_create-restaurant-form-input__9VLAT\",\"placeholder\":\"UserData_placeholder__1mtIE\",\"file-btn\":\"UserData_file-btn__1A0i5\",\"file-label\":\"UserData_file-label__3d7B1\",\"file-label--invalid\":\"UserData_file-label--invalid__3ARLa\",\"input--invalid\":\"UserData_input--invalid__1rqHw\",\"input-notification\":\"UserData_input-notification__31Vjm\",\"btn-container\":\"UserData_btn-container__3RlH0\",\"btn-container-btn\":\"UserData_btn-container-btn__gYxoT\",\"btn-container-btn--cancel\":\"UserData_btn-container-btn--cancel__2Mx5y\",\"spinner-container\":\"UserData_spinner-container__2qaDI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"add-recipe\":\"AddRecipeModal_add-recipe__mWH8x\",\"col\":\"AddRecipeModal_col__cBsGW\",\"create-restaurant-form-input\":\"AddRecipeModal_create-restaurant-form-input__3TrJz\",\"placeholder\":\"AddRecipeModal_placeholder__3nBsy\",\"file-btn\":\"AddRecipeModal_file-btn__VnuCR\",\"file-label\":\"AddRecipeModal_file-label__8NiOC\",\"file-label--invalid\":\"AddRecipeModal_file-label--invalid__1kYMK\",\"input--invalid\":\"AddRecipeModal_input--invalid__1pJ4U\",\"input-notification\":\"AddRecipeModal_input-notification__1UsrQ\",\"select\":\"AddRecipeModal_select__H7Uv0\",\"opt\":\"AddRecipeModal_opt__2JQWy\",\"btn-flex\":\"AddRecipeModal_btn-flex__367BG\",\"spinner-container\":\"AddRecipeModal_spinner-container__x7b9V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cities\":\"Cities_cities__3RG0h\",\"benefits\":\"Cities_benefits__xsgtU\",\"kitchens\":\"Cities_kitchens__1Ly75\",\"cities-title\":\"Cities_cities-title__3gV_k\",\"kitchens-title\":\"Cities_kitchens-title__3iTUJ\",\"city\":\"Cities_city__2rK1D\",\"kitchen\":\"Cities_kitchen__3HblG\",\"city-name\":\"Cities_city-name__R8NJF\",\"kitchen-name\":\"Cities_kitchen-name__3uowo\",\"list\":\"Cities_list__34Gf5\",\"list-item\":\"Cities_list-item__3qyOl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create-restaurant\":\"CreateRestaurant_create-restaurant__3bb5F\",\"create-restaurant-form\":\"CreateRestaurant_create-restaurant-form__1q2gQ\",\"col\":\"CreateRestaurant_col__1Ddvg\",\"create-restaurant-form-input\":\"CreateRestaurant_create-restaurant-form-input__3Ev0V\",\"placeholder\":\"CreateRestaurant_placeholder__2CWmk\",\"file-btn\":\"CreateRestaurant_file-btn__1wRap\",\"file-label\":\"CreateRestaurant_file-label__3dn-U\",\"file-label--invalid\":\"CreateRestaurant_file-label--invalid__1BvO1\",\"input--invalid\":\"CreateRestaurant_input--invalid__1V92H\",\"input-notification\":\"CreateRestaurant_input-notification__1aOCJ\",\"create-restaurant-btn\":\"CreateRestaurant_create-restaurant-btn__3CafE\",\"spinner-container\":\"CreateRestaurant_spinner-container__1lWW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"AddCommentForm_form__kkAmX\",\"background\":\"AddCommentForm_background__1Qn-W\",\"col\":\"AddCommentForm_col__1bl4w\",\"placeholder\":\"AddCommentForm_placeholder__TugKE\",\"input-invalid\":\"AddCommentForm_input-invalid__29_P_\",\"input-notification\":\"AddCommentForm_input-notification__12m0U\",\"textarea\":\"AddCommentForm_textarea__37QNR\",\"rating\":\"AddCommentForm_rating__3D4yP\",\"icon\":\"AddCommentForm_icon__3MFwY\",\"controls\":\"AddCommentForm_controls__17NfT\",\"controls-btn\":\"AddCommentForm_controls-btn__2XJ_S\",\"controls-btn--danger\":\"AddCommentForm_controls-btn--danger__u4DTO\",\"error\":\"AddCommentForm_error__Vxo_Q\",\"controls-btns\":\"AddCommentForm_controls-btns__3qGO0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"EditCommentForm_form__VIGyh\",\"background\":\"EditCommentForm_background__W4Kza\",\"col\":\"EditCommentForm_col__3ot7N\",\"placeholder\":\"EditCommentForm_placeholder__21FFY\",\"input-invalid\":\"EditCommentForm_input-invalid__1fvd8\",\"input-notification\":\"EditCommentForm_input-notification__2gBnh\",\"textarea\":\"EditCommentForm_textarea__11qS4\",\"rating\":\"EditCommentForm_rating__wCJBt\",\"icon\":\"EditCommentForm_icon__1L_P3\",\"controls\":\"EditCommentForm_controls__2id9G\",\"controls-btn\":\"EditCommentForm_controls-btn__32gKl\",\"controls-btn--danger\":\"EditCommentForm_controls-btn--danger__lduEt\",\"error\":\"EditCommentForm_error__g7AGC\",\"controls-btns\":\"EditCommentForm_controls-btns__2Yatr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"RegisterModal_register__kJbu5\",\"register-title\":\"RegisterModal_register-title__3YEr2\",\"register-form\":\"RegisterModal_register-form__3QNBW\",\"col\":\"RegisterModal_col__3R1EH\",\"placeholder\":\"RegisterModal_placeholder__14OAt\",\"input-invalid\":\"RegisterModal_input-invalid__2d3GN\",\"input-notification\":\"RegisterModal_input-notification__3dBmm\",\"error\":\"RegisterModal_error__S17Wx\",\"invite\":\"RegisterModal_invite__2gagw\",\"spinner-container\":\"RegisterModal_spinner-container__T6Zqi\",\"main-btn\":\"RegisterModal_main-btn__3q8dW\",\"icon\":\"RegisterModal_icon__CoDRJ\",\"eye\":\"RegisterModal_eye___VBjQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"Comment_comment__2Tey_\",\"comment-header\":\"Comment_comment-header__10DPe\",\"comment-header-title\":\"Comment_comment-header-title__5aLIN\",\"rating\":\"Comment_rating__29kHZ\",\"icon\":\"Comment_icon__3UgSa\",\"icon--gray\":\"Comment_icon--gray__2f87-\",\"comment-date\":\"Comment_comment-date__14hRG\",\"comment-text\":\"Comment_comment-text__2k4Ua\",\"comment-edit-btn\":\"Comment_comment-edit-btn__2V9x4\",\"comment-delete-btn\":\"Comment_comment-delete-btn__2qsYE\",\"comment-delete-btn--red\":\"Comment_comment-delete-btn--red__10hrm\",\"delete\":\"Comment_delete__28DLz\",\"delete-title\":\"Comment_delete-title__tIGS2\",\"background\":\"Comment_background__ycVGv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__27SxS\",\"footer-list\":\"Footer_footer-list__QwNgz\",\"footer-list-item\":\"Footer_footer-list-item__-bt1R\",\"footer-list-item-link\":\"Footer_footer-list-item-link__3Rs0e\",\"end\":\"Footer_end__10zwd\",\"social\":\"Footer_social__279pX\",\"footer-wrapper\":\"Footer_footer-wrapper__wulpw\",\"footer-icon\":\"Footer_footer-icon__KRejp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"kitchens\":\"Kitchens_kitchens__2rTWi\",\"kitchens-title\":\"Kitchens_kitchens-title__25CQF\",\"kitchen\":\"Kitchens_kitchen__7KckW\",\"kitchen-name\":\"Kitchens_kitchen-name__3U50v\",\"list\":\"Kitchens_list__2qXZh\",\"list-item\":\"Kitchens_list-item__LcLS1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginModal_login__3sctA\",\"login-title\":\"LoginModal_login-title__1xNJC\",\"login-form\":\"LoginModal_login-form__3aDvX\",\"col\":\"LoginModal_col__2gtji\",\"placeholder\":\"LoginModal_placeholder__1371X\",\"input-invalid\":\"LoginModal_input-invalid__vVny_\",\"input-notification\":\"LoginModal_input-notification__1fdQD\",\"error\":\"LoginModal_error__2sL9k\",\"invite\":\"LoginModal_invite__bD70N\",\"spinner-container\":\"LoginModal_spinner-container__1ZnIm\",\"main-btn\":\"LoginModal_main-btn__2SG4F\",\"icon\":\"LoginModal_icon__-KZnZ\",\"eye\":\"LoginModal_eye__352AR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"OrderModal_modal__1CYg1\",\"order-title\":\"OrderModal_order-title__2TAHE\",\"order-date\":\"OrderModal_order-date__2FSZU\",\"order-price\":\"OrderModal_order-price__2_ECq\",\"order-link\":\"OrderModal_order-link__2nrh7\",\"order-list\":\"OrderModal_order-list__1snpQ\",\"order-list-item\":\"OrderModal_order-list-item__3jsIo\",\"order-list-item-text\":\"OrderModal_order-list-item-text__2VhwW\",\"order-summary\":\"OrderModal_order-summary__1C2Zl\",\"status\":\"OrderModal_status__28um3\",\"status-red\":\"OrderModal_status-red__R74fc\",\"admin-controls\":\"OrderModal_admin-controls__3QTdW\",\"admin-controls-control\":\"OrderModal_admin-controls-control__2zH4S\",\"admin-controls-control--red\":\"OrderModal_admin-controls-control--red__avCiF\",\"delete\":\"OrderModal_delete__3F6aG\",\"delete-title\":\"OrderModal_delete-title__2VM9p\",\"loader-container\":\"OrderModal_loader-container__2Tw-T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restaurant-content\":\"RestaurantHeader_restaurant-content__2GhPV\",\"restaurant-img\":\"RestaurantHeader_restaurant-img__2IBKf\",\"icons\":\"RestaurantHeader_icons__2ndtO\",\"scoring\":\"RestaurantHeader_scoring__Pd3Bm\",\"restaurant-content-subtitle\":\"RestaurantHeader_restaurant-content-subtitle__20Djl\",\"restaurant-content-title\":\"RestaurantHeader_restaurant-content-title__3M5Wf\",\"icon\":\"RestaurantHeader_icon__2pdiA\",\"icon--red\":\"RestaurantHeader_icon--red__3ka4F\",\"icon--blue\":\"RestaurantHeader_icon--blue__27D6V\",\"icon--gray\":\"RestaurantHeader_icon--gray__3k1g9\",\"icon--after\":\"RestaurantHeader_icon--after__3k592\",\"restaurant-content-title-wrapper\":\"RestaurantHeader_restaurant-content-title-wrapper__3330b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-title\":\"CheckoutForm_form-title__1zp5U\",\"col\":\"CheckoutForm_col__3V1z6\",\"placeholder\":\"CheckoutForm_placeholder__1xVHM\",\"form\":\"CheckoutForm_form__3dyF3\",\"input-invalid\":\"CheckoutForm_input-invalid__U918i\",\"input-notification\":\"CheckoutForm_input-notification__1nlh_\",\"main-btn\":\"CheckoutForm_main-btn__1Wz9I\",\"spinner-container\":\"CheckoutForm_spinner-container__hGHts\",\"error\":\"CheckoutForm_error__2slp9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"restaurant\":\"RestaurantCard_restaurant__2JMy-\",\"restaurant-image-wrapper\":\"RestaurantCard_restaurant-image-wrapper__3Cpjp\",\"restaurant-img-wrapper-img\":\"RestaurantCard_restaurant-img-wrapper-img__Qya-6\",\"restaurant-title-wrapper\":\"RestaurantCard_restaurant-title-wrapper__L0KVS\",\"restaurant-title\":\"RestaurantCard_restaurant-title__3Yww1\",\"description\":\"RestaurantCard_description__QAlD0\",\"restaurant-score\":\"RestaurantCard_restaurant-score__2wwqV\",\"restaurant-score-icon\":\"RestaurantCard_restaurant-score-icon__2nkQw\",\"restaurant-score-icon--gray\":\"RestaurantCard_restaurant-score-icon--gray__3PAbQ\",\"restaurant-text-wrapper\":\"RestaurantCard_restaurant-text-wrapper__2YSQA\",\"icon\":\"RestaurantCard_icon__2y1q9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Navigation_header__3QyMU\",\"container\":\"Navigation_container__2Ip_f\",\"icon\":\"Navigation_icon__2yZRd\",\"navigation-wrapper\":\"Navigation_navigation-wrapper__2mAAJ\",\"nav-list\":\"Navigation_nav-list__18kn0\",\"nav-list-item\":\"Navigation_nav-list-item__2b7yn\",\"logo-link\":\"Navigation_logo-link__1349S\",\"user-icon\":\"Navigation_user-icon__1dWv0\",\"logo-link-short\":\"Navigation_logo-link-short__PF8Ct\",\"logo-link-long\":\"Navigation_logo-link-long__1v1Jf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recipe\":\"Recipe_recipe__ND3vb\",\"recipe-img-wrapper\":\"Recipe_recipe-img-wrapper__37_PQ\",\"recipe-content\":\"Recipe_recipe-content__EZcz_\",\"recipe-content-text\":\"Recipe_recipe-content-text__2va3a\",\"recipe-icon-wrapper\":\"Recipe_recipe-icon-wrapper__kwtci\",\"recipe-admin-icons-wrapper\":\"Recipe_recipe-admin-icons-wrapper__3DCmX\",\"recipe-icon\":\"Recipe_recipe-icon__3bMFc\",\"recipe-content-weight\":\"Recipe_recipe-content-weight__2pJaB\",\"recipe-content-title\":\"Recipe_recipe-content-title__3u1-A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"ShoppingCart_cart__zpX17\",\"cart-header\":\"ShoppingCart_cart-header__wPVn4\",\"cart-header-img-wrapper\":\"ShoppingCart_cart-header-img-wrapper__3eCkM\",\"cart-header-img-wrapper-icon\":\"ShoppingCart_cart-header-img-wrapper-icon__1cjfZ\",\"cart-header-img-quantity\":\"ShoppingCart_cart-header-img-quantity__2T_7v\",\"cart-header-text\":\"ShoppingCart_cart-header-text__3TFhl\",\"cart-content\":\"ShoppingCart_cart-content__2Ev3F\",\"cart-content-recipes\":\"ShoppingCart_cart-content-recipes__13mDI\",\"cart-content-checkout\":\"ShoppingCart_cart-content-checkout__3YrUl\",\"cart-content-recipes-list\":\"ShoppingCart_cart-content-recipes-list__2-y4g\",\"cart-content-summary\":\"ShoppingCart_cart-content-summary__yTEIQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"benefits\":\"Benefits_benefits__2sJw3\",\"benefits-img\":\"Benefits_benefits-img__2BX0x\",\"benefits-content\":\"Benefits_benefits-content__344X_\",\"benefits-content-title\":\"Benefits_benefits-content-title__16P1y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"HorizontalNav_nav__37TwV\",\"nav--scrolled\":\"HorizontalNav_nav--scrolled__1HS42\",\"list\":\"HorizontalNav_list__1N1wy\",\"list-item\":\"HorizontalNav_list-item__1HGTg\",\"active\":\"HorizontalNav_active__2Ac5x\",\"btn-wrapper\":\"HorizontalNav_btn-wrapper__226dE\",\"btn-wrapper--right\":\"HorizontalNav_btn-wrapper--right__3Rd3K\",\"left-arrow\":\"HorizontalNav_left-arrow__1-GKM\",\"right-arrow\":\"HorizontalNav_right-arrow__VyBKd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsModal_comments__dubot\",\"comments-title\":\"CommentsModal_comments-title__781yh\",\"comments-score\":\"CommentsModal_comments-score__r46cF\",\"comments-score-title\":\"CommentsModal_comments-score-title__3pyV6\",\"comments-score-icon\":\"CommentsModal_comments-score-icon__26h2g\",\"comments-score-icon--gray\":\"CommentsModal_comments-score-icon--gray__2c6zl\",\"comments-list\":\"CommentsModal_comments-list__2Lez8\",\"comments-list-item\":\"CommentsModal_comments-list-item__8Mj9e\",\"comments-btn\":\"CommentsModal_comments-btn__2aFGf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__1pJAJ\",\"notification-text\":\"Notification_notification-text__3Qcva\",\"notification-text--red\":\"Notification_notification-text--red__3TjWk\",\"icon\":\"Notification_icon__2zOdA\",\"icon--red\":\"Notification_icon--red__JrQGt\",\"icon--close\":\"Notification_icon--close__1Qdnu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"UserPopup_popup__1gSEA\",\"inner\":\"UserPopup_inner__17dAK\",\"link\":\"UserPopup_link__1fFIa\",\"btn\":\"UserPopup_btn__1u2vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"Hero_hero__rVHf0\",\"hero-img\":\"Hero_hero-img__3iFGl\",\"hero-content\":\"Hero_hero-content__3eq5m\",\"hero-content-title\":\"Hero_hero-content-title__3LA2c\",\"hero-content-subtitle\":\"Hero_hero-content-subtitle__3L3t5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1Ifp0\",\"paginator-page\":\"Paginator_paginator-page__1an1C\",\"paginator-btn\":\"Paginator_paginator-btn__27ajC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"ShoppingCartListItem_cart-item__2WTuz\",\"cart-item-controls\":\"ShoppingCartListItem_cart-item-controls__1X6rw\",\"cart-item-icons\":\"ShoppingCartListItem_cart-item-icons__3BusN\",\"cart-item-text\":\"ShoppingCartListItem_cart-item-text__9vMB8\",\"icon--red\":\"ShoppingCartListItem_icon--red__3EdfM\",\"icon--green\":\"ShoppingCartListItem_icon--green__sI9E5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"MultiChoiceSelect_select__26y1F\",\"select--invalid\":\"MultiChoiceSelect_select--invalid__3ra7k\",\"list\":\"MultiChoiceSelect_list__1f1F6\",\"text\":\"MultiChoiceSelect_text__3X189\",\"input-notification\":\"MultiChoiceSelect_input-notification__1aCFU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"delete-restaurant\":\"DeleteRestaurantModal_delete-restaurant__3DS_G\",\"delete-restaurant-title\":\"DeleteRestaurantModal_delete-restaurant-title__1sIFF\",\"delete-restaurant-btn\":\"DeleteRestaurantModal_delete-restaurant-btn__2JofT\",\"delete-restaurant-btn--danger\":\"DeleteRestaurantModal_delete-restaurant-btn--danger__13Mj4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"OrdersListItem_order__3Cojh\",\"order-title\":\"OrdersListItem_order-title__2JSY4\",\"order-date\":\"OrdersListItem_order-date__2jKTr\",\"order-price\":\"OrdersListItem_order-price__bqFMz\",\"order-link\":\"OrdersListItem_order-link__12d5-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"delete-recipe\":\"DeleteRecipeModal_delete-recipe__Ed2ur\",\"delete-recipe-title\":\"DeleteRecipeModal_delete-recipe-title__3AaiN\",\"delete-recipe-btn\":\"DeleteRecipeModal_delete-recipe-btn__2c09N\",\"delete-recipe-btn--danger\":\"DeleteRecipeModal_delete-recipe-btn--danger__342VY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"CategoriesChart_chart__3mgBD\",\"chart-title\":\"CategoriesChart_chart-title__8XmpL\",\"chart-select\":\"CategoriesChart_chart-select__3G9Qv\",\"hide\":\"CategoriesChart_hide__ZUjWo\",\"canvas\":\"CategoriesChart_canvas__kseIe\",\"no-data\":\"CategoriesChart_no-data__2-RRz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chart\":\"SalesChart_chart__1RVhp\",\"chart-title\":\"SalesChart_chart-title__18kKr\",\"chart-select\":\"SalesChart_chart-select__1HZYd\",\"hide\":\"SalesChart_hide__1z1W0\",\"canvas\":\"SalesChart_canvas__1uEds\",\"no-data\":\"SalesChart_no-data__1FNDD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds-dual-ring\":\"Spinner_lds-dual-ring__6HBEi\",\"small\":\"Spinner_small__2dzd6\",\"medium\":\"Spinner_medium__N-f44\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"OrdersList_list__Zduol\",\"list-item\":\"OrdersList_list-item__2NlNg\",\"no-orders-title\":\"OrdersList_no-orders-title__3n0K3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2NPG6\",\"modal\":\"Modal_modal__2ZZ73\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user-icon\":\"UserIcon_user-icon__2Nm-m\",\"container\":\"UserIcon_container__NqWvg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sort\":\"SortRestaurants_sort__3sZA3\",\"sort-select\":\"SortRestaurants_sort-select__3mUX3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"RestaurantList_list__3fMr7\",\"list-item\":\"RestaurantList_list-item__39XXd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"RestaurantCategoryList_category__1wG_A\",\"category-title\":\"RestaurantCategoryList_category-title__2o2U9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader-container\":\"ImageSuspense_loader-container__G-U7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MyRestaurants_title__1EBHN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category-title\":\"RestaurantCategories_category-title__144u_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statistics\":\"Statistics_statistics__2y7wH\"};","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\nimport type { RootState, AppDispatch } from '../store';\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport IAuthState from \"../interfaces/IAuthState\";\r\n\r\nconst initialState: IAuthState = {\r\n    email: null,\r\n    isAdmin: false,\r\n    _id: null,\r\n    phone: null,\r\n    firstName: null,\r\n    lastName: null,\r\n    city: null,\r\n    address: null,\r\n    favorites: []\r\n}\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState,\r\n    reducers: {\r\n        login(state, action: PayloadAction<IAuthState>) {\r\n            state.email = action.payload.email;\r\n            state._id = action.payload._id;\r\n            state.isAdmin = action.payload.isAdmin;\r\n            state.firstName = action.payload.firstName;\r\n            state.lastName = action.payload.lastName;\r\n            state.phone = action.payload.phone;\r\n            state.city = action.payload.city;\r\n            state.address = action.payload.address;\r\n        },\r\n        logout(state) {\r\n            state.email = null;\r\n            state._id = null;\r\n            state.isAdmin = false;\r\n            state.phone = null;\r\n            state.firstName = null;\r\n            state.lastName = null;\r\n            state.city = null;\r\n            state.address = null;\r\n        },\r\n        addToFavorites(state, action: PayloadAction<{ _id: string }>) {\r\n            state.favorites.push(action.payload._id);\r\n            localStorage.setItem('favorites', JSON.stringify(state.favorites));\r\n        },\r\n        removeFromFavorites(state, action: PayloadAction<{ _id: string }>) {\r\n            const index = state.favorites.indexOf(action.payload._id);\r\n            state.favorites.splice(index, 1);\r\n            localStorage.setItem('favorites', JSON.stringify(state.favorites));\r\n        },\r\n        autoLoadFavorites(state) {\r\n            const favorites = localStorage.getItem('favorites');\r\n            if (favorites) {\r\n                state.favorites = JSON.parse(favorites);\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\n\r\nexport default authSlice.reducer;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport ICartState from \"../interfaces/ICartState\";\r\nimport IRecipe from \"../interfaces/IRecipe\";\r\n\r\n\r\nconst initialState: ICartState = {\r\n    restaurants: []\r\n}\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        addToCart(state, action: PayloadAction<{ restaurantId: string; recipe: IRecipe }>) {\r\n            const restaurant = state.restaurants.find(x => x.restaurantId === action.payload.restaurantId);\r\n            if (restaurant) {\r\n                const recipe = restaurant.recipes.find(x => x.recipe._id === action.payload.recipe._id);\r\n                if (recipe) {\r\n                    recipe.quantity++;\r\n                } else {\r\n                    restaurant.recipes.push({ recipe: action.payload.recipe, quantity: 1 });\r\n                }\r\n            } else {\r\n                state.restaurants.push({\r\n                    restaurantId: action.payload.restaurantId,\r\n                    recipes: [{ recipe: action.payload.recipe, quantity: 1 }]\r\n                });\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(state));\r\n        },\r\n        removeFromCart(state, action: PayloadAction<{ restaurantId: string; recipe: IRecipe }>) {\r\n            const restaurant = state.restaurants.find(x => x.restaurantId === action.payload.restaurantId);\r\n            const recipeToRemove = restaurant?.recipes.find(x => x.recipe._id === action.payload.recipe._id);\r\n            if (recipeToRemove?.quantity === 1) {\r\n                const index = restaurant?.recipes.indexOf(recipeToRemove!);\r\n                restaurant?.recipes.splice(index!, 1);\r\n            } else {\r\n                recipeToRemove!.quantity--;\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(state));\r\n        },\r\n        autoLoadCart(state) {\r\n            const cart = localStorage.getItem('cart');\r\n            if (cart) {\r\n                state.restaurants = JSON.parse(cart).restaurants;\r\n            }\r\n        },\r\n        clearCartOrder(state, action: PayloadAction<{ restaurantId: string }>) {\r\n            const restaurant = state.restaurants.find(x => x.restaurantId === action.payload.restaurantId);\r\n            const index = state.restaurants.indexOf(restaurant!);\r\n            state.restaurants.splice(index, 1);\r\n            localStorage.setItem('cart', JSON.stringify(state));\r\n        }\r\n    }\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IModalState } from \"../interfaces/IModalState\";\r\n\r\n\r\n\r\nconst initialState: IModalState = {\r\n    isOpen: false,\r\n    overlayName: ''\r\n}\r\n\r\nconst modalSlice = createSlice({\r\n    name: 'modal',\r\n    initialState,\r\n    reducers: {\r\n        open(state, action: PayloadAction<string>) {\r\n            state.isOpen = true;\r\n            state.overlayName = action.payload;\r\n        },\r\n        close(state) {\r\n            state.isOpen = false;\r\n            state.overlayName = '';\r\n        },\r\n        changeOverlay(state, action: PayloadAction<string>) {\r\n            state.overlayName = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const modalActions = modalSlice.actions;\r\n\r\nexport default modalSlice.reducer;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport INotification from \"../interfaces/INotification\";\r\n\r\nconst initialState: INotification = {\r\n    type: '',\r\n    text: ''\r\n}\r\n\r\nconst notificationSlice = createSlice({\r\n    name: 'notification',\r\n    initialState,\r\n    reducers: {\r\n        show(state, action: PayloadAction<INotification>) {\r\n            state.type = action.payload.type || 'error';\r\n            state.text = action.payload.text || 'Something went wrong. Please try again later.';\r\n        },\r\n        close(state) {\r\n            state.type = '';\r\n            state.text = '';\r\n        }\r\n    }\r\n});\r\n\r\nexport const notificationActions = notificationSlice.actions;\r\n\r\nexport default notificationSlice.reducer;","import { useState, useCallback, useEffect } from 'react';\r\n\r\nimport { authActions } from '../store/auth';\r\nimport { modalActions } from '../store/modal';\r\nimport { notificationActions } from '../store/notification';\r\nimport { useAppDispatch, useAppSelector } from './reduxHooks';\r\n\r\ntype reqConfig = {\r\n    url: string;\r\n    method?: string;\r\n    headers?: {};\r\n    body?: any;\r\n}\r\n\r\nconst useHttp = () => {\r\n    const dispatch = useAppDispatch();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const notificationState = useAppSelector(state => state.notification);\r\n\r\n    const sendRequest = useCallback(async (requestConfig: reqConfig, applyData) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const response = await fetch(requestConfig.url, {\r\n                method: requestConfig.method || 'GET',\r\n                credentials: 'include',\r\n                headers: requestConfig.headers || {},\r\n                body: requestConfig.body || null\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) { throw new Error(data.message); }\r\n\r\n            setIsLoading(false);\r\n            applyData(data);\r\n        } catch (err) {\r\n            let errorMessage = (err as Error).message;\r\n            if (errorMessage === 'Failed to fetch' || errorMessage === '') {\r\n                errorMessage = 'Something went wrong. Please try again later.'\r\n            }\r\n\r\n            if (errorMessage === 'Please log in') {\r\n                dispatch(authActions.logout());\r\n                dispatch(modalActions.open('login'));\r\n            }\r\n            setError(errorMessage);\r\n            setIsLoading(false);\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            dispatch(notificationActions.show({ type: 'error', text: error }));\r\n        }\r\n        if (notificationState.text === '') {\r\n            setError(null);\r\n        }\r\n    }, [dispatch, error, notificationState.text]);\r\n\r\n    return {\r\n        isLoading,\r\n        error,\r\n        setError,\r\n        sendRequest,\r\n    };\r\n};\r\n\r\nexport default useHttp;","import { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n\tfaHeart as faHeartSolid,\r\n\tfaEdit,\r\n\tfaTools,\r\n\tfaTrash,\r\n\tfaHamburger,\r\n\tfaShoppingCart,\r\n\tfaChevronDown,\r\n\tfaChevronUp,\r\n\tfaPlus,\r\n\tfaStar,\r\n\tfaUtensils,\r\n\tfaMinus,\r\n\tfaUnlockAlt,\r\n    faExclamationCircle,\r\n    faTimesCircle,\r\n    faCheckCircle,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n\tfaHeart,\r\n\tfaComment,\r\n\tfaUserCircle,\r\n\tfaEnvelope,\r\n\tfaEye,\r\n\tfaEyeSlash,\r\n} from '@fortawesome/free-regular-svg-icons';\r\nimport { faFacebookSquare, faInstagramSquare, faTwitterSquare } from '@fortawesome/free-brands-svg-icons';\r\n\r\nconst loadFontAwesome = () => {\r\n    library.add(faHeart,\r\n        faChevronUp,\r\n        faChevronDown,\r\n        faHeartSolid,\r\n        faEdit,\r\n        faTools,\r\n        faTrash,\r\n        faComment,\r\n        faHamburger,\r\n        faShoppingCart,\r\n        faFacebookSquare,\r\n        faInstagramSquare,\r\n        faTwitterSquare,\r\n        faPlus,\r\n        faStar,\r\n        faUtensils,\r\n        faUserCircle,\r\n        faMinus,\r\n        faEnvelope,\r\n        faUnlockAlt,\r\n        faEye,\r\n        faEyeSlash,\r\n        faExclamationCircle,\r\n        faTimesCircle,\r\n        faCheckCircle,\r\n    );\r\n};\r\n\r\nexport default loadFontAwesome;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst initialState = {\r\n    isInitializing: true\r\n}\r\n\r\nconst appSlice = createSlice({\r\n    name: 'app',\r\n    initialState,\r\n    reducers: {\r\n        initDone(state) {\r\n            state.isInitializing = false;\r\n        },\r\n    }\r\n});\r\n\r\nexport const appActions = appSlice.actions;\r\n\r\nexport default appSlice.reducer;","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport classes from './Footer.module.css';\r\n\r\nconst Footer: React.FC = () => {\r\n    return (\r\n        <footer className={classes.footer}>\r\n            <section className={classes['footer-wrapper']}>\r\n                <ul className={classes['footer-list']}>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <Link className={classes['footer-list-item-link']} to=\"/contacts\">Contacts</Link>\r\n                    </li>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <Link className={classes['footer-list-item-link']} to=\"/about-us\">About us</Link>\r\n                    </li>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <Link className={classes['footer-list-item-link']} to=\"/terms-and-condition\">Terms and conditions</Link>\r\n                    </li>\r\n                </ul>\r\n                <ul className={`${classes.social} ${classes['footer-list']}`}>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <a className={classes['footer-list-item-link']} href=\"http://facebook.com\" target=\"_blank\" rel=\"noreferrer\">\r\n                            <FontAwesomeIcon icon={['fab', 'facebook-square']} className={classes['footer-icon']} />\r\n                        </a>\r\n                    </li>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <a className={classes['footer-list-item-link']} href=\"http://instagram.com\" target=\"_blank\" rel=\"noreferrer\">\r\n                            <FontAwesomeIcon icon={['fab', 'instagram-square']} className={classes['footer-icon']} />\r\n                        </a>\r\n                    </li>\r\n                    <li className={classes['footer-list-item']}>\r\n                        <a className={classes['footer-list-item-link']} href=\"http://twitter.com\" target=\"_blank\" rel=\"noreferrer\">\r\n                        <FontAwesomeIcon icon={['fab', 'twitter-square']} className={classes['footer-icon']} />\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <p className={classes.end}>&copy; This site is made with educational purpose only! No rights reserved!</p>\r\n            </section>\r\n        </footer >\r\n    );\r\n};\r\n\r\nexport default Footer;","import { useEffect } from \"react\";\r\n\r\nconst usePreventScrolling = (isPreventing: boolean) => {\r\n    const setScroll = () => {\r\n        document.documentElement.style.setProperty('--scroll-y', `${window.scrollY}px`);\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', setScroll);\r\n        if (isPreventing) {\r\n            const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\r\n            document.body.style.position = 'fixed';\r\n            document.body.style.top = `-${scrollY}`;\r\n        }\r\n\r\n        return () => {\r\n            const scrollY = document.body.style.top;\r\n            document.body.style.position = '';\r\n            document.body.style.top = '';\r\n            window.scrollTo(0, parseInt(scrollY || '0') * -1);\r\n            window.removeEventListener('scroll', setScroll);\r\n        }\r\n    }, [isPreventing]);\r\n};\r\n\r\nexport default usePreventScrolling;","import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { useAppDispatch } from \"../../../hooks/reduxHooks\";\r\nimport { modalActions } from \"../../../store/modal\";\r\n\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nexport const Backdrop: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const closeModal = () => {\r\n        dispatch(modalActions.close())\r\n    }\r\n    return <div className={classes.backdrop} onClick={closeModal}></div>;\r\n}\r\n\r\nconst Modal: React.FC = (props) => {\r\n    return (\r\n        <>\r\n            {ReactDOM.createPortal(\r\n                <Backdrop />,\r\n                document.getElementById('backdrop-root')!\r\n            )}\r\n            {ReactDOM.createPortal(\r\n                <div className={classes.modal}>\r\n                    {props.children}\r\n                </div>,\r\n                document.getElementById('overlay-root')!\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Modal;","import React, { useState } from \"react\";\r\n\r\nconst useUserInput = (validator: (value: string) => {}) => {\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [isTouched, setIsTouched] = useState(false);\r\n\r\n    const valueIsValid = validator(inputValue);\r\n    const hasError = !valueIsValid && isTouched;\r\n\r\n    const valueChangeHandler = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\r\n        setInputValue(e.target.value);\r\n    };\r\n\r\n    const inputBlurHandler = (e: React.FocusEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\r\n        setIsTouched(true);\r\n    };\r\n\r\n    const reset = () => {\r\n        setInputValue('');\r\n        setIsTouched(false);\r\n    };\r\n\r\n    return {\r\n        value: inputValue,\r\n        isValid: valueIsValid,\r\n        hasError,\r\n        setValue: setInputValue,\r\n        valueChangeHandler,\r\n        inputBlurHandler,\r\n        reset\r\n    };\r\n};\r\n\r\nexport default useUserInput;","import { isEmail } from \"./isEmail\";\r\nimport { minLength } from \"./minLength\";\r\nimport { stringMatch } from \"./stringMatch\";\r\nimport { minStringCount } from \"./minStringCount\";\r\nimport { workTime } from \"./workTime\";\r\nimport { isPhone } from \"./isPhone\";\r\n\r\nconst validators = {\r\n    isEmail,\r\n    minLength,\r\n    stringMatch,\r\n    minStringCount,\r\n    workTime,\r\n    isPhone\r\n}\r\n\r\nexport default validators;","// eslint-disable-next-line\r\nexport const isEmail = (value: string) => Boolean(value.match(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/));","export const minLength = (expectedLength: number, value: string) => value.length >= expectedLength;","export const stringMatch = (value: string, match: string) => value === match;","export const minStringCount = (expectedCount: number, value: string) => {\r\n    const stringArr = value.split(',').map(x => x.trim());\r\n    return stringArr.filter(x => x !== '').length >= expectedCount;\r\n};","// eslint-disable-next-line\r\nexport const workTime = (value: string) => Boolean(value.match(/^[A-Z]{1}[a-z]+-[A-Z]{1}[a-z]+ [0-9]{1,2}:[0-9]{2}-[0-9]{2}:[0-9]{2}$/));","// eslint-disable-next-line\r\nexport const isPhone = (value: string) => Boolean(value.match(/^(\\+359|0)\\d{9}$/));","const { REACT_APP_BASE_URL } = process.env;\r\n\r\nconst login = (email: string, password: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/user/login`,\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            email: email,\r\n            password: password\r\n        })\r\n    }\r\n};\r\n\r\nconst register = (email: string, password: string, rePassword: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/user/register`,\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            email,\r\n            password,\r\n            rePassword\r\n        })\r\n    }\r\n};\r\n\r\nconst logout = () => {\r\n    return { url: `${REACT_APP_BASE_URL}/user/logout` };\r\n};\r\n\r\nconst verify = () => {\r\n    return { url: `${REACT_APP_BASE_URL}/user/verify` }\r\n}\r\n\r\nconst userOptions = {\r\n    login,\r\n    register,\r\n    logout,\r\n    verify\r\n}\r\n\r\nexport default userOptions;","import classes from './Spinner.module.css';\r\n\r\ntype SpinnerProps = JSX.IntrinsicElements['div'] & {\r\n    size?: string\r\n}\r\n\r\nconst Spinner: React.FC<SpinnerProps> = (props) => {\r\n    return (\r\n        <div className={`\r\n            ${classes['lds-dual-ring']}\r\n            ${props.size === 'small' ? classes.small : ''}\r\n            ${props.size === 'medium' ? classes.medium : ''}`}\r\n        >\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner;","import { FormEvent, useState } from 'react';\r\n\r\nimport { authActions } from '../../../store/auth';\r\nimport { modalActions } from '../../../store/modal';\r\nimport { useAppDispatch } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport validators from '../../../validators';\r\nimport IAuthState from '../../../interfaces/IAuthState';\r\nimport userOptions from '../../../utils/userOptions';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './LoginModal.module.css';\r\n\r\nconst LoginModal: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const [passwordIsHidden, setPasswordIsHidden] = useState(true);\r\n    const {\r\n        value: emailValue,\r\n        isValid: emailIsValid,\r\n        hasError: emailHasError,\r\n        valueChangeHandler: emailChangeHandler,\r\n        inputBlurHandler: emailBlurHandler,\r\n        reset: resetEmail\r\n    } = useUserInput(validators.isEmail);\r\n    const {\r\n        value: passwordValue,\r\n        isValid: passwordIsValid,\r\n        hasError: passwordHasError,\r\n        valueChangeHandler: passwordChangeHandler,\r\n        inputBlurHandler: passwordBlurHandler,\r\n        reset: resetPassword\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n\r\n    let formIsValid = false;\r\n\r\n    if (emailIsValid && passwordIsValid) {\r\n        formIsValid = true;\r\n    }\r\n\r\n    const processResponse = (response: IAuthState) => {\r\n        resetEmail();\r\n        resetPassword();\r\n        dispatch(modalActions.close());\r\n        dispatch(authActions.login(response));\r\n    }\r\n\r\n    const submitHandler = (e: FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        sendRequest(userOptions.login(emailValue, passwordValue), processResponse);\r\n    }\r\n\r\n    const switchToRegister = (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        dispatch(modalActions.changeOverlay('register'));\r\n    }\r\n\r\n    const togglePasswordVisibility = () => {\r\n        setPasswordIsHidden(oldState => !oldState);\r\n    };\r\n\r\n    return (\r\n        <section className={classes.login}>\r\n            <h3 className={classes['login-title']}>Sign in into Food Delivery Network</h3>\r\n            <form className={classes['login-form']} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <label htmlFor=\"email\">\r\n                        <FontAwesomeIcon icon={['far', 'envelope']} className={classes['icon']} />\r\n                    </label>\r\n                    <input\r\n                        className={emailHasError ? classes['input-invalid'] : ''}\r\n                        placeholder=\" \"\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        id=\"email\"\r\n                        disabled={isLoading}\r\n                        value={emailValue}\r\n                        onChange={emailChangeHandler}\r\n                        onBlur={emailBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Email</span>\r\n                    {emailHasError && <p className={classes['input-notification']}>Please enter a valid email</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <label htmlFor=\"password\">\r\n                        <FontAwesomeIcon icon={['fas', 'unlock-alt']} className={classes['icon']} />\r\n                    </label>\r\n                    <input\r\n                        className={passwordHasError ? classes['input-invalid'] : ''}\r\n                        placeholder=\" \"\r\n                        type={passwordIsHidden ? 'password' : 'text'}\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        disabled={isLoading}\r\n                        value={passwordValue}\r\n                        onChange={passwordChangeHandler}\r\n                        onBlur={passwordBlurHandler}\r\n                    />\r\n                    {passwordIsHidden\r\n                        ? <FontAwesomeIcon icon={['far', 'eye-slash']} className={`${classes['icon']} ${classes['eye']}`} onClick={togglePasswordVisibility} />\r\n                        : <FontAwesomeIcon icon={['far', 'eye']} className={`${classes['icon']} ${classes['eye']}`} onClick={togglePasswordVisibility} />\r\n                    }\r\n                    <span className={classes.placeholder}>Password</span>\r\n                    {passwordHasError && <p className={classes['input-notification']}>At least 6 characters</p>}\r\n                </div>\r\n                <button\r\n                    className={`main-btn ${classes['main-btn']}`}\r\n                    disabled={!formIsValid || isLoading}\r\n                >\r\n                    Sign in\r\n                    {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                </button>\r\n                <p className={classes.invite}>You don't have registration? <a href=\"/register\" onClick={switchToRegister}>Sign up now!</a></p>\r\n            </form>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default LoginModal;","import { FormEvent, useState } from 'react';\r\n\r\nimport { authActions } from '../../../store/auth';\r\nimport { modalActions } from '../../../store/modal';\r\nimport { useAppDispatch } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport validators from '../../../validators';\r\nimport IAuthState from '../../../interfaces/IAuthState';\r\nimport userOptions from '../../../utils/userOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nimport classes from './RegisterModal.module.css';\r\n\r\nconst RegisterModal: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const [passwordIsHidden, setPasswordIsHidden] = useState(true);\r\n    const [rePasswordIsHidden, setRePasswordIsHidden] = useState(true);\r\n    const {\r\n        value: emailValue,\r\n        isValid: emailIsValid,\r\n        hasError: emailHasError,\r\n        valueChangeHandler: emailChangeHandler,\r\n        inputBlurHandler: emailBlurHandler,\r\n        reset: resetEmail\r\n    } = useUserInput(validators.isEmail);\r\n    const {\r\n        value: passwordValue,\r\n        isValid: passwordIsValid,\r\n        hasError: passwordHasError,\r\n        valueChangeHandler: passwordChangeHandler,\r\n        inputBlurHandler: passwordBlurHandler,\r\n        reset: resetPassword\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: rePasswordValue,\r\n        isValid: rePasswordIsValid,\r\n        hasError: rePasswordHasError,\r\n        valueChangeHandler: rePasswordChangeHandler,\r\n        inputBlurHandler: rePasswordBlurHandler,\r\n        reset: resetRePassword\r\n    } = useUserInput(validators.stringMatch.bind(null, passwordValue));\r\n\r\n    let formIsValid = false;\r\n\r\n    if (emailIsValid && passwordIsValid && rePasswordIsValid && passwordValue === rePasswordValue) {\r\n        formIsValid = true;\r\n    }\r\n\r\n    const processResponse = (response: IAuthState) => {\r\n        resetEmail();\r\n        resetPassword();\r\n        resetRePassword();\r\n        dispatch(modalActions.close());\r\n        dispatch(authActions.login(response));\r\n    };\r\n\r\n    const submitHandler = (e: FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        sendRequest(userOptions.register(emailValue, passwordValue, rePasswordValue), processResponse);\r\n    }\r\n\r\n    const switchToLogin = (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        dispatch(modalActions.changeOverlay('login'));\r\n    }\r\n\r\n    const togglePasswordVisibility = () => {\r\n        setPasswordIsHidden(oldState => !oldState);\r\n    };\r\n\r\n    const toggleRePasswordVisibility = () => {\r\n        setRePasswordIsHidden(oldState => !oldState);\r\n    };\r\n\r\n    return (\r\n        <section className={classes.register}>\r\n            <h3 className={classes['register-title']}>Sign up into Food Delivery Network</h3>\r\n            <form className={classes['register-form']} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <label htmlFor=\"email\">\r\n                        <FontAwesomeIcon icon={['far', 'envelope']} className={classes['icon']} />\r\n                    </label>\r\n                    <input\r\n                        className={emailHasError ? classes['input-invalid'] : ''}\r\n                        type=\"email\"\r\n                        placeholder=\" \"\r\n                        name=\"email\"\r\n                        id=\"email\"\r\n                        disabled={isLoading}\r\n                        value={emailValue}\r\n                        onChange={emailChangeHandler}\r\n                        onBlur={emailBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Email</span>\r\n                    {emailHasError && <p className={classes['input-notification']}>Please enter a valid email</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <label htmlFor=\"password\">\r\n                        <FontAwesomeIcon icon={['fas', 'unlock-alt']} className={classes['icon']} />\r\n                    </label>\r\n                    <input\r\n                        className={passwordHasError ? classes['input-invalid'] : ''}\r\n                        type={passwordIsHidden ? 'password' : 'text'}\r\n                        placeholder=\" \"\r\n                        name=\"password\"\r\n                        id=\"password\"\r\n                        value={passwordValue}\r\n                        onChange={passwordChangeHandler}\r\n                        onBlur={passwordBlurHandler}\r\n                    />\r\n                    {passwordIsHidden\r\n                        ? <FontAwesomeIcon icon={['far', 'eye-slash']} className={`${classes['icon']} ${classes['eye']}`} onClick={togglePasswordVisibility} />\r\n                        : <FontAwesomeIcon icon={['far', 'eye']} className={`${classes['icon']} ${classes['eye']}`} onClick={togglePasswordVisibility} />\r\n                    }\r\n                    <span className={classes.placeholder}>Password</span>\r\n                    {passwordHasError && <p className={classes['input-notification']}>At least 6 characters</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <label htmlFor=\"re-password\">\r\n                        <FontAwesomeIcon icon={['fas', 'unlock-alt']} className={classes['icon']} />\r\n                    </label>\r\n                    <input\r\n                        className={rePasswordHasError ? classes['input-invalid'] : ''}\r\n                        type={rePasswordIsHidden ? 'password' : 'text'}\r\n                        placeholder=\" \"\r\n                        name=\"re-password\"\r\n                        id=\"re-password\"\r\n                        value={rePasswordValue}\r\n                        onChange={rePasswordChangeHandler}\r\n                        onBlur={rePasswordBlurHandler}\r\n                    />\r\n                    {rePasswordIsHidden\r\n                        ? <FontAwesomeIcon icon={['far', 'eye-slash']} className={`${classes['icon']} ${classes['eye']}`} onClick={toggleRePasswordVisibility} />\r\n                        : <FontAwesomeIcon icon={['far', 'eye']} className={`${classes['icon']} ${classes['eye']}`} onClick={toggleRePasswordVisibility} />\r\n                    }\r\n                    <span className={classes.placeholder}>Re-password</span>\r\n                    {rePasswordHasError && <p className={classes['input-notification']}>Passwords must match</p>}\r\n                </div>\r\n                <button\r\n                    className={`main-btn ${classes['main-btn']}`}\r\n                    disabled={!formIsValid || isLoading}\r\n                >\r\n                    Sign up\r\n                    {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                </button>\r\n                <p className={classes.invite}>You already have registration? <a href=\"/login\" onClick={switchToLogin}>Sign in now!</a></p>\r\n            </form>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default RegisterModal;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport ICheckout from \"../interfaces/ICheckout\";\r\n\r\nconst initialState: ICheckout = {\r\n    phone: null,\r\n    name: null,\r\n    city: null,\r\n    address: null,\r\n}\r\n\r\nconst checkoutSlice = createSlice({\r\n    name: 'checkout',\r\n    initialState,\r\n    reducers: {\r\n        save(state, action: PayloadAction<ICheckout>) {\r\n            state.phone = action.payload.phone;\r\n            state.name = action.payload.name;\r\n            state.city = action.payload.city;\r\n            state.address = action.payload.address;\r\n        },\r\n        clear(state) {\r\n            state.phone = null;\r\n            state.name = null;\r\n            state.city = null;\r\n            state.address = null;\r\n        }\r\n    }\r\n});\r\n\r\nexport const checkoutActions = checkoutSlice.actions;\r\n\r\nexport default checkoutSlice.reducer;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport { authActions } from '../../../store/auth';\r\nimport { checkoutActions } from '../../../store/checkout';\r\nimport userOptions from '../../../utils/userOptions';\r\n\r\n\r\nimport classes from './UserPopup.module.css';\r\n\r\n\r\nconst UserPopup: React.FC = () => {\r\n    const user = useAppSelector(state => state.auth);\r\n    const [isMounted, setIsMounted] = useState(false);\r\n    const history = useHistory();\r\n    const dispatch = useAppDispatch();\r\n    const { sendRequest } = useHttp();\r\n\r\n    const resHandler = useCallback(() => null, []);\r\n\r\n    const logoutHandler = useCallback(() => {\r\n        sendRequest(userOptions.logout(), resHandler);\r\n        dispatch(authActions.logout());\r\n        dispatch(checkoutActions.clear());\r\n        history.push('/');\r\n    }, [dispatch, history, sendRequest, resHandler]);\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n        return () => setIsMounted(false);\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.popup}>\r\n            <div className={classes.inner}>\r\n                <NavLink to={`/profile/${user._id}`} className={classes.link}>Profile</NavLink>\r\n                <NavLink to={`/profile/${user._id}/orders`} className={classes.link}>Orders</NavLink>\r\n                <NavLink to={`/profile/${user._id}/restaurants`} className={classes.link}>My restaurants</NavLink>\r\n                {isMounted && <button className={classes.btn} onClick={logoutHandler}>Sign out</button>}\r\n                {!isMounted && <button className={classes.btn}>Sign out</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPopup;","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport UserPopup from \"../UserPopup/UserPopup\";\r\n\r\n\r\nimport classes from './UserIcon.module.css';\r\n\r\nconst UserIcon: React.FC = () => {\r\n    const [popupIsOpen, setPopupIsOpen] = useState(false);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const imgRef = useRef<HTMLImageElement>(null);\r\n\r\n    const handleOutsideClick = (e: MouseEvent) => {\r\n        if (!containerRef.current?.contains(e.target as Node)) {\r\n            setPopupIsOpen(false);\r\n        }\r\n    }\r\n\r\n    const handleInsideClick = useCallback((e: React.MouseEvent) => {\r\n        if ((e.target as Node).nodeName === 'path' || (e.target as Node).nodeName === 'svg') {\r\n            setPopupIsOpen(oldState => !oldState);\r\n        } else if ((e.target as Node).nodeName === 'A' || (e.target as Node).nodeName === 'BUTTON') {\r\n            setPopupIsOpen(false);\r\n        } else {\r\n            setPopupIsOpen(true);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('mousedown', handleOutsideClick);\r\n        return () => document.removeEventListener('mousedown', handleOutsideClick);\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.container} ref={containerRef} onClick={handleInsideClick}>\r\n            <span ref={imgRef}>\r\n                <FontAwesomeIcon icon={['far', 'user-circle']} className={classes['user-icon']} />\r\n            </span>\r\n            {popupIsOpen && <UserPopup />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserIcon;","import { NavLink } from 'react-router-dom';\r\n\r\nimport { modalActions } from '../../../store/modal';\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport usePreventScrolling from '../../../hooks/usePreventScrolling';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport LoginModal from '../../auth/Login/LoginModal';\r\nimport RegisterModal from '../../auth/Register/RegisterModal';\r\nimport UserIcon from '../../userProfile/UserIcon/UserIcon';\r\n\r\n\r\nimport classes from './Navigation.module.css';\r\n\r\nconst Navigation: React.FC = () => {\r\n    const modalState = useAppSelector(state => state.modal);\r\n    const user = useAppSelector(state => state.auth);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const onLoginClick = () => {\r\n        dispatch(modalActions.open('login'));\r\n    };\r\n\r\n    usePreventScrolling(modalState.isOpen);\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === 'login' &&\r\n                <Modal>\r\n                    <LoginModal />\r\n                </Modal>\r\n            }\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === 'register' &&\r\n                <Modal>\r\n                    <RegisterModal />\r\n                </Modal>\r\n            }\r\n            <div className={classes.container}>\r\n                <NavLink to=\"/\" className={classes['logo-link']}>\r\n                    <FontAwesomeIcon icon={['fas', 'utensils']} className={classes.icon} />\r\n                    <h2 className={classes['logo-link-long']}>Food Delivery Network</h2>\r\n                    <h2 className={classes['logo-link-short']}>FDN</h2>\r\n                </NavLink>\r\n                <nav>\r\n                    <ul className={classes['nav-list']}>\r\n                        <li className={classes['nav-list-item']}>\r\n                            <NavLink to={user._id ? `/profile/${user._id}/favorites` : '/favorites'}>\r\n                                <FontAwesomeIcon icon={['far', 'heart']} className={classes['user-icon']} />\r\n                            </NavLink>\r\n                        </li>\r\n                        <li className={classes['nav-list-item']}>\r\n                            {user.email ?\r\n                                <UserIcon /> :\r\n                                <FontAwesomeIcon icon={['far', 'user-circle']} onClick={onLoginClick} className={classes['user-icon']} />\r\n                            }\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import Footer from \"../Footer/Footer\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\n\r\nconst Layout: React.FC = (props) => {\r\n    return (\r\n        <>\r\n            <Navigation />\r\n            <main>{props.children}</main>\r\n            <Footer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Layout;","import classes from './Benefits.module.css';\r\n\r\nconst Benefits = () => {\r\n    return (\r\n        <section className={`${classes.benefits} container`}>\r\n            <article className={classes['benefits-img']}>\r\n                <img src=\"/images/firmbee-com-SpVHcbuKi6E-unsplash.jpg\" alt=\"all-devices\" />\r\n            </article>\r\n            <article className={classes['benefits-content']}>\r\n                <h1 className={classes['benefits-content-title']}>Experience our app on all your devices</h1>\r\n                <p className={classes['benefits-content-subtitle']}>Separate design for computer, tablet and phones</p>\r\n                <p className={classes['benefits-content-subtitle']}>You can find the best food near you with click of your finger</p>\r\n                <h1 className={classes['benefits-content-title']}>Fast delivery</h1>\r\n                <p className={classes['benefits-content-subtitle']}>Delivery is made at your most convenient time</p>\r\n                <h1 className={classes['benefits-content-title']}>Multiple types of payment</h1>\r\n                <p className={classes['benefits-content-subtitle']}>Pay with card, on delivery or even setup your own budget</p>\r\n            </article>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Benefits;","import { NavLink } from 'react-router-dom';\r\n\r\n\r\nimport classes from './Cities.module.css';\r\n\r\nconst Cities = () => {\r\n    return (\r\n        <section className={`${classes.cities} container`}>\r\n            <h2 className={classes['cities-title']}>Select your city</h2>\r\n            <ul className={classes.list}>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Sofia\">\r\n                            <p className={classes['city-name']}>Sofia</p>\r\n                            <img src=\"/images/Sofia.jpg\" alt=\"sofia-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Varna\">\r\n                            <p className={classes['city-name']}>Varna</p>\r\n                            <img src=\"/images/Varna.jpg\" alt=\"varna-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Plovdiv\">\r\n                            <p className={classes['city-name']}>Plovdiv</p>\r\n                            <img src=\"/images/Plovdiv.jpg\" alt=\"plovdiv-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Burgas\">\r\n                            <p className={classes['city-name']}>Burgas</p>\r\n                            <img src=\"/images/Burgas.jpg\" alt=\"burgas-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Stara-Zagora\">\r\n                            <p className={classes['city-name']}>Stara Zagora</p>\r\n                            <img src=\"/images/Stara-zagora.jpg\" alt=\"stara-zagora-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Veliko-Tarnovo\">\r\n                            <p className={classes['city-name']}>Veliko Tarnovo</p>\r\n                            <img src=\"/images/Veliko-tarnovo.jpg\" alt=\"veliko-tarnovo-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Pleven\">\r\n                            <p className={classes['city-name']}>Pleven</p>\r\n                            <img src=\"/images/Pleven.jpg\" alt=\"pleven-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Blagoevgrad\">\r\n                            <p className={classes['city-name']}>Blagoevgrad</p>\r\n                            <img src=\"/images/Blagoevgrad.jpg\" alt=\"blagoevgrad-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Ruse\">\r\n                            <p className={classes['city-name']}>Ruse</p>\r\n                            <img src=\"/images/Ruse.jpg\" alt=\"ruse-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <article className={classes['city']}>\r\n                        <NavLink to=\"/city/Shumen\">\r\n                            <p className={classes['city-name']}>Shumen</p>\r\n                            <img src=\"/images/Shumen.jpg\" alt=\"shumen-img\" />\r\n                        </NavLink>\r\n                    </article>\r\n                </li>\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Cities;","import classes from './Hero.module.css';\r\n\r\nconst Hero: React.FC = () => {\r\n    return(\r\n        <section className={`${classes.hero} container`}>\r\n        <article className={classes['hero-content']}>\r\n            <h1 className={classes['hero-content-title']}>Order your favorite food</h1>\r\n            <p className={classes['hero-content-subtitle']}>Enjoy fast delivery to your address or take it yourself from the restaurant\r\n            </p>\r\n            <p className={classes['hero-content-subtitle']}>Choose from the richest catalog out in the internet</p>\r\n        </article>\r\n        <article className={classes['hero-img']}>\r\n            <img src=\"/images/mahyar-motebassem-pGA4zHvpo5E-unsplash.jpg\" alt=\"food\" />\r\n        </article>\r\n    </section>\r\n    );\r\n}\r\n\r\nexport default Hero;","import { NavLink } from 'react-router-dom';\r\nimport classes from './Kitchens.module.css';\r\n\r\nconst Kitchens = () => {\r\n    return (\r\n        <section className={`${classes.kitchens} container`}>\r\n            <h2 className={classes['kitchens-title']}>Popular categories</h2>\r\n            <ul className={classes.list}>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/Bulgarian\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>Bulgarian</p>\r\n                        <img src=\"images/bulgarian.jpg\" alt=\"bulgarian-kitchen\" />\r\n                    </NavLink >\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/Italian\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>Italian</p>\r\n                        <img src=\"images/kitchen-italian.jpg\" alt=\"italian-kitchen\" />\r\n                    </NavLink>\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/French\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>French</p>\r\n                        <img src=\"images/kitchen-french.jpg\" alt=\"french-kitchen\" />\r\n                    </NavLink>\r\n\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/Chinese\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>Chinese</p>\r\n                        <img src=\"images/kitchen-chinese.jpg\" alt=\"chinese-kitchen\" />\r\n                    </NavLink>\r\n\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/Fast Food\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>Fast Food</p>\r\n                        <img src=\"images/fast-food.jpg\" alt=\"fast-food\" />\r\n                    </NavLink>\r\n\r\n                </li>\r\n                <li className={classes['list-item']}>\r\n                    <NavLink to=\"/main-theme/Vegetarian\" className={classes.kitchen}>\r\n                        <p className={classes['kitchen-name']}>Vegetarian</p>\r\n                        <img src=\"images/vegetarian.jpg\" alt=\"vegetarian-kitchen\" />\r\n                    </NavLink>\r\n\r\n                </li>\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Kitchens;","import Benefits from '../../components/home/Benefits/Benefits';\r\nimport Cities from '../../components/home/Cities/Cities';\r\nimport Hero from '../../components/home/Hero/Hero';\r\nimport Kitchens from '../../components/home/Kitchens/Kitchens';\r\n\r\nconst Home: React.FC = () => {\r\n    return (\r\n        <>\r\n            <Hero />\r\n            <Cities />\r\n            <Benefits />\r\n            <Kitchens />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport IRestaurant from \"../interfaces/IRestaurant\";\r\n\r\nconst initialState: IRestaurant = {\r\n    _id: '',\r\n    categories: [],\r\n    cities: [],\r\n    image: {\r\n        url: '',\r\n        object_id: ''\r\n    },\r\n    mainTheme: '',\r\n    name: '',\r\n    owner: '',\r\n    workDays: [],\r\n    workHours: [],\r\n    rating: 0,\r\n    ratingsCount: 0,\r\n    recipes: []\r\n};\r\n\r\nconst restaurantSlice = createSlice({\r\n    name: 'restaurant',\r\n    initialState,\r\n    reducers: {\r\n        setRestaurant(state, action: PayloadAction<IRestaurant>) {\r\n            state._id = action.payload._id;\r\n            state.categories = action.payload.categories;\r\n            state.cities = action.payload.cities;\r\n            state.image = action.payload.image;\r\n            state.mainTheme = action.payload.mainTheme;\r\n            state.name = action.payload.name;\r\n            state.owner = action.payload.owner;\r\n            state.workDays = action.payload.workDays;\r\n            state.workHours = action.payload.workHours;\r\n            state.rating = action.payload.rating;\r\n            state.ratingsCount = action.payload.ratingsCount;\r\n            state.recipes = action.payload.recipes;\r\n        },\r\n        updateRating(state, action: PayloadAction<{ rating: number, ratingsCount: number}>) {\r\n            state.ratingsCount = action.payload.ratingsCount;\r\n            state.rating = action.payload.rating;\r\n        },\r\n        clearRestaurant(state) {\r\n            state._id = '';\r\n            state.categories = [];\r\n            state.cities = [];\r\n            state.image = { url: '', object_id: '' };\r\n            state.mainTheme = '';\r\n            state.name = '';\r\n            state.owner = '';\r\n            state.workDays = [];\r\n            state.workHours = [];\r\n            state.rating = 0;\r\n            state.ratingsCount = 0;\r\n            state.recipes = [];\r\n        }\r\n    }\r\n});\r\n\r\nexport const restaurantActions = restaurantSlice.actions;\r\n\r\nexport default restaurantSlice.reducer;","const getCities = () => {\r\n    return [\r\n        { name: 'Sofia', _id: 0 },\r\n        { name: 'Varna', _id: 1 },\r\n        { name: 'Burgas', _id: 2 },\r\n        { name: 'Plovdiv', _id: 3 },\r\n        { name: 'Shumen', _id: 4 },\r\n        { name: 'Stara-Zagora', _id: 5 },\r\n        { name: 'Blagoevgrad', _id: 6 },\r\n        { name: 'Veliko-Tarnovo', _id: 7 },\r\n        { name: 'Pleven', _id: 8 },\r\n        { name: 'Ruse', _id: 9 },\r\n    ]\r\n};\r\n\r\nexport default getCities;","const { REACT_APP_BASE_URL } = process.env;\r\n\r\nconst add = (data: FormData) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/create`,\r\n        method: 'POST',\r\n        body: data\r\n    }\r\n};\r\n\r\nconst edit = (restaurantId: string, data: FormData) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}`,\r\n        method: 'PUT',\r\n        body: data\r\n    }\r\n};\r\n\r\nconst getById = (id: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${id}`\r\n    }\r\n};\r\n\r\nconst getByOwner = () => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/by-owner`\r\n    }\r\n};\r\n\r\nconst getByCity = (city: string, query: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant?city=${city}&${query}`\r\n    }\r\n};\r\n\r\nconst getByTheme = (theme: string, query: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant?mainTheme=${theme}&${query}`\r\n    }\r\n};\r\n\r\nconst getFavorites = (query: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/favorites?${query}`\r\n    }\r\n};\r\n\r\nconst deleteRestaurant = (restaurantId: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}`,\r\n        method: 'DELETE'\r\n    }\r\n};\r\n\r\nconst addComment = (restaurantId: string, name: string, comment: string, rating: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}/comment`,\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ name, comment, rating })\r\n    }\r\n};\r\n\r\nconst deleteComment = (restaurantId: string, commentId: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}/comment/${commentId}`,\r\n        method: 'DELETE'\r\n    }\r\n};\r\n\r\nconst getComments = (restaurantId: string, page: number) => {\r\n    return { url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}/comment?page=${page}` }\r\n};\r\n\r\nconst editComment = (restaurantId: string, commentId: string, name: string, comment: string, rating: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/restaurant/${restaurantId}/comment/${commentId}`,\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ name, comment, rating })\r\n    }\r\n};\r\n\r\nconst restaurantOptions = {\r\n    add,\r\n    edit,\r\n    deleteRestaurant,\r\n    getById,\r\n    getByOwner,\r\n    getByCity,\r\n    getByTheme,\r\n    getFavorites,\r\n    addComment,\r\n    deleteComment,\r\n    getComments,\r\n    editComment,\r\n}\r\n\r\nexport default restaurantOptions;","import React, { Dispatch, SetStateAction, useCallback, useEffect, useRef, useState } from 'react';\r\n\r\n\r\nimport classes from './MultiChoiceSelect.module.css';\r\n\r\ntype MultiChoiceSelectProps = JSX.IntrinsicElements['div'] & {\r\n    text: string;\r\n    inputStrings: { name: string; _id: number }[];\r\n    setStateHandler: Dispatch<SetStateAction<InputStringType[]>>;\r\n    selected: InputStringType[];\r\n    disabled: boolean;\r\n}\r\n\r\nexport type InputStringType = {\r\n    name: string;\r\n    _id: number;\r\n}\r\n\r\nconst MultiChoiceSelect: React.FC<MultiChoiceSelectProps> = (props) => {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [isTouched, setIsTouched] = useState(false);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const textRef = useRef<HTMLDivElement>(null);\r\n    const isInvalid = isTouched && props.selected.length === 0;\r\n\r\n    const onContainerClick = (e: React.MouseEvent<HTMLElement>) => {\r\n        const element = e.target as HTMLElement;\r\n        if (element === containerRef.current || element === textRef.current) {\r\n            setIsVisible(oldValue => !oldValue);\r\n            setIsTouched(true);\r\n        }\r\n    };\r\n\r\n    const outsideClickHandler = useCallback((e: Event) => {\r\n        const element = e.target as HTMLElement;\r\n\r\n        if (!containerRef.current?.contains(element)) {\r\n            setIsVisible(false)\r\n        }\r\n    }, []);\r\n\r\n    const onSelectHandler = (_id: number) => {\r\n        const selectedString = props.inputStrings.find(x => x._id === _id) as InputStringType;\r\n        const isPresent = props.selected.find(x => x._id === _id) as InputStringType;\r\n        const isPresentIndex = props.selected.indexOf(isPresent);\r\n\r\n        if (isPresentIndex !== -1) {\r\n            props.setStateHandler(oldValue => {\r\n                const newSelected = oldValue.slice();\r\n                newSelected.splice(isPresentIndex, 1);\r\n                return newSelected;\r\n            });\r\n        } else {\r\n            props.setStateHandler(old => [selectedString, ...old]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('click', outsideClickHandler, { capture: true });\r\n        return () => document.removeEventListener('click', outsideClickHandler, { capture: true });\r\n    }, [outsideClickHandler]);\r\n\r\n    return (\r\n        <div ref={containerRef} className={`${classes.select} ${isInvalid ? classes['select--invalid'] : ''}`} onClick={onContainerClick}>\r\n            <div ref={textRef} className={classes.text}>{props.selected.map(x => x.name).join(', ') || props.text}</div>\r\n            {isVisible && !props.disabled && <ul className={classes.list}>{props.inputStrings.map(x => {\r\n                return (\r\n                    <li key={x._id} >\r\n                        <input onChange={() => onSelectHandler(x._id)} id={x.name} type=\"checkbox\" checked={Boolean(props.selected.find(y => y._id === x._id))} />\r\n                        <label htmlFor={x.name}>{x.name}</label>\r\n                    </li>\r\n                )\r\n            })}</ul>}\r\n            {isInvalid && <p className={classes['input-notification']}>At least one city is required!</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MultiChoiceSelect;","import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\n\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport validators from '../../../validators';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { restaurantActions } from '../../../store/restaurant';\r\nimport getCities from '../../../utils/getCities';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\n\r\nimport MultiChoiceSelect, { InputStringType } from '../../UI/MultiChoiceSelect/MultiChoiceSelect';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\nimport classes from './CreateRestaurant.module.css';\r\n\r\ntype CreateRestaurantProps = JSX.IntrinsicElements['section'] & {\r\n    edit: boolean;\r\n}\r\n\r\nconst CreateRestaurant: React.FC<CreateRestaurantProps> = ({ edit }) => {\r\n    const dispatch = useAppDispatch();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const cities = getCities();\r\n    const [selectedCities, setSelectedCities] = useState<InputStringType[]>([]);\r\n    const [selectedFile, setSelectedFile] = useState<File>();\r\n    const [fileIsValid, setFileIsValid] = useState(true);\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const history = useHistory();\r\n    const {\r\n        value: nameValue,\r\n        isValid: nameIsValid,\r\n        hasError: nameHasError,\r\n        valueChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameBlurHandler,\r\n        reset: nameReset,\r\n        setValue: setNameValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: mainThemeValue,\r\n        isValid: mainThemeIsValid,\r\n        hasError: mainThemeHasError,\r\n        valueChangeHandler: mainThemeChangeHandler,\r\n        inputBlurHandler: mainThemeBlurHandler,\r\n        reset: mainThemeReset,\r\n        setValue: setMainThemeValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: categoriesValue,\r\n        isValid: categoriesIsValid,\r\n        hasError: categoriesHasError,\r\n        valueChangeHandler: categoriesChangeHandler,\r\n        inputBlurHandler: categoriesBlurHandler,\r\n        reset: categoriesReset,\r\n        setValue: setCategoriesValue\r\n    } = useUserInput(validators.minStringCount.bind(null, 1));\r\n    const {\r\n        value: workTimeValue,\r\n        isValid: workTimeIsValid,\r\n        hasError: workTimeHasError,\r\n        valueChangeHandler: workTimeChangeHandler,\r\n        inputBlurHandler: workTimeBlurHandler,\r\n        reset: workTimeReset,\r\n        setValue: setWorkTimeValue\r\n    } = useUserInput(validators.workTime);\r\n\r\n    useEffect(() => {\r\n        if (edit) {\r\n            setNameValue(restaurant!.name);\r\n            setMainThemeValue(restaurant!.mainTheme);\r\n            setCategoriesValue(restaurant!.categories.join(','));\r\n            setWorkTimeValue(`${restaurant!.workDays.join('-')} ${restaurant!.workHours.join('-')}`);\r\n            setSelectedCities(restaurant!.cities);\r\n        }\r\n    }, [edit, restaurant, setNameValue, setMainThemeValue, setCategoriesValue, setWorkTimeValue]);\r\n\r\n    let formIsValid = false;\r\n\r\n    if (nameIsValid && mainThemeIsValid && categoriesIsValid && workTimeIsValid && fileIsValid) {\r\n        formIsValid = true;\r\n    }\r\n\r\n    const fileChangeHandler = (e: ChangeEvent) => {\r\n        const element = e.target as HTMLInputElement;\r\n        if (element.files?.length !== 0) {\r\n            setSelectedFile(element.files![0]);\r\n            setFileIsValid(true);\r\n        }\r\n    }\r\n\r\n    const processResponse = (response: IRestaurant) => {\r\n        nameReset();\r\n        mainThemeReset();\r\n        categoriesReset();\r\n        workTimeReset();\r\n        if (edit) {\r\n            dispatch(restaurantActions.setRestaurant(response));\r\n        }\r\n        history.replace(`/restaurant/${response._id}`);\r\n    };\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!selectedFile && !edit) {\r\n            setFileIsValid(false);\r\n            return;\r\n        }\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        const formData = new FormData();\r\n        if (selectedFile) {\r\n            formData.append('Restaurant Cover', selectedFile!, selectedFile!.name);\r\n        } else {\r\n            formData.append('Restaurant Cover', JSON.stringify(restaurant!.image));\r\n        }\r\n        formData.append('name', nameValue);\r\n        formData.append('mainTheme', mainThemeValue);\r\n        formData.append('categories', categoriesValue);\r\n        formData.append('workTime', workTimeValue);\r\n        formData.append('cities', JSON.stringify(selectedCities));\r\n\r\n        let options = restaurantOptions.add(formData);\r\n        if (edit) {\r\n            options = restaurantOptions.edit(restaurant._id, formData);\r\n        }\r\n\r\n        sendRequest(options, processResponse);\r\n\r\n    };\r\n\r\n    return (\r\n        <section className={`${classes['create-restaurant']} container`}>\r\n            {!edit && <h2>Lets create together the best restaurant</h2>}\r\n            {edit && <h2>Edit restaurant</h2>}\r\n            <form className={classes['create-restaurant-form']} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${nameHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"name\"\r\n                        disabled={isLoading}\r\n                        value={nameValue}\r\n                        onChange={nameChangeHandler}\r\n                        onBlur={nameBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Name of the restaurant</span>\r\n                    {nameHasError && <p className={classes['input-notification']}>Name must be at least 6 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${mainThemeHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"theme\"\r\n                        disabled={isLoading}\r\n                        value={mainThemeValue}\r\n                        onChange={mainThemeChangeHandler}\r\n                        onBlur={mainThemeBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Main theme of the restaurant</span>\r\n                    {mainThemeHasError && <p className={classes['input-notification']}>Main theme must be at least 6 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${categoriesHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"categories\"\r\n                        disabled={isLoading}\r\n                        value={categoriesValue}\r\n                        onChange={categoriesChangeHandler}\r\n                        onBlur={categoriesBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Categories separated by \",\"</span>\r\n                    {categoriesHasError && <p className={classes['input-notification']}>At least 1 category is required!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${workTimeHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"work-time\"\r\n                        disabled={isLoading}\r\n                        value={workTimeValue}\r\n                        onChange={workTimeChangeHandler}\r\n                        onBlur={workTimeBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Monday-Friday 10:00-20:00</span>\r\n                    {workTimeHasError && <p className={classes['input-notification']}>Please fill working time in the correct format!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <label className={`${classes['file-label']} ${!fileIsValid ? classes['file-label--invalid'] : ''}`} htmlFor=\"image\">\r\n                        {selectedFile ? 'File selected' : 'Upload restaurant cover image'}\r\n                    </label>\r\n                    <input\r\n                        className={classes['file-btn']}\r\n                        id=\"image\"\r\n                        type=\"file\"\r\n                        disabled={isLoading}\r\n                        name=\"image\"\r\n                        onChange={fileChangeHandler}\r\n                    />\r\n                    {!fileIsValid && <p className={classes['input-notification']}>Restaurant cover image is required!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <MultiChoiceSelect\r\n                        text={'Select cities'}\r\n                        inputStrings={cities}\r\n                        setStateHandler={setSelectedCities}\r\n                        selected={selectedCities}\r\n                        disabled={isLoading}\r\n                    />\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <button\r\n                        className={`main-btn create-btn ${classes['create-restaurant-btn']}`}\r\n                        disabled={!formIsValid || isLoading}\r\n                    >\r\n                        {edit ? 'Edit' : 'Create'}\r\n                        {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default CreateRestaurant;","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nimport classes from './HorizontalNav.module.css';\r\n\r\ntype HorizontalNavProps = JSX.IntrinsicElements['nav'] & {\r\n    links: { url: string; text: string }[];\r\n}\r\n\r\nconst HorizontalNav: React.FC<HorizontalNavProps> = ({ links }) => {\r\n    const history = useHistory();\r\n    const [isSticky, setIsSticky] = useState(false);\r\n    const [leftScroll, setLeftScroll] = useState(false);\r\n    const [rightScroll, setRightScroll] = useState(false);\r\n    const navRef = useRef<HTMLElement>(null);\r\n    const ulRef = useRef<HTMLUListElement>(null);\r\n\r\n    const handleYScroll = useCallback(() => {\r\n        const navBar = navRef.current as HTMLElement;\r\n        const ul = ulRef.current as HTMLUListElement;\r\n        if (navBar && ul) {\r\n            const styles = getComputedStyle(navBar);\r\n            const distance = Number(styles.top.substring(0, styles.top.length - 2));\r\n            setIsSticky(distance === ul.getBoundingClientRect().top && window.scrollY > 0);\r\n        }\r\n    }, []);\r\n\r\n    const onUlScroll = () => {\r\n        setLeftScroll((ulRef.current as HTMLElement).scrollLeft > 0 ? true : false);\r\n    };\r\n\r\n    const init = useCallback(() => {\r\n        const ul = ulRef.current as HTMLElement;\r\n        if (ul.scrollWidth - ul.clientWidth > 0) {\r\n            setRightScroll(true);\r\n            setLeftScroll(false);\r\n            ul.scrollLeft = 0;\r\n        } else {\r\n            setRightScroll(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        init();\r\n        history.listen(() => {\r\n            window.scrollTo({ top: 0 });\r\n        });\r\n        window.addEventListener('resize', init);\r\n        window.addEventListener(\"scroll\", handleYScroll);\r\n        return () => {\r\n            window.removeEventListener(\"scroll\", handleYScroll);\r\n            window.removeEventListener('resize', init);\r\n        };\r\n    }, [handleYScroll, init, history]);\r\n\r\n\r\n    const slideRight = () => {\r\n        const ul = ulRef.current as HTMLElement;\r\n        const nav = navRef.current as HTMLElement;\r\n        ul.scrollLeft = ul.scrollLeft + 100;\r\n\r\n        if (ul.scrollWidth - nav.clientWidth - ul.scrollLeft <= 120) {\r\n            setRightScroll(false);\r\n            ul.scrollLeft = ul.scrollLeft + 9999;\r\n        }\r\n    };\r\n\r\n    const slideLeft = () => {\r\n        const ul = ulRef.current as HTMLElement;\r\n        ul.scrollLeft = ul.scrollLeft - 100;\r\n\r\n        if (ul.scrollLeft < 120) {\r\n            ul.scrollLeft = 0;\r\n        }\r\n\r\n        if (ul.scrollWidth - ul.clientWidth > 0) {\r\n            setRightScroll(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <nav ref={navRef} className={`${classes.nav} ${isSticky ? classes['nav--scrolled'] : ''}`}>\r\n            <ul ref={ulRef} onScroll={onUlScroll} className={`container ${classes.list}`}>\r\n                {leftScroll &&\r\n                    <div className={classes['btn-wrapper']}>\r\n                        <button onClick={slideLeft} className={classes['left-arrow']}>&lt;</button>\r\n                    </div>\r\n                }\r\n                {links.map((link) => (\r\n                    <li onClick={() => window.scroll({ top: 0 })} key={uuidv4()}>\r\n                        <NavLink\r\n                            activeClassName={classes.active}\r\n                            className={classes['list-item']}\r\n                            to={link.url}\r\n                            exact\r\n                        >\r\n                            {link.text}\r\n                        </NavLink>\r\n                    </li>\r\n                ))}\r\n                {rightScroll &&\r\n                    <div className={`${classes['btn-wrapper']} ${classes['btn-wrapper--right']}`}>\r\n                        <button onClick={slideRight} className={classes['right-arrow']}>&gt;</button>\r\n                    </div>\r\n                }\r\n            </ul>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default HorizontalNav;","import React, { useCallback, useEffect, useState } from 'react';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { authActions } from '../../../store/auth';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport IAuthState from '../../../interfaces/IAuthState';\r\nimport validators from '../../../validators';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './UserData.module.css';\r\n\r\ntype UserDataProps = JSX.IntrinsicElements['section'] & {\r\n    edit: boolean;\r\n}\r\n\r\nconst UserData: React.FC<UserDataProps> = ({ edit }) => {\r\n    const [isEditMode, setIsEditMode] = useState(edit);\r\n    const user = useAppSelector(state => state.auth);\r\n    const dispatch = useAppDispatch();\r\n    const { isLoading, error, sendRequest } = useHttp();\r\n    const {\r\n        value: firstNameValue,\r\n        hasError: firstNameHasError,\r\n        isValid: firstNameIsValid,\r\n        inputBlurHandler: firstNameBlurHandler,\r\n        valueChangeHandler: firstNameChangeHandler,\r\n        setValue: setFirstNameValue,\r\n        reset: firstNameReset\r\n    } = useUserInput(validators.minLength.bind(null, 4));\r\n    const {\r\n        value: lastNameValue,\r\n        hasError: lastNameHasError,\r\n        isValid: lastNameIsValid,\r\n        inputBlurHandler: lastNameBlurHandler,\r\n        valueChangeHandler: lastNameChangeHandler,\r\n        setValue: setLastNameValue,\r\n        reset: lastNameReset\r\n    } = useUserInput(validators.minLength.bind(null, 4));\r\n    const {\r\n        value: emailValue,\r\n        hasError: emailHasError,\r\n        isValid: emailIsValid,\r\n        inputBlurHandler: emailBlurHandler,\r\n        valueChangeHandler: emailChangeHandler,\r\n        setValue: setEmailValue,\r\n        reset: emailReset\r\n    } = useUserInput(validators.isEmail);\r\n    const {\r\n        value: phoneValue,\r\n        hasError: phoneHasError,\r\n        isValid: phoneIsValid,\r\n        inputBlurHandler: phoneBlurHandler,\r\n        valueChangeHandler: phoneChangeHandler,\r\n        setValue: setPhoneValue,\r\n        reset: phoneReset\r\n    } = useUserInput(validators.isPhone);\r\n    const {\r\n        value: cityValue,\r\n        hasError: cityHasError,\r\n        isValid: cityIsValid,\r\n        inputBlurHandler: cityBlurHandler,\r\n        valueChangeHandler: cityChangeHandler,\r\n        setValue: setCityValue,\r\n        reset: cityReset\r\n    } = useUserInput(validators.minLength.bind(null, 4));\r\n    const {\r\n        value: addressValue,\r\n        hasError: addressHasError,\r\n        isValid: addressIsValid,\r\n        inputBlurHandler: addressBlurHandler,\r\n        valueChangeHandler: addressChangeHandler,\r\n        setValue: setAddressValue,\r\n        reset: addressReset\r\n    } = useUserInput(validators.minLength.bind(null, 4));\r\n\r\n    const fillForm = useCallback(() => {\r\n        setFirstNameValue(user.firstName || '');\r\n        setLastNameValue(user.lastName || '');\r\n        setEmailValue(user.email || '');\r\n        setPhoneValue(user.phone?.toString() || '');\r\n        setCityValue(user.city || '');\r\n        setAddressValue(user.address || '');\r\n    }, [setFirstNameValue, setLastNameValue, setEmailValue, setPhoneValue, setCityValue, setAddressValue, user]);\r\n\r\n    useEffect(() => {\r\n        fillForm();\r\n    }, [fillForm]);\r\n\r\n\r\n    const editClickHandler = () => {\r\n        setIsEditMode(true);\r\n    }\r\n\r\n    const cancelClickHandler = () => {\r\n        if (isLoading) { return; }\r\n        setIsEditMode(false);\r\n        firstNameReset();\r\n        lastNameReset();\r\n        phoneReset();\r\n        emailReset();\r\n        cityReset();\r\n        addressReset();\r\n        fillForm();\r\n    }\r\n\r\n    const processResponse = (e: IAuthState) => {\r\n        dispatch(authActions.login(e));\r\n        setIsEditMode(false);\r\n    }\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        const userData = {\r\n            firstName: firstNameValue,\r\n            lastName: lastNameValue,\r\n            email: emailValue,\r\n            phone: phoneValue,\r\n            city: cityValue,\r\n            address: addressValue\r\n        }\r\n\r\n        sendRequest({\r\n            url: 'http://localhost:3030/api/user/' + user._id,\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(userData)\r\n        }, processResponse);\r\n    }\r\n\r\n    const formIsValid = firstNameIsValid && lastNameIsValid && emailIsValid && phoneIsValid && cityIsValid && addressIsValid;\r\n\r\n    return (\r\n        <section className={`${classes['create-restaurant']} container`}>\r\n            <h2>{(user.firstName && user.lastName) ? `${user.firstName} ${user.lastName}` : user.email}`s profile</h2>\r\n            {error && <div>{error}</div>}\r\n            <form className={classes['create-restaurant-form']} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${firstNameHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"first-name\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={firstNameValue}\r\n                        onChange={firstNameChangeHandler}\r\n                        onBlur={firstNameBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>First name</span>\r\n                    {firstNameHasError && <p className={classes['input-notification']}>First name must be at least 4 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${lastNameHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"last-name\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={lastNameValue}\r\n                        onChange={lastNameChangeHandler}\r\n                        onBlur={lastNameBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Last name</span>\r\n                    {lastNameHasError && <p className={classes['input-notification']}>Last name must be at least 4 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${emailHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"email\"\r\n                        placeholder=\" \"\r\n                        name=\"email\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={emailValue}\r\n                        onChange={emailChangeHandler}\r\n                        onBlur={emailBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Email</span>\r\n                    {emailHasError && <p className={classes['input-notification']}>Please enter a valid email!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${phoneHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"tel\"\r\n                        placeholder=\" \"\r\n                        name=\"phone\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={phoneValue}\r\n                        onChange={phoneChangeHandler}\r\n                        onBlur={phoneBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Phone number</span>\r\n                    {phoneHasError && <p className={classes['input-notification']}>Please enter a valid phone number!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${cityHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"city\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={cityValue}\r\n                        onChange={cityChangeHandler}\r\n                        onBlur={cityBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>City</span>\r\n                    {cityHasError && <p className={classes['input-notification']}>City must be at least 4 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${addressHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"address\"\r\n                        disabled={isLoading || !isEditMode}\r\n                        value={addressValue}\r\n                        onChange={addressChangeHandler}\r\n                        onBlur={addressBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Address</span>\r\n                    {addressHasError && <p className={classes['input-notification']}>Address must be at least 4 characters long!</p>}\r\n                </div>\r\n                {!isEditMode &&\r\n                    <div className={`${classes['btn-container']} ${classes.col}`}>\r\n                        <button\r\n                            className={`main-btn create-btn ${classes['btn-container-btn']}`}\r\n                            onClick={editClickHandler}\r\n                            disabled={isLoading}\r\n                        >\r\n                            Edit\r\n                            {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                        </button>\r\n                    </div>}\r\n                {isEditMode &&\r\n                    <div className={`${classes['btn-container']} ${classes.col}`}>\r\n                        <button\r\n                            className={`main-btn ${classes['btn-container-btn']}`}\r\n                            onClick={editClickHandler}\r\n                            disabled={!formIsValid || isLoading}\r\n                        >\r\n                            Save\r\n                            {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                        </button>\r\n                        <button\r\n                            className={`main-btn ${classes['btn-container-btn']} ${classes['btn-container-btn--cancel']}`}\r\n                            onClick={cancelClickHandler}\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>}\r\n            </form>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default UserData;","import IObject from \"../interfaces/IObject\";\r\n\r\nconst constructNewQuery = (query: IObject) => {\r\n    return Object.entries(query)\r\n        .map(([k, v]) => {\r\n            return `${k}=${v}`\r\n        }).join('&');\r\n};\r\n\r\nconst extractQueryObject = (search: string) => {\r\n    if (search.length > 0) {\r\n        const query = search\r\n            .split('?')[1]\r\n            .split('&')\r\n            .reduce((acc: { [key: string]: string; }, curr) => {\r\n                const [queryName, value] = curr.split('=');\r\n                acc[queryName] = value;\r\n                return acc;\r\n            }, {});\r\n        return query;\r\n    }\r\n    return {};\r\n};\r\n\r\nexport {\r\n    constructNewQuery,\r\n    extractQueryObject\r\n}","import { useHistory } from 'react-router-dom';\r\n\r\nimport { constructNewQuery, extractQueryObject } from '../../../utils/queryHelper';\r\n\r\nimport classes from './SortRestaurants.module.css';\r\n\r\nconst SortRestaurants: React.FC = () => {\r\n    const history = useHistory();\r\n    const query = extractQueryObject(history.location.search);\r\n\r\n    const onSortChange = (e: React.FormEvent<HTMLSelectElement>) => {\r\n        query.sort = e.currentTarget.value;\r\n        history.push(`${history.location.pathname}?${constructNewQuery(query)}`)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.sort}>\r\n            <select className={classes['sort-select']} name=\"sort\" id=\"sort\" value={query.sort || 'rating-desc'} onChange={onSortChange}>\r\n                <option value=\"rating-desc\">Rating desc</option>\r\n                <option value=\"rating-asc\">Rating asc</option>\r\n                <option value=\"ratingsCount-desc\">Comments count desc</option>\r\n                <option value=\"ratingsCount-asc\">Comments count asc</option>\r\n            </select>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SortRestaurants;","import { useHistory } from 'react-router';\r\n\r\nimport { useAppDispatch } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport { modalActions } from '../../../store/modal';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './DeleteRestaurantModal.module.css';\r\n\r\ntype DeleteRestaurantModalProps = JSX.IntrinsicElements['section'] & {\r\n    _id: string;\r\n    name: string;\r\n}\r\n\r\nconst DeleteRestaurantModal: React.FC<DeleteRestaurantModalProps> = (props) => {\r\n    const dispatch = useAppDispatch();\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const history = useHistory();\r\n\r\n    const cancelClickHandler = () => {\r\n        dispatch(modalActions.close());\r\n    }\r\n\r\n    const processResponse = () => {\r\n        dispatch(modalActions.close());\r\n        history.replace('/');\r\n    }\r\n\r\n    const deleteClickHandler = () => {\r\n        sendRequest(restaurantOptions.deleteRestaurant(props._id), processResponse);\r\n    }\r\n\r\n    return (\r\n        <section className={classes['delete-restaurant']}>\r\n            {!isLoading && <>\r\n                <h3 className={classes['delete-restaurant-title']}>Confirm you want to delete {props.name}?</h3>\r\n                <button onClick={deleteClickHandler} className={`${classes['delete-restaurant-btn']} ${classes['delete-restaurant-btn--danger']}`}>Delete</button>\r\n                <button onClick={cancelClickHandler} className={classes['delete-restaurant-btn']}>Cancel</button>\r\n            </>}\r\n            {isLoading && <Spinner />}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default DeleteRestaurantModal;","import React, { useEffect, useState } from \"react\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\n\r\n\r\nimport classes from './ImageSuspense.module.css';\r\n\r\ntype ImageSuspenseProps = {\r\n    url: string;\r\n}\r\n\r\nconst ImageSuspense: React.FC<ImageSuspenseProps> = ({ children, url }) => {\r\n    const [isMounted, setIsMounted] = useState(true);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const cacheImage = async (imageSrc: string) => {\r\n        return new Promise((resolve, reject) => {\r\n            const img = new Image();\r\n            img.src = imageSrc;\r\n            img.onload = () => resolve(null);\r\n            img.onerror = () => reject({ message: 'Failed to load image!' });\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        const loadImage = async () => {\r\n            await cacheImage(url);\r\n            setIsLoading(false);\r\n        }\r\n        if (isMounted) {\r\n            loadImage();\r\n        }\r\n        return () => {\r\n            setIsMounted(false);\r\n        }\r\n    }, [url, isMounted]);\r\n\r\n    return (\r\n        <>\r\n            {isLoading &&\r\n                <div className={classes['loader-container']}>\r\n                    <Spinner size='medium' />\r\n                </div>}\r\n            {!isLoading && children}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default ImageSuspense;","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { modalActions } from '../../../store/modal';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\n\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport DeleteRestaurantModal from '../DeleteRestaurantModal/DeleteRestaurantModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nimport classes from './RestaurantCard.module.css';\r\nimport ImageSuspense from '../../UI/ImageSuspense/ImageSuspense';\r\n\r\ntype RestaurantCardProps = JSX.IntrinsicElements['article'] & {\r\n    restaurant: IRestaurant\r\n}\r\n\r\nconst RestaurantCard: React.FC<RestaurantCardProps> = ({ restaurant }) => {\r\n    const modalState = useAppSelector(state => state.modal);\r\n    const user = useAppSelector(state => state.auth);\r\n    const dispatch = useAppDispatch();\r\n    const isOwner = user._id === restaurant.owner;\r\n    const history = useHistory();\r\n\r\n    const dashboardClickHandler = (e: React.MouseEvent<HTMLElement>) => {\r\n        e.preventDefault();\r\n        history.push(`/restaurant/${restaurant._id}/dashboard`);\r\n    }\r\n\r\n    const deleteClickHandler = (e: React.MouseEvent<HTMLElement>) => {\r\n        e.preventDefault();\r\n        dispatch(modalActions.open(`delete-restaurant-${restaurant._id}`));\r\n    }\r\n\r\n    return (\r\n        <article className={classes.restaurant}>\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === `delete-restaurant-${restaurant._id}` &&\r\n                <Modal>\r\n                    <DeleteRestaurantModal _id={restaurant._id} name={restaurant.name} />\r\n                </Modal>\r\n            }\r\n            <NavLink to={`/restaurant/${restaurant._id}`}>\r\n                <article className={classes['restaurant-image-wrapper']}>\r\n                    <ImageSuspense url={restaurant.image.url}>\r\n                        <img className={classes['restaurant-img-wrapper-img']} src={restaurant.image.url} alt={`${restaurant.name} restaurant`} />\r\n                    </ImageSuspense>\r\n                </article>\r\n                <article className={classes['restaurant-title-wrapper']}>\r\n                    <h2 className={classes['restaurant-title']}>{restaurant.name}</h2>\r\n                    <p className={classes['restaurant-score']}>\r\n                        <FontAwesomeIcon icon={['fas', 'star']} className={`${classes['restaurant-score-icon']} ${restaurant.rating === 0 ? classes['restaurant-score-icon--gray'] : ''}`} />\r\n                        {restaurant.rating !== 0 && <span>{restaurant.rating}({restaurant.ratingsCount})</span>}\r\n                    </p>\r\n                </article>\r\n                <article className={classes['restaurant-text-wrapper']}>\r\n                    <p className={classes.description}>{restaurant.mainTheme}, {restaurant.categories[0]}</p>\r\n                    {isOwner && <div>\r\n                        <span onClick={dashboardClickHandler} >\r\n                            <FontAwesomeIcon icon={['fas', 'tools']} className={classes.icon} />\r\n                        </span>\r\n                        <span onClick={deleteClickHandler} >\r\n                            <FontAwesomeIcon icon={['fas', 'trash']} className={classes.icon} />\r\n                        </span>\r\n                    </div>}\r\n                </article>\r\n            </NavLink>\r\n        </article>\r\n    )\r\n};\r\n\r\nexport default RestaurantCard;","import IRestaurant from \"../../../interfaces/IRestaurant\";\r\nimport SortRestaurants from \"../../UI/SortRestaurants/SortRestaurants\";\r\n\r\nimport RestaurantCard from \"../RestaurantCard/RestaurantCard\";\r\n\r\n\r\nimport classes from './RestaurantList.module.css';\r\n\r\n\r\ntype RestaurantListProps = JSX.IntrinsicElements['ul'] & {\r\n    restaurants: IRestaurant[];\r\n}\r\n\r\nconst RestaurantList: React.FC<RestaurantListProps> = ({ restaurants }) => {\r\n    return (\r\n        <>\r\n            <SortRestaurants />\r\n            <ul className={`${classes.list}`}>\r\n                {restaurants.map(x => (\r\n                    <li key={x._id} className={classes['list-item']}>\r\n                        <RestaurantCard restaurant={x} />\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default RestaurantList;","import { useEffect, useState } from \"react\";\r\n\r\nimport useHttp from \"../../../hooks/useHttp\";\r\nimport IRestaurant from \"../../../interfaces/IRestaurant\";\r\nimport restaurantOptions from \"../../../utils/restaurantOptions\";\r\n\r\nimport Spinner from \"../../UI/Spinner/Spinner\";\r\nimport RestaurantList from \"../RestaurantList/RestaurantList\";\r\n\r\n\r\nimport classes from './MyRestaurants.module.css';\r\n\r\nconst MyRestaurants: React.FC = () => {\r\n    const [restaurants, setRestaurants] = useState<IRestaurant[]>([]);\r\n    const { sendRequest, isLoading } = useHttp();\r\n\r\n    const processResponse = (res: IRestaurant[]) => {\r\n        setRestaurants(res);\r\n    }\r\n\r\n    useEffect(() => {\r\n        sendRequest(restaurantOptions.getByOwner(), processResponse);\r\n    }, [sendRequest]);\r\n\r\n    return (\r\n        <section className=\"container\">\r\n            {!isLoading && restaurants.length > 0 && <RestaurantList restaurants={restaurants} />}\r\n            {!isLoading && restaurants.length === 0 && <h2 className={classes.title}>No restaurants yet!</h2>}\r\n            {isLoading && <Spinner />}\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default MyRestaurants;","const { REACT_APP_BASE_URL } = process.env;\r\n\r\nconst add = (orderData: {\r\n    address: string,\r\n    city: string,\r\n    name: string,\r\n    phone: string,\r\n    recipes: { recipe: string, quantity: number }[],\r\n    restaurant: string\r\n}) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order`,\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(orderData)\r\n    }\r\n};\r\n\r\nconst getOrders = (restaurantId: string, status: string, page: number) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/${restaurantId}/${status}?page=${page}`\r\n    }\r\n};\r\n\r\nconst getOrdersByOwner = (page: number) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/my-orders?page=${page}`\r\n    }\r\n};\r\n\r\nconst deleteOrder = (orderId: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/${orderId}`,\r\n        method: 'DELETE'\r\n    }\r\n};\r\n\r\nconst edit = (orderId: string, status: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/${orderId}`,\r\n        method: 'PUT',\r\n        body: JSON.stringify({ status }),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n};\r\n\r\nconst getOrdersCountByCategoryAndPeriod = (restaurantId: string, period: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/${restaurantId}/categories/count?period=${period}`\r\n    }\r\n};\r\n\r\nconst getSalesByPeriod = (restaurantId: string, period: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/order/${restaurantId}/sales-volumes?period=${period}`\r\n    }\r\n};\r\n\r\nconst orderOptions = {\r\n    add,\r\n    getOrders,\r\n    deleteOrder,\r\n    edit,\r\n    getOrdersCountByCategoryAndPeriod,\r\n    getSalesByPeriod,\r\n    getOrdersByOwner\r\n}\r\n\r\nexport default orderOptions;","import { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport IObject from '../../../interfaces/IObject';\r\n\r\nimport { constructNewQuery, extractQueryObject } from '../../../utils/queryHelper';\r\n\r\n\r\nimport classes from './Paginator.module.css';\r\n\r\ntype PaginatorProps = JSX.IntrinsicElements['div'] & {\r\n    totalCount: number;\r\n    shownCount: number;\r\n    page: number;\r\n    isLoading: boolean;\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorProps> = ({ totalCount, shownCount, page, isLoading }) => {\r\n    const history = useHistory();\r\n    const [query, setQuery] = useState<IObject>({});\r\n    const lastPage = Math.ceil(totalCount / shownCount);\r\n\r\n    useEffect(() => {\r\n        if (history.location.search) {\r\n            setQuery(extractQueryObject(history.location.search));\r\n        }\r\n    }, [history.location.search]);\r\n\r\n    const navigate = () => {\r\n        const newQuery = constructNewQuery(query);\r\n        history.push(`${history.location.pathname}?${newQuery}`);\r\n    }\r\n\r\n    const nextPageHandler = () => {\r\n        const currentPage = Number(query['page']) || 1;\r\n        query['page'] = (currentPage + 1).toString();\r\n        navigate();\r\n    };\r\n\r\n    const previousPageHandler = () => {\r\n        const currentPage = Number(query['page']) || 1;\r\n        query['page'] = (currentPage - 1).toString();\r\n        navigate();\r\n    };\r\n\r\n    const firstPageHandler = () => {\r\n        query['page'] = '1';\r\n        navigate();\r\n    };\r\n\r\n    const lastPageHandler = () => {\r\n        query['page'] = lastPage.toString();\r\n        navigate();\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            <button className={classes['paginator-btn']} onClick={firstPageHandler} disabled={1 === page || isLoading}>&lt;&lt;</button>\r\n            <button className={classes['paginator-btn']} onClick={previousPageHandler} disabled={1 === page || isLoading}>-</button>\r\n            <span className={classes['paginator-page']}>{page}</span>\r\n            <button className={classes['paginator-btn']} onClick={nextPageHandler} disabled={lastPage === page || isLoading}>+</button>\r\n            <button className={classes['paginator-btn']} onClick={lastPageHandler} disabled={lastPage === page || isLoading}>&gt;&gt;</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;","const formatDate = (date: Date) => {\r\n    const newDate = new Date(date);\r\n    const day = newDate.getDate();\r\n    const month = newDate.getMonth() + 1;\r\n    const year = newDate.getFullYear();\r\n    return `${day}/${month}/${year}`;\r\n};\r\n\r\nexport default formatDate;","import { useEffect, useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport IOrder from '../../../interfaces/IOrder';\r\nimport { modalActions } from '../../../store/modal';\r\nimport formatDate from '../../../utils/formatDate';\r\nimport orderOptions from '../../../utils/orderOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './OrderModal.module.css';\r\n\r\ntype OrderModalProps = JSX.IntrinsicElements['article'] & {\r\n    order: IOrder;\r\n    onSuccessDelete: () => void;\r\n    onSuccessChangeStatus: () => void;\r\n}\r\n\r\nconst OrderModal: React.FC<OrderModalProps> = ({ order, onSuccessDelete, onSuccessChangeStatus }) => {\r\n    const [promptAction, setPromptAction] = useState('');\r\n    const [isMounted, setIsMounted] = useState(false);\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const dispatch = useAppDispatch();\r\n    const user = useAppSelector(state => state.auth);\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const formattedDate = formatDate(order.date);\r\n    const price = order.items.reduce((acc, curr) => acc + (curr.price * curr.quantity), 0);\r\n    const delivery = price > 10 ? 'Free' : '$3.99';\r\n    const totalPrice = price > 10 ? (price + 3.99).toFixed(2) : price.toFixed(2);\r\n    const isOwner = user._id === restaurant.owner;\r\n\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n        return () => {\r\n            setIsMounted(false);\r\n            dispatch(modalActions.close())\r\n        };\r\n    }, [dispatch]);\r\n\r\n    const onDeleteClickHandler = () => {\r\n        setPromptAction('delete');\r\n    };\r\n\r\n    const onChangeStatusClickHandler = () => {\r\n        setPromptAction('status');\r\n    };\r\n\r\n    const processResponse = () => {\r\n        if (isMounted) {\r\n            dispatch(modalActions.close());\r\n            if (promptAction === 'delete') {\r\n                onSuccessDelete();\r\n            } else {\r\n                onSuccessChangeStatus();\r\n            }\r\n            setPromptAction('');\r\n        }\r\n    }\r\n\r\n    const deleteSubmitHandler = () => {\r\n        sendRequest(orderOptions.deleteOrder(order._id), processResponse);\r\n    };\r\n\r\n    const changeStatusSubmitHandler = () => {\r\n        const newStatus = order.status === 'pending' ? 'completed' : 'pending';\r\n        sendRequest(orderOptions.edit(order._id, newStatus), processResponse);\r\n    };\r\n\r\n    const cancelClickHandler = () => {\r\n        setPromptAction('');\r\n    };\r\n\r\n    return (\r\n        <article className={classes['modal']}>\r\n            <div>\r\n                <h3 className={classes['order-title']}>\r\n                    Order from:\r\n                    <NavLink to={`/restaurant/${order.restaurant._id}`} className={classes['order-link']}>\r\n                        {order.restaurant.name}\r\n                    </NavLink>\r\n                </h3>\r\n                <p className={classes['order-date']}>{formattedDate}</p>\r\n            </div>\r\n            <ul className={classes['order-list']}>\r\n                {order.items.map(x => (\r\n                    <li key={x.item._id} className={classes['order-list-item']}>\r\n                        <p className={classes['order-list-item-text']}>{x.item.name} ({x.item.weight}g) - {x.price} x {x.quantity}</p>\r\n                        <span>${x.price * x.quantity}</span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            <article className={classes['order-summary']}>\r\n                <p>\r\n                    <span>Order:</span>\r\n                    <span>${price.toFixed(2)}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Delivery:</span>\r\n                    <span>{delivery}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Total:</span>\r\n                    <span>${totalPrice}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Status:</span>\r\n                    <span className={order.status === 'pending' ? classes['status-red'] : classes['status']}>{order.status}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Address:</span>\r\n                    <span>{order.city}, {order.address}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Customer:</span>\r\n                    <span>{order.name}</span>\r\n                </p>\r\n                <p>\r\n                    <span>Contact phone:</span>\r\n                    <span>{order.phone.toString().length === 9 ? `+359${order.phone}` : order.phone}</span>\r\n                </p>\r\n            </article>\r\n            {isOwner && !promptAction &&\r\n                <article className={classes['admin-controls']}>\r\n                    <button onClick={onChangeStatusClickHandler} className={classes['admin-controls-control']}>Change status</button>\r\n                    <button onClick={onDeleteClickHandler} className={`${classes['admin-controls-control']} ${classes['admin-controls-control--red']}`}>Delete</button>\r\n                </article>}\r\n            {isOwner && promptAction && !isLoading &&\r\n                <article className={classes['delete']}>\r\n                    <h4 className={classes['delete-title']}>Are you sure?</h4>\r\n                    <button\r\n                        className={`${classes['admin-controls-control--red']} ${classes['admin-controls-control']}`}\r\n                        onClick={promptAction === 'delete' ? deleteSubmitHandler : changeStatusSubmitHandler}\r\n                    >\r\n                        {promptAction === 'delete' ? 'Delete' : 'Change'}\r\n                    </button>\r\n                    <button className={classes['admin-controls-control']} onClick={cancelClickHandler}>Cancel</button>\r\n                </article>}\r\n            {isOwner && promptAction && isLoading && <div className={classes['loader-container']}><Spinner size=\"medium\" /></div>}\r\n        </article>\r\n    );\r\n};\r\n\r\nexport default OrderModal;","import { NavLink } from 'react-router-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { modalActions } from '../../../store/modal';\r\nimport IOrder from '../../../interfaces/IOrder';\r\nimport formatDate from '../../../utils/formatDate';\r\n\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport OrderModal from '../OrderModal/OrderModal';\r\n\r\n\r\nimport classes from './OrdersListItem.module.css';\r\n\r\ntype OrdersListItemProps = JSX.IntrinsicElements['article'] & {\r\n    order: IOrder;\r\n    onSuccessDelete: () => void;\r\n    onSuccessChangeStatus: () => void;\r\n}\r\n\r\nconst OrdersListItem: React.FC<OrdersListItemProps> = ({ order, onSuccessDelete, onSuccessChangeStatus }) => {\r\n    const dispatch = useAppDispatch();\r\n    const modalState = useAppSelector(state => state.modal);\r\n    const formattedDate = formatDate(order.date);\r\n\r\n    const orderClickHandler = (e: React.MouseEvent) => {\r\n        if ((e.target as HTMLElement).tagName === \"A\") { return; }\r\n        dispatch(modalActions.open(`order-${order._id}`));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === `order-${order._id}` &&\r\n                <Modal>\r\n                    <OrderModal\r\n                        order={order}\r\n                        onSuccessDelete={onSuccessDelete}\r\n                        onSuccessChangeStatus={onSuccessChangeStatus}\r\n                    />\r\n                </Modal>\r\n            }\r\n            <article onClick={orderClickHandler} className={classes['order']}>\r\n                <div>\r\n                    <h3 className={classes['order-title']}>\r\n                        Order from:\r\n                        <NavLink to={`/restaurant/${order.restaurant._id}`} className={classes['order-link']}>\r\n                            {order.restaurant.name}\r\n                        </NavLink>\r\n                    </h3>\r\n                    <p className={classes['order-date']}>{formattedDate}</p>\r\n                </div>\r\n                <div>\r\n                    <p className={classes['order-price']}>${(order.items.reduce((acc, curr) => acc + (curr.price * curr.quantity), 0)).toFixed(2)}</p>\r\n                </div>\r\n            </article>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default OrdersListItem;","import { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useAppSelector } from '../../../hooks/reduxHooks';\r\n\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport IOrder from '../../../interfaces/IOrder';\r\nimport orderOptions from '../../../utils/orderOptions';\r\nimport Paginator from '../../UI/Paginator/Paginator';\r\nimport { extractQueryObject } from '../../../utils/queryHelper';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport OrdersListItem from '../OrdersListItem/OrdersListItem';\r\n\r\n\r\nimport classes from './OrdersList.module.css';\r\n\r\ntype OrdersListProps = JSX.IntrinsicElements['ul'] & {\r\n    status: string;\r\n}\r\n\r\nconst OrdersList: React.FC<OrdersListProps> = ({ status }) => {\r\n    const [orders, setOrders] = useState<IOrder[]>([]);\r\n    const [page, setPage] = useState(1);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const history = useHistory();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n\r\n    useEffect(() => {\r\n        setPage(1);\r\n        setTotalCount(0);\r\n        setOrders([]);\r\n    }, [status]);\r\n\r\n    useEffect(() => {\r\n        if (history.location.search) {\r\n            const query = extractQueryObject(history.location.search);\r\n            setPage(Number(query.page) || 1);\r\n        }\r\n    }, [history.location.search]);\r\n\r\n    const processResponse = useCallback((res: { orders: IOrder[], count: number }) => {\r\n        setOrders(res.orders);\r\n        setTotalCount(res.count);\r\n    }, []);\r\n\r\n    const fetchOrders = useCallback(() => {\r\n        let options = orderOptions.getOrders(restaurant._id, status, page);\r\n        if (status === 'my-orders') {\r\n            options = orderOptions.getOrdersByOwner(page);\r\n        }\r\n        sendRequest(options, processResponse);\r\n    }, [sendRequest, restaurant._id, status, processResponse, page]);\r\n\r\n    useEffect(() => {\r\n        fetchOrders();\r\n    }, [fetchOrders]);\r\n\r\n    const onSuccessDelete = () => {\r\n        fetchOrders();\r\n    };\r\n\r\n    const onSuccessChangeStatus = () => {\r\n        fetchOrders();\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <ul className={classes.list}>\r\n                {isLoading && <Spinner />}\r\n                {!isLoading && orders.length > 0 &&\r\n                    orders.map(x => (\r\n                        <li key={x._id} className={classes['list-item']}>\r\n                            <OrdersListItem\r\n                                order={x}\r\n                                onSuccessDelete={onSuccessDelete}\r\n                                onSuccessChangeStatus={onSuccessChangeStatus}\r\n                            />\r\n                        </li>\r\n                    ))}\r\n                {!isLoading && orders.length === 0 &&\r\n                    <h2 className={classes['no-orders-title']}>No orders yet!</h2>}\r\n            </ul>\r\n            {totalCount > 20 && <Paginator totalCount={totalCount} shownCount={20} page={page} isLoading={isLoading} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrdersList;","import { useCallback, useEffect, useState } from \"react\";\r\nimport { useAppSelector } from \"../../../hooks/reduxHooks\";\r\n\r\nimport useHttp from \"../../../hooks/useHttp\";\r\nimport IRestaurant from \"../../../interfaces/IRestaurant\";\r\nimport restaurantOptions from \"../../../utils/restaurantOptions\";\r\n\r\nimport Spinner from \"../../UI/Spinner/Spinner\";\r\nimport RestaurantList from \"../RestaurantList/RestaurantList\";\r\n\r\nconst FavoriteRestaurants: React.FC = () => {\r\n    const [restaurants, setRestaurants] = useState<IRestaurant[]>([]);\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const user = useAppSelector(state => state.auth);\r\n\r\n    const processResponse = useCallback((res: IRestaurant[]) => {\r\n        setRestaurants(res);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const query = user.favorites.join('&');\r\n        sendRequest(restaurantOptions.getFavorites(query), processResponse);\r\n    }, [sendRequest, user.favorites, processResponse]);\r\n    return (\r\n        <div className={'container'}>\r\n            {isLoading && <Spinner />}\r\n            {!isLoading && restaurants.length > 0 && <RestaurantList restaurants={restaurants} />}\r\n            {!isLoading && restaurants.length === 0 && <h2>No favorite restaurants yet!</h2>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default FavoriteRestaurants;","import { Route, Switch } from \"react-router\";\r\n\r\nimport { useAppSelector } from \"../../hooks/reduxHooks\";\r\n\r\nimport CreateRestaurant from \"../../components/restaurant/CreateRestaurant/CreateRestaurant\";\r\nimport HorizontalNav from \"../../components/UI/HorizontalNav/HorizontalNav\";\r\nimport UserData from \"../../components/userProfile/UserData/UserData\";\r\nimport MyRestaurants from \"../../components/restaurant/MyRestaurants/MyRestaurants\";\r\nimport OrdersList from \"../../components/order/OrdersList/OrdersList\";\r\nimport FavoriteRestaurants from \"../../components/restaurant/FavoriteRestaurants/FavoriteRestaurants\";\r\n\r\nconst UserProfile: React.FC = () => {\r\n    const user = useAppSelector(state => state.auth);\r\n\r\n    const links: { url: string; text: string }[] = [\r\n        { url: `/profile/${user._id}`, text: 'Profile' },\r\n        { url: `/profile/${user._id}/create-restaurant`, text: 'Create Restaurant' },\r\n        { url: `/profile/${user._id}/restaurants`, text: 'My restaurants' },\r\n        { url: `/profile/${user._id}/favorites`, text: 'Favorite restaurants' },\r\n        { url: `/profile/${user._id}/orders`, text: 'My orders' },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <HorizontalNav links={links} />\r\n            <Switch>\r\n                <Route path=\"/profile/:id\" exact>\r\n                    <UserData edit={false} />\r\n                </Route>\r\n                <Route path=\"/profile/:id/create-restaurant\">\r\n                    <CreateRestaurant edit={false} />\r\n                </Route>\r\n                <Route path=\"/profile/:id/orders\">\r\n                    <OrdersList status={\"my-orders\"} />\r\n                </Route>\r\n                <Route path=\"/profile/:id/restaurants\">\r\n                    <MyRestaurants />\r\n                </Route>\r\n                <Route path=\"/profile/:id/favorites\">\r\n                    <FavoriteRestaurants />\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UserProfile;","const { REACT_APP_BASE_URL } = process.env;\r\n\r\nconst add = (restaurantId: string, data: FormData) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/recipe/${restaurantId}/add-recipe`,\r\n        method: 'POST',\r\n        body: data\r\n    }\r\n};\r\n\r\nconst edit = (recipeId: string, restaurantId: string, data: FormData) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/recipe/${recipeId}/${restaurantId}`,\r\n        method: 'PUT',\r\n        body: data\r\n    }\r\n};\r\n\r\nconst deleteRecipe = (recipeId: string, restaurantId: string) => {\r\n    return {\r\n        url: `${REACT_APP_BASE_URL}/recipe/${recipeId}/${restaurantId}`,\r\n        method: 'DELETE'\r\n    }\r\n};\r\n\r\nconst recipeOptions = {\r\n    add,\r\n    edit,\r\n    deleteRecipe\r\n}\r\n\r\nexport default recipeOptions;","import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { modalActions } from '../../../store/modal';\r\nimport { restaurantActions } from '../../../store/restaurant';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport validators from '../../../validators';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport IRecipe from '../../../interfaces/IRecipe';\r\nimport recipeOptions from '../../../utils/recipeOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './AddRecipeModal.module.css';\r\n\r\ntype AddRecipeModalProps = JSX.IntrinsicElements['section'] & {\r\n    recipe?: IRecipe;\r\n}\r\n\r\nconst AddRecipeModal: React.FC<AddRecipeModalProps> = ({ recipe }) => {\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const dispatch = useAppDispatch();\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const [selectedFile, setSelectedFile] = useState<File>();\r\n    const [fileIsValid, setFileIsValid] = useState(true);\r\n    const {\r\n        value: nameValue,\r\n        hasError: nameHasError,\r\n        isValid: nameIsValid,\r\n        inputBlurHandler: nameBlurHandler,\r\n        valueChangeHandler: nameChangeHandler,\r\n        setValue: setNameValue\r\n    } = useUserInput(validators.minLength.bind(null, 5));\r\n    const {\r\n        value: ingredientsValue,\r\n        hasError: ingredientsHasError,\r\n        isValid: ingredientsIsValid,\r\n        inputBlurHandler: ingredientsBlurHandler,\r\n        valueChangeHandler: ingredientsChangeHandler,\r\n        setValue: setIngredientsValue\r\n    } = useUserInput(validators.minStringCount.bind(null, 3));\r\n    const {\r\n        value: priceValue,\r\n        hasError: priceHasError,\r\n        isValid: priceIsValid,\r\n        inputBlurHandler: priceBlurHandler,\r\n        valueChangeHandler: priceChangeHandler,\r\n        setValue: setPriceValue\r\n    } = useUserInput(validators.minLength.bind(null, 1));\r\n    const {\r\n        value: weightValue,\r\n        hasError: weightHasError,\r\n        isValid: weightIsValid,\r\n        inputBlurHandler: weightBlurHandler,\r\n        valueChangeHandler: weightChangeHandler,\r\n        setValue: setWeightValue\r\n    } = useUserInput(validators.minLength.bind(null, 1));\r\n    const {\r\n        value: categoryValue,\r\n        isValid: categoryIsValid,\r\n        hasError: categoryHasError,\r\n        inputBlurHandler: categoryBlurHandler,\r\n        valueChangeHandler: categoryChangeHandler,\r\n        setValue: setCategoryValue\r\n    } = useUserInput(validators.minLength.bind(null, 1));\r\n\r\n    let formIsValid = nameIsValid && ingredientsIsValid && priceIsValid && categoryIsValid && weightIsValid;\r\n\r\n    useEffect(() => {\r\n        if (recipe) {\r\n            setNameValue(recipe.name);\r\n            setIngredientsValue(recipe.ingredients.join(','));\r\n            setPriceValue(recipe.price.toString());\r\n            setWeightValue(recipe.weight.toString());\r\n            setCategoryValue(recipe.category);\r\n        }\r\n    }, [recipe, setNameValue, setIngredientsValue, setPriceValue, setWeightValue, setCategoryValue]);\r\n\r\n    const fileChangeHandler = (e: ChangeEvent) => {\r\n        const element = e.target as HTMLInputElement;\r\n        if (element.files?.length !== 0) {\r\n            setSelectedFile(element.files![0]);\r\n            setFileIsValid(true);\r\n        }\r\n    }\r\n\r\n    const processResponse = (res: IRestaurant) => {\r\n        dispatch(restaurantActions.setRestaurant(res));\r\n        dispatch(modalActions.close());\r\n    }\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!selectedFile && !recipe) {\r\n            setFileIsValid(false);\r\n            return;\r\n        }\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        const formData = new FormData();\r\n        if (selectedFile) {\r\n            formData.append('Recipe image', selectedFile!, selectedFile!.name);\r\n        } else {\r\n            formData.append('Recipe image', JSON.stringify(recipe!.image));\r\n        }\r\n        formData.append('name', nameValue);\r\n        formData.append('ingredients', ingredientsValue);\r\n        formData.append('price', priceValue);\r\n        formData.append('category', categoryValue);\r\n        formData.append('weight', weightValue);\r\n\r\n        let options = recipeOptions.add(restaurant._id, formData);\r\n\r\n        if (recipe) {\r\n            options = recipeOptions.edit(recipe._id, restaurant._id, formData);\r\n        }\r\n\r\n        sendRequest(options, processResponse)\r\n    }\r\n    return (\r\n        <section className={`${classes['add-recipe']} container`}>\r\n            <h2>Add recipe</h2>\r\n            <form className={classes['create-restaurant-form']} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${nameHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"name\"\r\n                        disabled={isLoading}\r\n                        value={nameValue}\r\n                        onChange={nameChangeHandler}\r\n                        onBlur={nameBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Recipe name</span>\r\n                    {nameHasError && <p className={classes['input-notification']}>At least 5 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${ingredientsHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"text\"\r\n                        placeholder=\" \"\r\n                        name=\"name\"\r\n                        disabled={isLoading}\r\n                        value={ingredientsValue}\r\n                        onChange={ingredientsChangeHandler}\r\n                        onBlur={ingredientsBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Ingredients separated by \",\"</span>\r\n                    {ingredientsHasError && <p className={classes['input-notification']}>At least 3!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${weightHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"number\"\r\n                        placeholder=\" \"\r\n                        name=\"name\"\r\n                        disabled={isLoading}\r\n                        value={weightValue}\r\n                        onChange={weightChangeHandler}\r\n                        onBlur={weightBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Weight in grams</span>\r\n                    {weightHasError && <p className={classes['input-notification']}>Weight is required!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={`${classes['create-restaurant-form-input']} ${priceHasError ? classes['input--invalid'] : ''}`}\r\n                        type=\"number\"\r\n                        placeholder=\" \"\r\n                        name=\"name\"\r\n                        disabled={isLoading}\r\n                        value={priceValue}\r\n                        onChange={priceChangeHandler}\r\n                        onBlur={priceBlurHandler}\r\n                    />\r\n                    <span className={classes.placeholder}>Price</span>\r\n                    {priceHasError && <p className={classes['input-notification']}>Price is required!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <select\r\n                        className={`${classes.select} ${categoryHasError ? classes['input--invalid'] : ''}`}\r\n                        value={categoryValue}\r\n                        disabled={isLoading}\r\n                        onChange={categoryChangeHandler}\r\n                        onBlur={categoryBlurHandler}\r\n                    >\r\n                        <option hidden>Select category</option>\r\n                        {restaurant.categories.map(x => <option key={uuidv4()}>{x}</option>)}\r\n                    </select>\r\n                    {categoryHasError && <p className={classes['input-notification']}>Category is required!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <label className={`${classes['file-label']} ${!fileIsValid ? classes['file-label--invalid'] : ''}`} htmlFor=\"image\">\r\n                        {selectedFile ? 'File selected' : 'Upload restaurant cover image'}\r\n                    </label>\r\n                    <input\r\n                        className={classes['file-btn']}\r\n                        id=\"image\"\r\n                        type=\"file\"\r\n                        name=\"image\"\r\n                        disabled={isLoading}\r\n                        onChange={fileChangeHandler}\r\n                    />\r\n                    {!fileIsValid && <p className={classes['input-notification']}>Restaurant cover image is required!</p>}\r\n                </div>\r\n                {!recipe &&\r\n                    <button className={`main-btn create-btn ${classes['btn-flex']}`} disabled={!formIsValid || isLoading}>\r\n                        Add\r\n                        {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                    </button>}\r\n                {recipe &&\r\n                    <button className={`main-btn create-btn ${classes['btn-flex']}`} disabled={!formIsValid || isLoading}>\r\n                        Edit\r\n                        {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n                    </button>}\r\n\r\n            </form>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default AddRecipeModal;","import { useAppDispatch } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport { modalActions } from '../../../store/modal';\r\nimport { restaurantActions } from '../../../store/restaurant';\r\nimport recipeOptions from '../../../utils/recipeOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './DeleteRecipeModal.module.css';\r\n\r\ntype DeleteRecipeModalProps = JSX.IntrinsicElements['section'] & {\r\n    _id: string;\r\n    name: string;\r\n    restaurantId: string;\r\n}\r\n\r\nconst DeleteRecipeModal: React.FC<DeleteRecipeModalProps> = ({ _id, name, restaurantId }) => {\r\n    const dispatch = useAppDispatch();\r\n    const { sendRequest, isLoading } = useHttp();\r\n\r\n    const processResponse = (res: IRestaurant) => {\r\n        dispatch(modalActions.close());\r\n        dispatch(restaurantActions.setRestaurant(res));\r\n    };\r\n\r\n    const deleteClickHandler = () => {\r\n        sendRequest(recipeOptions.deleteRecipe(_id, restaurantId), processResponse);\r\n    };\r\n\r\n    const cancelClickHandler = () => {\r\n        dispatch(modalActions.close());\r\n    };\r\n\r\n    return (\r\n        <section className={classes['delete-recipe']}>\r\n            {!isLoading && <>\r\n                <h3 className={classes['delete-recipe-title']}>Confirm you want to delete {name}?</h3>\r\n                <button onClick={deleteClickHandler} className={`${classes['delete-recipe-btn']} ${classes['delete-recipe-btn--danger']}`}>Delete</button>\r\n                <button onClick={cancelClickHandler} className={classes['delete-recipe-btn']}>Cancel</button>\r\n            </>}\r\n            {isLoading && <Spinner size=\"medium\" />}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default DeleteRecipeModal;","import { modalActions } from '../../../store/modal';\r\nimport { cartActions } from '../../../store/cart';\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport IRecipe from '../../../interfaces/IRecipe';\r\n\r\nimport AddRecipeModal from '../AddRecipeModal/AddRecipeModal';\r\nimport DeleteRecipeModal from '../DeleteRecipeModal/DeleteRecipeModal';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport ImageSuspense from '../../UI/ImageSuspense/ImageSuspense';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nimport classes from './Recipe.module.css';\r\n\r\ntype RecipeProps = JSX.IntrinsicElements['article'] & {\r\n    recipe: IRecipe;\r\n}\r\n\r\nconst Recipe: React.FC<RecipeProps> = ({ recipe }) => {\r\n    const dispatch = useAppDispatch();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const user = useAppSelector(state => state.auth);\r\n    const modalState = useAppSelector(state => state.modal);\r\n    const isAdmin = restaurant.owner === user._id;\r\n\r\n    const deleteClickHandler = () => {\r\n        dispatch(modalActions.open(`delete-recipe-${recipe._id}`));\r\n    }\r\n\r\n    const editClickHandler = () => {\r\n        dispatch(modalActions.open(`edit-recipe/${recipe._id}`));\r\n    }\r\n\r\n    const addToCartHandler = () => {\r\n        dispatch(cartActions.addToCart({ restaurantId: restaurant._id, recipe }));\r\n    }\r\n\r\n    return (\r\n        <article className={classes.recipe}>\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === `delete-recipe-${recipe._id}` &&\r\n                <Modal>\r\n                    <DeleteRecipeModal\r\n                        _id={recipe._id}\r\n                        name={recipe.name}\r\n                        restaurantId={restaurant._id}\r\n                    />\r\n                </Modal>\r\n            }\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === `edit-recipe/${recipe._id}` &&\r\n                <Modal>\r\n                    <AddRecipeModal recipe={recipe} />\r\n                </Modal>\r\n            }\r\n            <div className={classes['recipe-img-wrapper']}>\r\n                <ImageSuspense url={recipe.image.url}>\r\n                    <img src={recipe.image.url} alt={recipe.name} />\r\n                </ImageSuspense>\r\n            </div>\r\n            <div className={classes['recipe-content']}>\r\n                <h3 className={classes['recipe-content-title']}>{recipe.name} <span className={classes['recipe-content-weight']}>({recipe.weight}g)</span></h3>\r\n                <p className={classes['recipe-content-text']}>{recipe.ingredients.join(', ')}</p>\r\n                <p>${recipe.price}</p>\r\n            </div>\r\n            <div onClick={addToCartHandler} className={classes['recipe-icon-wrapper']}>\r\n                <FontAwesomeIcon icon={['fas', 'plus']} className={classes['recipe-icon']} />\r\n            </div>\r\n            {isAdmin && <div className={classes['recipe-admin-icons-wrapper']}>\r\n                <FontAwesomeIcon icon={['fas', 'edit']} onClick={editClickHandler} className={classes['recipe-icon']} />\r\n                <FontAwesomeIcon icon={['fas', 'trash']} onClick={deleteClickHandler} className={classes['recipe-icon']} />\r\n            </div>}\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Recipe;","import { memo } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport IRecipe from '../../../interfaces/IRecipe';\r\n\r\nimport Recipe from '../../recipe/Recipe/Recipe';\r\n\r\n\r\nimport classes from './RestaurantCategoryList.module.css';\r\n\r\ntype RestaurantCategoryListProps = JSX.IntrinsicElements['div'] & {\r\n    categoryRecipes: IRecipe[];\r\n}\r\n\r\nconst RestaurantCategoryList: React.FC<RestaurantCategoryListProps> = memo(({ categoryRecipes }) => {\r\n    return (\r\n        <div className={`${classes.category}`}>\r\n            <h2 className={classes['category-title']}>{categoryRecipes[0].category}</h2>\r\n            {categoryRecipes.map(recipe => <Recipe key={uuidv4()} recipe={recipe} />)}\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default RestaurantCategoryList;","import { memo } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { useAppSelector } from '../../../hooks/reduxHooks';\r\n\r\nimport RestaurantCategoryList from \"../RestaurantCategoryList/RestaurantCategoryList\";\r\n\r\n\r\nimport classes from './RestaurantCategories.module.css';\r\n\r\n\r\nconst RestaurantCategories: React.FC = memo(() => {\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    return (\r\n        <section className={'container'}>\r\n            {restaurant.categories.map(category => {\r\n                const categoryRecipes = restaurant.recipes.filter(recipe => recipe.category === category);\r\n                \r\n                if (categoryRecipes.length > 0) {\r\n                    return <RestaurantCategoryList key={uuidv4()} categoryRecipes={categoryRecipes} />;\r\n                } else {\r\n                    return <div key={uuidv4()}>\r\n                        <h3 className={classes['category-title']}>{category}</h3>\r\n                        <p>No recipes yet!</p>\r\n                    </div>;\r\n                }\r\n            })}\r\n        </section>\r\n    )\r\n});\r\n\r\nexport default RestaurantCategories;","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { Chart, registerables } from 'chart.js';\r\n\r\nimport useHttp from '../../../../hooks/useHttp';\r\nimport orderOptions from '../../../../utils/orderOptions';\r\nimport { useAppSelector } from '../../../../hooks/reduxHooks';\r\n\r\n\r\nimport classes from './CategoriesChart.module.css';\r\n\r\nChart.register(...registerables);\r\n\r\nconst CategoriesChart: React.FC = () => {\r\n    const { sendRequest } = useHttp();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const [period, setPeriod] = useState('week');\r\n    const [dataLabels, setDataLabels] = useState<string[]>([]);\r\n    const [categoriesCount, setCategoriesCount] = useState<number[]>([]);\r\n\r\n    const processResponse = useCallback((res: { category: number }) => {\r\n        const labels: string[] = [];\r\n        const counts: number[] = [];\r\n        Object.entries(res).forEach(([k, v]) => {\r\n            labels.push(k);\r\n            counts.push(v);\r\n        });\r\n        setDataLabels(labels);\r\n        setCategoriesCount(counts);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!restaurant._id) { return };\r\n        sendRequest(orderOptions.getOrdersCountByCategoryAndPeriod(restaurant._id, period), processResponse);\r\n    }, [sendRequest, restaurant._id, processResponse, period]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (dataLabels.length === 0) { return; }\r\n        const myChart = new Chart(\r\n            canvasRef.current!,\r\n            {\r\n                type: 'pie',\r\n                data: {\r\n                    labels: dataLabels,\r\n                    datasets: [{\r\n                        label: 'Categories',\r\n                        data: categoriesCount,\r\n                        backgroundColor: [\r\n                            'rgba(255, 99, 132, 0.2)',\r\n                            'rgba(54, 162, 235, 0.2)',\r\n                            'rgba(255, 206, 86, 0.2)',\r\n                            'rgba(75, 192, 192, 0.2)',\r\n                            'rgba(153, 102, 255, 0.2)',\r\n                            'rgba(255, 159, 64, 0.2)',\r\n                            'rgba(255, 99, 71, 0.2)',\r\n                            'rgba(238, 130, 238, 0.2)',\r\n                            'rgba(255, 0, 0, 0.2)',\r\n                            'rgba(0, 0, 255, 0.2)',\r\n                            'rgba(255, 99, 71, 0.2)'\r\n                        ],\r\n                        borderColor: [\r\n                            'rgba(255, 99, 132, 1)',\r\n                            'rgba(54, 162, 235, 1)',\r\n                            'rgba(255, 206, 86, 1)',\r\n                            'rgba(75, 192, 192, 1)',\r\n                            'rgba(153, 102, 255, 1)',\r\n                            'rgba(255, 159, 64, 1)',\r\n                            'rgb(255, 99, 71, 1)',\r\n                            'rgb(238, 130, 238, 1)',\r\n                            'rgb(255, 0, 0, 1)',\r\n                            'rgb(0, 0, 255, 1)',\r\n                            'rgba(255, 99, 71, 1)'\r\n                        ],\r\n                        borderWidth: 1\r\n                    }]\r\n                },\r\n                options: {\r\n                    plugins: {\r\n                        legend: {\r\n                            display: false\r\n                        },\r\n                        title: {\r\n                            display: true,\r\n                            text: 'Orders by category'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        return () => {\r\n            myChart.destroy();\r\n        }\r\n    }, [categoriesCount, dataLabels]);\r\n\r\n    const selectChangeHandler = (e: React.ChangeEvent) => {\r\n        const period = (e.target as HTMLSelectElement).selectedOptions[0].value\r\n        setPeriod(period);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.chart}>\r\n            <h2 className={classes['chart-title']}>Categories share:</h2>\r\n            <select onChange={selectChangeHandler} className={classes['chart-select']}>\r\n                <option value=\"week\">Week</option>\r\n                <option value=\"month\">Month</option>\r\n            </select>\r\n            {dataLabels.length > 0 && <canvas ref={canvasRef} className={classes['canvas']}></canvas>}\r\n            {dataLabels.length === 0 && <div className={classes['no-data']}>No data for selected period</div>}\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default CategoriesChart;","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { Chart, registerables } from 'chart.js';\r\n\r\nimport useHttp from '../../../../hooks/useHttp';\r\nimport orderOptions from '../../../../utils/orderOptions';\r\nimport { useAppSelector } from '../../../../hooks/reduxHooks';\r\n\r\n\r\nimport classes from './SalesChart.module.css';\r\n\r\nChart.register(...registerables);\r\n\r\nconst SalesChart: React.FC = () => {\r\n    const { sendRequest } = useHttp();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const [period, setPeriod] = useState('week');\r\n    const [dataLabels, setDataLabels] = useState<string[]>([]);\r\n    const [categoriesCount, setCategoriesCount] = useState<number[]>([]);\r\n\r\n    const processResponse = useCallback((res: { category: number }) => {\r\n        const labels: string[] = [];\r\n        const counts: number[] = [];\r\n        Object.entries(res).forEach(([k, v]) => {\r\n            labels.push(k);\r\n            counts.push(v);\r\n        });\r\n        setDataLabels(labels);\r\n        setCategoriesCount(counts);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (!restaurant._id) { return };\r\n        sendRequest(orderOptions.getSalesByPeriod(restaurant._id, period), processResponse);\r\n    }, [sendRequest, restaurant._id, processResponse, period]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (dataLabels.length === 0) { return; }\r\n        const myChart = new Chart(\r\n            canvasRef.current!,\r\n            {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: dataLabels,\r\n                    datasets: [{\r\n                        label: 'Sales',\r\n                        data: categoriesCount,\r\n                        backgroundColor: [\r\n                            'rgba(255, 99, 132, 0.2)',\r\n                            'rgba(54, 162, 235, 0.2)',\r\n                            'rgba(255, 206, 86, 0.2)',\r\n                            'rgba(75, 192, 192, 0.2)',\r\n                            'rgba(153, 102, 255, 0.2)',\r\n                            'rgba(255, 159, 64, 0.2)',\r\n                            'rgba(255, 99, 71, 0.2)',\r\n                            'rgba(238, 130, 238, 0.2)',\r\n                            'rgba(255, 0, 0, 0.2)',\r\n                            'rgba(0, 0, 255, 0.2)',\r\n                            'rgba(255, 99, 71, 0.2)'\r\n                        ],\r\n                        borderColor: [\r\n                            'rgba(255, 99, 132, 1)',\r\n                            'rgba(54, 162, 235, 1)',\r\n                            'rgba(255, 206, 86, 1)',\r\n                            'rgba(75, 192, 192, 1)',\r\n                            'rgba(153, 102, 255, 1)',\r\n                            'rgba(255, 159, 64, 1)',\r\n                            'rgb(255, 99, 71, 1)',\r\n                            'rgb(238, 130, 238, 1)',\r\n                            'rgb(255, 0, 0, 1)',\r\n                            'rgb(0, 0, 255, 1)',\r\n                            'rgba(255, 99, 71, 1)'\r\n                        ],\r\n                        borderWidth: 1\r\n                    }]\r\n                },\r\n                options: {\r\n                    plugins: {\r\n                        legend: {\r\n                            display: false\r\n                        },\r\n                        title: {\r\n                            display: true,\r\n                            text: 'Orders by category'\r\n                        },\r\n                    },\r\n                }\r\n            }\r\n        );\r\n        return () => {\r\n            myChart.destroy();\r\n        }\r\n    }, [categoriesCount, dataLabels]);\r\n\r\n    const selectChangeHandler = (e: React.ChangeEvent) => {\r\n        const period = (e.target as HTMLSelectElement).selectedOptions[0].value\r\n        setPeriod(period);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.chart}>\r\n            <h2 className={classes['chart-title']}>Sales:</h2>\r\n            <select onChange={selectChangeHandler} className={classes['chart-select']}>\r\n                <option value=\"week\">Week</option>\r\n                <option value=\"month\">Month</option>\r\n            </select>\r\n            {dataLabels.length > 0 && <canvas ref={canvasRef} className={classes['canvas']}></canvas>}\r\n            {dataLabels.length === 0 && <div className={classes['no-data']}>No data for selected period</div>}\r\n        </div >\r\n    )\r\n};\r\n\r\nexport default SalesChart;","import CategoriesChart from './CategoriesChart/CategoriesChart';\r\nimport SalesChart from './SalesChart/SalesChart';\r\n\r\n\r\nimport classes from './Statistics.module.css';\r\n\r\n\r\nconst Statistics: React.FC = () => {\r\n    return (\r\n        <div className={`${classes.statistics} container`}>\r\n            <SalesChart />\r\n            <CategoriesChart />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Statistics;","import { Redirect, Route, Switch } from \"react-router\";\r\n\r\nimport { useAppSelector } from \"../../../hooks/reduxHooks\";\r\n\r\nimport OrdersList from \"../../order/OrdersList/OrdersList\";\r\nimport HorizontalNav from \"../../UI/HorizontalNav/HorizontalNav\"\r\nimport Statistics from \"../Statistics/Statistics\";\r\n\r\nconst RestaurantDashboard: React.FC = () => {\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const links: { url: string; text: string }[] = [\r\n        { url: `/restaurant/${restaurant._id}/dashboard/statistics`, text: 'Statistics' },\r\n        { url: `/restaurant/${restaurant._id}/dashboard/active-orders`, text: 'Active orders' },\r\n        { url: `/restaurant/${restaurant._id}/dashboard/completed-orders`, text: 'Completed orders' },\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <HorizontalNav links={links} />\r\n            <Switch>\r\n                <Route path=\"/restaurant/:id/dashboard/\" exact>\r\n                    <Redirect to={`/restaurant/${restaurant._id}/dashboard/statistics`} />\r\n                </Route>\r\n                <Route path=\"/restaurant/:id/dashboard/statistics\">\r\n                    <Statistics />\r\n                </Route>\r\n                <Route path=\"/restaurant/:id/dashboard/active-orders\">\r\n                    <OrdersList status={'active'} />\r\n                </Route>\r\n                <Route path=\"/restaurant/:id/dashboard/completed-orders\">\r\n                    <OrdersList status={'completed'} />\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default RestaurantDashboard;","import React, { useCallback, useEffect } from 'react';\r\n\r\nimport { useAppSelector } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport IComment from '../../../interfaces/IComment';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\nimport validators from '../../../validators';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './AddCommentForm.module.css';\r\n\r\ntype AddCommentFormProps = JSX.IntrinsicElements['form'] & {\r\n    setFormIsLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n    cancelClickHandler: () => void;\r\n    addCommentSubmitHandler: (res: { comments: IComment[], restaurant: IRestaurant }) => void;\r\n}\r\n\r\nconst AddCommentForm: React.FC<AddCommentFormProps> = ({ cancelClickHandler, addCommentSubmitHandler, setFormIsLoading }) => {\r\n    const user = useAppSelector(state => state.auth);\r\n    const { isLoading, setError, sendRequest } = useHttp();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const {\r\n        value: nameValue,\r\n        hasError: nameHasError,\r\n        valueChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameBlurHandler,\r\n        setValue: setNameValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: commentValue,\r\n        hasError: commentHasError,\r\n        valueChangeHandler: commentChangeHandler,\r\n        inputBlurHandler: commentBlurHandler\r\n    } = useUserInput(validators.minLength.bind(null, 10));\r\n\r\n    const formIsValid = !nameHasError && !commentHasError;\r\n\r\n    useEffect(() => {\r\n        if (user.firstName && user.lastName) {\r\n            setNameValue(`${user.firstName} ${user.lastName}`);\r\n        }\r\n    }, [setNameValue, user]);\r\n\r\n    const processResponse = useCallback((res: { comments: IComment[], restaurant: IRestaurant }) => {\r\n        addCommentSubmitHandler(res);\r\n        setFormIsLoading(false);\r\n    }, [addCommentSubmitHandler, setFormIsLoading]);\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.target as HTMLFormElement);\r\n        const rating = formData.get('rating');\r\n\r\n        if (rating === null) {\r\n            setError('Rating is required!');\r\n            return;\r\n        }\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        setFormIsLoading(true);\r\n        sendRequest(restaurantOptions.addComment(restaurant._id, nameValue, commentValue, rating as string), processResponse);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading && <div className={classes['background']}><Spinner /></div>}\r\n            {!isLoading && <form className={classes.form} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={nameHasError ? classes['input-invalid'] : ''}\r\n                        placeholder=\" \"\r\n                        type=\"name\"\r\n                        name=\"name\"\r\n                        id=\"name\"\r\n                        disabled={isLoading}\r\n                        value={nameValue}\r\n                        onChange={nameChangeHandler}\r\n                        onBlur={nameBlurHandler}\r\n                    />\r\n                    <label htmlFor=\"name\" className={classes.placeholder}>Name:</label>\r\n                    {nameHasError && <p className={classes['input-notification']}>At least 6 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <textarea\r\n                        className={classes['textarea']}\r\n                        placeholder=\" \"\r\n                        name=\"comment\"\r\n                        id=\"comment\"\r\n                        rows={3}\r\n                        disabled={isLoading}\r\n                        value={commentValue}\r\n                        onChange={commentChangeHandler}\r\n                        onBlur={commentBlurHandler}\r\n                    />\r\n                    <label htmlFor=\"comment\" className={classes.placeholder}>Comment:</label>\r\n                    {commentHasError && <p className={classes['input-notification']}>At least 10 characters long!</p>}\r\n                </div>\r\n                <div className={classes.controls}>\r\n                    <div className={classes.rating}>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"1\" />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"2\" />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"3\" />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"4\" />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"5\" />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                    </div>\r\n                    <div className={classes['controls-btns']}>\r\n                        <button className={classes['controls-btn']}>Add</button>\r\n                        <button onClick={cancelClickHandler} className={`${classes['controls-btn']} ${classes['controls-btn--danger']}`} type=\"button\">Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </form>}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddCommentForm;","import React, { Dispatch, SetStateAction, useEffect } from 'react';\r\n\r\nimport { useAppSelector } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport IComment from '../../../interfaces/IComment';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\nimport validators from '../../../validators';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './EditCommentForm.module.css';\r\n\r\ntype EditCommentFormProps = JSX.IntrinsicElements['form'] & {\r\n    comment: IComment;\r\n    setIsEditMode: Dispatch<SetStateAction<boolean>>;\r\n    editCommentHandler: (res: { comment: IComment, restaurant: IRestaurant }) => void;\r\n}\r\n\r\nconst EditCommentForm: React.FC<EditCommentFormProps> = ({ comment, setIsEditMode, editCommentHandler }) => {\r\n    const { isLoading, setError, sendRequest } = useHttp();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const {\r\n        value: nameValue,\r\n        hasError: nameHasError,\r\n        valueChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameBlurHandler,\r\n        setValue: setNameValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: commentValue,\r\n        hasError: commentHasError,\r\n        valueChangeHandler: commentChangeHandler,\r\n        inputBlurHandler: commentBlurHandler,\r\n        setValue: setCommentValue\r\n    } = useUserInput(validators.minLength.bind(null, 10));\r\n\r\n    const formIsValid = !nameHasError && !commentHasError;\r\n\r\n    useEffect(() => {\r\n        setNameValue(comment.name);\r\n        setCommentValue(comment.comment);\r\n    }, [setNameValue, setCommentValue, comment]);\r\n\r\n    const cancelClickHandler = () => {\r\n        setIsEditMode(false);\r\n    };\r\n\r\n    const processResponse = (res: { comment: IComment, restaurant: IRestaurant }) => {\r\n        setIsEditMode(false);\r\n        editCommentHandler(res);\r\n    }\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.target as HTMLFormElement);\r\n        const rating = formData.get('rating');\r\n\r\n        if (rating === null) {\r\n            setError('Rating is required!');\r\n            return;\r\n        }\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        sendRequest(\r\n            restaurantOptions.editComment(restaurant._id, comment._id, nameValue, commentValue, rating as string),\r\n            processResponse\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading && <div className={classes['background']}><Spinner /></div>}\r\n            {!isLoading && <form className={classes.form} onSubmit={submitHandler}>\r\n                <div className={classes.col}>\r\n                    <input\r\n                        className={nameHasError ? classes['input-invalid'] : ''}\r\n                        placeholder=\" \"\r\n                        type=\"name\"\r\n                        name=\"name\"\r\n                        id=\"name\"\r\n                        disabled={isLoading}\r\n                        value={nameValue}\r\n                        onChange={nameChangeHandler}\r\n                        onBlur={nameBlurHandler}\r\n                    />\r\n                    <label htmlFor=\"name\" className={classes.placeholder}>Name:</label>\r\n                    {nameHasError && <p className={classes['input-notification']}>At least 6 characters long!</p>}\r\n                </div>\r\n                <div className={classes.col}>\r\n                    <textarea\r\n                        className={classes['textarea']}\r\n                        placeholder=\" \"\r\n                        name=\"comment\"\r\n                        id=\"comment\"\r\n                        rows={3}\r\n                        value={commentValue}\r\n                        onChange={commentChangeHandler}\r\n                        onBlur={commentBlurHandler}\r\n                    />\r\n                    <label htmlFor=\"comment\" className={classes.placeholder}>Comment:</label>\r\n                    {commentHasError && <p className={classes['input-notification']}>At least 10 characters long!</p>}\r\n                </div>\r\n                <div className={classes.controls}>\r\n                    <div className={classes.rating}>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"1\" defaultChecked={comment.rating === 1} />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"2\" defaultChecked={comment.rating === 2} />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"3\" defaultChecked={comment.rating === 3} />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"4\" defaultChecked={comment.rating === 4} />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"5\" defaultChecked={comment.rating === 5} />\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                            <span className={classes.icon}>&#9733;</span>\r\n                        </label>\r\n                    </div>\r\n                    <div className={classes['controls-btns']}>\r\n                        <button className={classes['controls-btn']}>Edit</button>\r\n                        <button onClick={cancelClickHandler} className={`${classes['controls-btn']} ${classes['controls-btn--danger']}`} type=\"button\">Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </form>}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditCommentForm;","import { useEffect, useState } from 'react';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport IComment from '../../../interfaces/IComment';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport { notificationActions } from '../../../store/notification';\r\nimport formatDate from '../../../utils/formatDate';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport EditCommentForm from '../EditCommentForm/EditCommentForm';\r\n\r\n\r\nimport classes from './Comment.module.css';\r\n\r\ntype CommentProps = JSX.IntrinsicElements['article'] & {\r\n    commentObj: IComment;\r\n    editCommentHandler: (res: { comment: IComment, restaurant: IRestaurant }) => void;\r\n    deleteCommentHandler: (res: { restaurant: IRestaurant; commentId: string }) => void;\r\n}\r\n\r\nconst Comment: React.FC<CommentProps> = ({ commentObj, editCommentHandler, deleteCommentHandler }) => {\r\n    const dispatch = useAppDispatch();\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n    const [isDeleteMode, setIsDeleteMode] = useState(false);\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const { name, comment, rating, date, owner } = commentObj;\r\n    const user = useAppSelector(state => state.auth);\r\n    const formattedDate = formatDate(date);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(notificationActions.close());\r\n        }\r\n    }, [dispatch]);\r\n\r\n    const editClickHandler = () => {\r\n        setIsEditMode(true);\r\n    };\r\n\r\n    const deleteClickHandler = () => {\r\n        setIsDeleteMode(true);\r\n    };\r\n\r\n    const cancelDeleteClickHandler = () => {\r\n        setIsDeleteMode(false);\r\n    };\r\n\r\n    const deleteSubmitHandler = () => {\r\n        sendRequest(\r\n            restaurantOptions.deleteComment(restaurant._id, commentObj._id),\r\n            (res: IRestaurant) => deleteCommentHandler({ restaurant: res, commentId: commentObj._id })\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!isEditMode && !isDeleteMode && <article className={classes.comment}>\r\n                <div className={classes['comment-header']}>\r\n                    <h4 className={classes['comment-header-title']}>\r\n                        {name}\r\n                        {user._id === owner ? <button onClick={editClickHandler} className={classes['comment-edit-btn']}>Edit</button> : null}\r\n                        {user._id === owner ? <button onClick={deleteClickHandler} className={`${classes['comment-delete-btn']} ${classes['comment-delete-btn--red']}`}>Delete</button> : null}\r\n                    </h4>\r\n                    <div className={classes.rating}>\r\n                        <label>\r\n                            <span className={`${classes.icon} ${rating >= 1 ? '' : classes['icon--gray']}`}>★</span>\r\n                            <span className={`${classes.icon} ${rating >= 2 ? '' : classes['icon--gray']}`}>★</span>\r\n                            <span className={`${classes.icon} ${rating >= 3 ? '' : classes['icon--gray']}`}>★</span>\r\n                            <span className={`${classes.icon} ${rating >= 4 ? '' : classes['icon--gray']}`}>★</span>\r\n                            <span className={`${classes.icon} ${rating >= 5 ? '' : classes['icon--gray']}`}>★</span>\r\n                        </label >\r\n                    </div >\r\n                </div >\r\n                <p className={classes['comment-date']}>{formattedDate}</p>\r\n                <p className={classes['comment-text']}>{comment}</p>\r\n            </article>}\r\n            {isEditMode && !isDeleteMode &&\r\n                <EditCommentForm setIsEditMode={setIsEditMode} comment={commentObj} editCommentHandler={editCommentHandler} />}\r\n            {!isEditMode && isDeleteMode && !isLoading &&\r\n                <article className={`${classes.comment} ${classes.delete}`}>\r\n                    <h4 className={classes['delete-title']}>Are you sure?</h4>\r\n                    <button\r\n                        className={`${classes['comment-delete-btn']} ${classes['comment-delete-btn--red']}`}\r\n                        onClick={deleteSubmitHandler}\r\n                    >\r\n                        Delete\r\n                    </button>\r\n                    <button className={classes['comment-edit-btn']} onClick={cancelDeleteClickHandler}>Cancel</button>\r\n                </article>}\r\n            {isLoading && <div className={classes['background']}><Spinner size='medium' /></div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Comment;","import { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nimport IComment from '../../../interfaces/IComment';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { restaurantActions } from '../../../store/restaurant';\r\nimport ICommentsResponse from '../../../interfaces/ICommentsResponse';\r\nimport IRestaurant from '../../../interfaces/IRestaurant';\r\nimport { authActions } from '../../../store/auth';\r\nimport restaurantOptions from '../../../utils/restaurantOptions';\r\n\r\nimport AddCommentForm from '../AddCommentForm/AddCommentForm';\r\nimport Comment from '../Comment/Comment';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './CommentsModal.module.css';\r\n\r\nconst CommentsModal: React.FC = () => {\r\n    const [comments, setComments] = useState<(IComment | null)[]>([]);\r\n    const [totalCommentsCount, setTotalCommentsCount] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [showAddComment, setShowAddComment] = useState(false);\r\n    const [formIsLoading, setFormIsLoading] = useState(false);\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const user = useAppSelector(state => state.auth);\r\n    const { sendRequest, isLoading } = useHttp();\r\n    const dispatch = useAppDispatch();\r\n    const resId = restaurant._id;\r\n\r\n    const processResponse = useCallback((res: ICommentsResponse) => {\r\n        setComments(oldState => oldState.concat(res.comments));\r\n        setTotalCommentsCount(res.ratingsCount);\r\n        if (res.tokenExpired) {\r\n            dispatch(authActions.logout());\r\n        }\r\n    }, [setComments, dispatch]);\r\n\r\n    useEffect(() => {\r\n        if (page === 0) { return; }\r\n        sendRequest(restaurantOptions.getComments(resId, page), processResponse);\r\n    }, [resId, page, processResponse, sendRequest]);\r\n\r\n    const observer = useRef<IntersectionObserver>();\r\n    const lastCommentElementRef = useCallback(node => {\r\n        if (isLoading || formIsLoading) { return; }\r\n        if (observer.current) { observer.current.disconnect(); }\r\n        observer.current = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting && totalCommentsCount > comments.length) {\r\n                setPage(oldPage => oldPage + 1)\r\n            }\r\n        });\r\n        if (node) { observer.current.observe(node); }\r\n    }, [isLoading, totalCommentsCount, comments, formIsLoading]);\r\n\r\n    const addCommentClickHandler = () => setShowAddComment(true);\r\n\r\n    const cancelClickHandler = () => setShowAddComment(false);\r\n\r\n    const addCommentSubmitHandler = useCallback((res: { comments: IComment[], restaurant: IRestaurant }) => {\r\n        setShowAddComment(false);\r\n        setComments([]);\r\n        setPage(0);\r\n        setPage(1);\r\n        setTotalCommentsCount(res.comments.length);\r\n        dispatch(restaurantActions.updateRating({ rating: res.restaurant.rating, ratingsCount: res.restaurant.ratingsCount }));\r\n    }, [dispatch]);\r\n\r\n    const editCommentHandler = (res: { comment: IComment, restaurant: IRestaurant }) => {\r\n        const newComments = comments.map(x => {\r\n            if (x?._id === res.comment._id) { return res.comment; }\r\n            return x;\r\n        });\r\n        setComments(newComments);\r\n        dispatch(restaurantActions.updateRating({ rating: res.restaurant.rating, ratingsCount: res.restaurant.ratingsCount }));\r\n    };\r\n\r\n    const deleteCommentHandler = (res: { restaurant: IRestaurant; commentId: string }) => {\r\n        let newComments = comments.map(x => {\r\n            if (x?._id === res.commentId) { return null; }\r\n            return x;\r\n        });\r\n        if (res.restaurant.ratingsCount <= 10 && comments.length >= 10) {\r\n            newComments = [];\r\n            setPage(0);\r\n            setPage(1);\r\n        }\r\n        setComments(newComments);\r\n        dispatch(restaurantActions.setRestaurant(res.restaurant));\r\n    };\r\n\r\n    return (\r\n        <section className={classes.comments}>\r\n            <h3 className={classes['comments-title']}>Comments</h3>\r\n            <article className={classes['comments-score']}>\r\n                <h4 className={classes['comments-score-title']}>Average score:</h4>\r\n                <div>\r\n                    <FontAwesomeIcon\r\n                        icon={['fas', 'star']}\r\n                        className={restaurant.rating !== 0 ? classes['comments-score-icon'] : classes['comments-score-icon--gray']}\r\n                    />\r\n                    {restaurant.rating !== 0 && <span>{restaurant.rating} from {restaurant.ratingsCount} comments</span>}\r\n                    {restaurant.rating === 0 && <span>No comments yet!</span>}\r\n                </div>\r\n            </article>\r\n            {!showAddComment && user.email && <button onClick={addCommentClickHandler} className={classes['comments-btn']}>Add comment</button>}\r\n            {showAddComment && <AddCommentForm cancelClickHandler={cancelClickHandler} setFormIsLoading={setFormIsLoading} addCommentSubmitHandler={addCommentSubmitHandler} />}\r\n            <ul className={classes['comments-list']}>\r\n                {comments.map((x, i) => {\r\n                    if (x === null) { return null };\r\n                    if (comments.length === i + 1) {\r\n                        return (\r\n                            <li ref={lastCommentElementRef} key={x?._id} className={classes['comments-list-item']}>\r\n                                <Comment commentObj={x} editCommentHandler={editCommentHandler} deleteCommentHandler={deleteCommentHandler} />\r\n                            </li>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            <li key={x._id} className={classes['comments-list-item']}>\r\n                                <Comment commentObj={x} editCommentHandler={editCommentHandler} deleteCommentHandler={deleteCommentHandler} />\r\n                            </li>\r\n                        );\r\n                    }\r\n                })}\r\n                {isLoading && <Spinner size=\"medium\" />}\r\n            </ul>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default CommentsModal;","import { useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/reduxHooks\";\r\nimport { authActions } from '../../../store/auth';\r\nimport { modalActions } from \"../../../store/modal\";\r\nimport IAuthState from \"../../../interfaces/IAuthState\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport DeleteRestaurantModal from \"../DeleteRestaurantModal/DeleteRestaurantModal\";\r\nimport Modal from \"../../UI/Modal/Modal\";\r\nimport AddRecipeModal from \"../../recipe/AddRecipeModal/AddRecipeModal\";\r\nimport CommentsModal from \"../../comment/CommentsModal/CommentsModal\";\r\nimport ImageSuspense from \"../../UI/ImageSuspense/ImageSuspense\";\r\n\r\n\r\nimport classes from './RestaurantHeader.module.css';\r\n\r\ntype RestaurantHeaderProps = JSX.IntrinsicElements['section'] & {\r\n    user: IAuthState;\r\n}\r\n\r\nconst RestaurantHeader: React.FC<RestaurantHeaderProps> = ({ user }) => {\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const dispatch = useAppDispatch();\r\n    const userIsOwner = user._id === restaurant.owner;\r\n    const restaurantIsInFavorites = user.favorites.includes(restaurant._id);\r\n    const modalState = useAppSelector(state => state.modal);\r\n\r\n    const addToFavoritesHandler = () => {\r\n        dispatch(authActions.addToFavorites({ _id: restaurant._id }));\r\n    }\r\n\r\n    const removeFromFavoritesHandler = () => {\r\n        dispatch(authActions.removeFromFavorites({ _id: restaurant._id }));\r\n    }\r\n\r\n    const deleteClickHandler = () => {\r\n        dispatch(modalActions.open(`delete-restaurant-${restaurant._id}`));\r\n    }\r\n\r\n    const addRecipeClickHandler = () => {\r\n        dispatch(modalActions.open('add-recipe'));\r\n    }\r\n\r\n    const commentClickHandler = () => {\r\n        dispatch(modalActions.open('comment'));\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(modalActions.close())\r\n        }\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <section>\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === `delete-restaurant-${restaurant._id}` &&\r\n                <Modal>\r\n                    <DeleteRestaurantModal _id={restaurant._id} name={restaurant.name} />\r\n                </Modal>\r\n            }\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === 'add-recipe' &&\r\n                <Modal>\r\n                    <AddRecipeModal />\r\n                </Modal>\r\n            }\r\n            {modalState.isOpen &&\r\n                modalState.overlayName === 'comment' &&\r\n                <Modal>\r\n                    <CommentsModal />\r\n                </Modal>\r\n            }\r\n            <ImageSuspense url={restaurant.image.url}>\r\n                <img className={classes['restaurant-img']} src={restaurant.image.url} alt={`${restaurant.name} restaurant`} />\r\n            </ImageSuspense>\r\n            <article className={`${classes['restaurant-content']} container`}>\r\n                <article className={classes['restaurant-content-title-wrapper']}>\r\n                    <NavLink to={`/restaurant/${restaurant._id}`} className={classes['restaurant-content-title']}>{restaurant.name}</NavLink>\r\n                    <h4 className={classes['restaurant-content-subtitle']}>{restaurant.mainTheme}, {restaurant.categories[0]}</h4>\r\n                    <p className={classes.scoring}>\r\n                        <FontAwesomeIcon icon={['fas', 'star']} size=\"lg\" className={restaurant.rating !== 0 ? classes['icon--blue'] : classes['icon--gray']} />\r\n                        {restaurant.rating !== 0 && <span>{restaurant.rating}({restaurant.ratingsCount})</span>}\r\n                    </p>\r\n                </article>\r\n                <p className={classes.icons}>\r\n                    {userIsOwner &&\r\n                        <NavLink to={`/restaurant/${restaurant._id}/edit`}>\r\n                            <FontAwesomeIcon\r\n                                className={classes.icon}\r\n                                icon={['fas', 'edit']}\r\n                            />\r\n                        </NavLink>}\r\n                    {userIsOwner &&\r\n                        <span className={classes['icon--after']}>\r\n                            <FontAwesomeIcon\r\n                                className={classes.icon}\r\n                                onClick={addRecipeClickHandler}\r\n                                icon={['fas', 'hamburger']}\r\n                            />\r\n                        </span>}\r\n                    {userIsOwner &&\r\n                        <NavLink to={`/restaurant/${restaurant._id}/dashboard`}>\r\n                            <FontAwesomeIcon\r\n                                className={classes.icon}\r\n                                icon={['fas', 'tools']}\r\n                            />\r\n                        </NavLink>}\r\n                    {userIsOwner &&\r\n                        <FontAwesomeIcon\r\n                            className={classes.icon}\r\n                            onClick={deleteClickHandler}\r\n                            icon={['fas', 'trash']}\r\n                        />}\r\n                    {!restaurantIsInFavorites &&\r\n                        <FontAwesomeIcon\r\n                            className={`${classes.icon} ${classes['icon--red']}`}\r\n                            onClick={addToFavoritesHandler}\r\n                            icon={['far', 'heart']}\r\n                        />}\r\n                    {restaurantIsInFavorites &&\r\n                        <FontAwesomeIcon\r\n                            className={`${classes.icon} ${classes['icon--red']}`}\r\n                            onClick={removeFromFavoritesHandler}\r\n                            icon={['fas', 'heart']}\r\n                        />}\r\n                    <FontAwesomeIcon\r\n                        className={`${classes.icon} ${classes['icon--blue']}`}\r\n                        onClick={commentClickHandler}\r\n                        icon={['far', 'comment']}\r\n                    />\r\n                </p >\r\n            </article>\r\n        </section>\r\n    )\r\n};\r\n\r\nexport default RestaurantHeader;","const isOpen = (workHours: string[]) => {\r\n    const workHoursStartHours = Number(workHours[0].split(':')[0]);\r\n    const workHoursStartMinutes = Number(workHours[0].split(':')[1]);\r\n    const workHoursEndHours = Number(workHours[1].split(':')[0]);\r\n    const workHoursEndMinutes = Number(workHours[1].split(':')[1]);\r\n    const workHoursStart = new Date().setHours(workHoursStartHours, workHoursStartMinutes, 0, 0);\r\n    const workHoursEnd = new Date().setHours(workHoursEndHours, workHoursEndMinutes, 0, 0);\r\n    const time = Date.now();\r\n    return workHoursStart < time && time < workHoursEnd;\r\n};\r\n\r\nexport default isOpen;","import React, { useEffect, useRef } from 'react';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { cartActions } from '../../../store/cart';\r\nimport { checkoutActions } from '../../../store/checkout';\r\nimport { notificationActions } from '../../../store/notification';\r\nimport useHttp from '../../../hooks/useHttp';\r\nimport useUserInput from '../../../hooks/useUserInput';\r\nimport IRecipe from '../../../interfaces/IRecipe';\r\nimport validators from '../../../validators';\r\nimport orderOptions from '../../../utils/orderOptions';\r\nimport isOpen from '../../../utils/isOpen';\r\n\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nimport classes from './CheckoutForm.module.css';\r\n\r\ntype CheckoutFormProps = JSX.IntrinsicElements['form'] & {\r\n    cartRecipes: { recipe: IRecipe; quantity: number; }[];\r\n}\r\n\r\nconst CheckoutForm: React.FC<CheckoutFormProps> = ({ cartRecipes }) => {\r\n    const dispatch = useAppDispatch();\r\n    const user = useAppSelector(state => state.auth);\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const checkoutState = useAppSelector(state => state.checkout);\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const {\r\n        value: addressValue,\r\n        hasError: addressHasError,\r\n        valueChangeHandler: addressChangeHandler,\r\n        inputBlurHandler: addressBlurHandler,\r\n        isValid: addressIsValid,\r\n        setValue: setAddressValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: cityValue,\r\n        hasError: cityHasError,\r\n        valueChangeHandler: cityChangeHandler,\r\n        inputBlurHandler: cityBlurHandler,\r\n        isValid: cityIsValid,\r\n        setValue: setCityValue\r\n    } = useUserInput(validators.minLength.bind(null, 4));\r\n    const {\r\n        value: nameValue,\r\n        hasError: nameHasError,\r\n        valueChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameBlurHandler,\r\n        isValid: nameIsValid,\r\n        setValue: setNameValue\r\n    } = useUserInput(validators.minLength.bind(null, 6));\r\n    const {\r\n        value: phoneValue,\r\n        hasError: phoneHasError,\r\n        valueChangeHandler: phoneChangeHandler,\r\n        inputBlurHandler: phoneBlurHandler,\r\n        isValid: phoneIsValid,\r\n        setValue: setPhoneValue\r\n    } = useUserInput(validators.isPhone);\r\n\r\n    const nameRef = useRef<null | string>(null);\r\n    const addressRef = useRef<null | string>(null);\r\n    const cityRef = useRef<null | string>(null);\r\n    const phoneRef = useRef<null | string>(null);\r\n    nameRef.current = nameValue;\r\n    addressRef.current = addressValue;\r\n    cityRef.current = cityValue;\r\n    phoneRef.current = phoneValue;\r\n\r\n    useEffect(() => {\r\n        setAddressValue(checkoutState.address || user.address || '');\r\n        setCityValue(checkoutState.city || user.city || '');\r\n        setPhoneValue(checkoutState.phone?.toString() || user.phone?.toString() || '');\r\n        if (user.firstName && user.lastName) {\r\n            setNameValue(checkoutState.name || `${user.firstName} ${user.lastName}`);\r\n        } else {\r\n            setNameValue(checkoutState.name || '');\r\n        }\r\n        return () => {\r\n            dispatch(checkoutActions.save({ name: nameRef.current, phone: phoneRef.current, city: cityRef.current, address: addressRef.current }));\r\n        }\r\n    }, [\r\n        setAddressValue,\r\n        setCityValue,\r\n        setPhoneValue,\r\n        setNameValue,\r\n        user,\r\n        checkoutState,\r\n        dispatch\r\n    ]);\r\n\r\n    const formIsValid = addressIsValid && cityIsValid && nameIsValid && phoneIsValid;\r\n\r\n    const submitHandler = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!formIsValid) { return; }\r\n\r\n        const restaurantIsOpen = isOpen(restaurant.workHours);\r\n\r\n        if (!restaurantIsOpen) {\r\n            dispatch(notificationActions.show({ type: 'error', text: `Unable to checkout. Restaurant working hours: ${restaurant.workHours.join('-')}` }))\r\n            return;\r\n        }\r\n\r\n        const hasCity = restaurant.cities.some(x => x.name.toLocaleLowerCase() === cityValue.toLocaleLowerCase());\r\n\r\n        if (!hasCity) {\r\n            const citiesString = restaurant.cities.map(x => x.name).join(', ');\r\n            dispatch(notificationActions.show({ type: 'error', text: `Unable to checkout. Restaurant delivers in these cities: ${citiesString}.` }));\r\n            return;\r\n        }\r\n\r\n        const processResponse = () => {\r\n            nameRef.current = null;\r\n            addressRef.current = null;\r\n            cityRef.current = null;\r\n            phoneRef.current = null;\r\n            dispatch(cartActions.clearCartOrder({ restaurantId: restaurant._id }));\r\n            dispatch(notificationActions.show({ type: 'success', text: 'Successful order!'}));\r\n            setTimeout(() => {\r\n                dispatch(notificationActions.close());\r\n            }, 3000);\r\n        }\r\n\r\n        const orderData = {\r\n            address: addressValue,\r\n            city: cityValue,\r\n            name: nameValue,\r\n            phone: phoneValue,\r\n            recipes: cartRecipes.map(x => {\r\n                return { recipe: x.recipe._id, quantity: x.quantity }\r\n            }),\r\n            restaurant: restaurant._id\r\n        }\r\n\r\n        sendRequest(orderOptions.add(orderData), processResponse);\r\n    }\r\n\r\n\r\n    return (\r\n        <form onSubmit={submitHandler} className={classes.form}>\r\n            <h2 className={classes['form-title']}>Checkout</h2>\r\n            <div className={classes.col}>\r\n                <input\r\n                    className={addressHasError ? classes['input-invalid'] : ''}\r\n                    placeholder=\" \"\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    id=\"address\"\r\n                    disabled={isLoading}\r\n                    value={addressValue}\r\n                    onChange={addressChangeHandler}\r\n                    onBlur={addressBlurHandler}\r\n                />\r\n                <span className={classes.placeholder}>Address</span>\r\n                {addressHasError && <p className={classes['input-notification']}>Address must be at least 6 characters long!</p>}\r\n            </div>\r\n            <div className={classes.col}>\r\n                <input\r\n                    className={cityHasError ? classes['input-invalid'] : ''}\r\n                    placeholder=\" \"\r\n                    type=\"text\"\r\n                    name=\"city\"\r\n                    id=\"city\"\r\n                    disabled={isLoading}\r\n                    value={cityValue}\r\n                    onChange={cityChangeHandler}\r\n                    onBlur={cityBlurHandler}\r\n                />\r\n                <span className={classes.placeholder}>City</span>\r\n                {cityHasError && <p className={classes['input-notification']}>City must be at least 4 characters long!</p>}\r\n            </div>\r\n            <div className={classes.col}>\r\n                <input\r\n                    className={nameHasError ? classes['input-invalid'] : ''}\r\n                    placeholder=\" \"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    id=\"name\"\r\n                    disabled={isLoading}\r\n                    value={nameValue}\r\n                    onChange={nameChangeHandler}\r\n                    onBlur={nameBlurHandler}\r\n                />\r\n                <span className={classes.placeholder}>First and last name</span>\r\n                {nameHasError && <p className={classes['input-notification']}>Names must be at least 6 characters long!</p>}\r\n            </div>\r\n            <div className={classes.col}>\r\n                <input\r\n                    className={phoneHasError ? classes['input-invalid'] : ''}\r\n                    placeholder=\" \"\r\n                    type=\"tel\"\r\n                    name=\"phone\"\r\n                    id=\"phone\"\r\n                    disabled={isLoading}\r\n                    value={phoneValue}\r\n                    onChange={phoneChangeHandler}\r\n                    onBlur={phoneBlurHandler}\r\n                />\r\n                <span className={classes.placeholder}>Phone number</span>\r\n                {phoneHasError && <p className={classes['input-notification']}>Please enter a valid phone number!</p>}\r\n            </div>\r\n            <button\r\n                className={`main-btn ${classes['main-btn']}`}\r\n                disabled={!formIsValid || isLoading}\r\n            >\r\n                Order\r\n                {isLoading && <span className={classes['spinner-container']}><Spinner size=\"small\" /></span>}\r\n            </button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default CheckoutForm;","import { useAppDispatch } from '../../../hooks/reduxHooks';\r\nimport { cartActions } from '../../../store/cart';\r\nimport IRecipe from '../../../interfaces/IRecipe';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nimport classes from './ShoppingCartListItem.module.css';\r\n\r\ntype ShoppingCartListItemProps = JSX.IntrinsicElements['li'] & {\r\n    recipe: IRecipe;\r\n    quantity: number;\r\n    restaurantId: string;\r\n}\r\n\r\nconst ShoppingCartListItem: React.FC<ShoppingCartListItemProps> = ({ recipe, quantity, restaurantId }) => {\r\n    const dispatch = useAppDispatch();\r\n    const addToCartClickHandler = () => {\r\n        dispatch(cartActions.addToCart({ restaurantId, recipe }));\r\n    }\r\n\r\n    const removeFromCartClickHandler = () => {\r\n        dispatch(cartActions.removeFromCart({ restaurantId, recipe }));\r\n    }\r\n    return (\r\n        <li className={classes['cart-item']}>\r\n            <div className={classes['cart-item-text']}>{recipe.name} ({recipe.weight}g) <span>x {quantity}</span></div>\r\n            <div className={classes['cart-item-controls']}>\r\n                <div className={classes['cart-item-icons']}>\r\n                    <FontAwesomeIcon className={classes['icon--red']} icon={['fas', 'minus']} onClick={removeFromCartClickHandler} />\r\n                    <span>${recipe.price}</span>\r\n                    <FontAwesomeIcon className={classes['icon--green']} icon={['fas', 'plus']} onClick={addToCartClickHandler} />\r\n                    <span>${(recipe.price * quantity).toFixed(2)}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default ShoppingCartListItem","import { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport usePreventScrolling from '../../../hooks/usePreventScrolling';\r\nimport { modalActions } from '../../../store/modal';\r\nimport { notificationActions } from '../../../store/notification';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Backdrop } from '../../UI/Modal/Modal';\r\nimport CheckoutForm from '../CheckoutForm/CheckoutForm';\r\nimport ShoppingCartListItem from '../ShoppingCartListItem/ShoppingCartListItem';\r\n\r\n\r\nimport classes from './ShoppingCart.module.css';\r\n\r\nconst ShoppingCart: React.FC = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const { restaurants } = useAppSelector(state => state.cart);\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const dispatch = useAppDispatch();\r\n    const notificationState = useAppSelector(state => state.notification);\r\n    const cartRecipes = restaurants.find(x => x.restaurantId === restaurant._id)?.recipes;\r\n    const totalPrice = Number(cartRecipes?.reduce((acc, curr) => acc += curr.quantity * curr.recipe.price, 0).toFixed(2));\r\n    const totalQuantity = cartRecipes?.reduce((acc, curr) => acc += curr.quantity, 0);\r\n    usePreventScrolling(isOpen);\r\n\r\n    const headerClickHandler = () => {\r\n        setIsOpen(oldState => {\r\n            dispatch(modalActions.close());\r\n            return !oldState\r\n        });\r\n    }\r\n\r\n    const backDropClickHandler = () => {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (notificationState.type === 'error') {\r\n                dispatch(notificationActions.close());\r\n            }\r\n        }\r\n    }, [dispatch, notificationState.type])\r\n\r\n    return (\r\n        <>\r\n            {isOpen && ReactDOM.createPortal(\r\n                <div onClick={backDropClickHandler}>\r\n                    <Backdrop />\r\n                </div>,\r\n                document.getElementById('backdrop-root')!\r\n            )}\r\n            <section className={classes.cart}>\r\n                <article onClick={headerClickHandler} className={classes['cart-header']}>\r\n                    <article className={classes['cart-header-img-wrapper']}>\r\n                        <FontAwesomeIcon className={classes['cart-header-img-wrapper-icon']} icon={['fas', 'shopping-cart']} />\r\n                        <div className={classes['cart-header-img-quantity']}>{totalQuantity}</div>\r\n                    </article>\r\n                    <div className={classes['cart-header-text']}>\r\n                        <p >Cart(<span>${totalPrice}</span>)</p>\r\n                        {!isOpen && <FontAwesomeIcon icon={['fas', 'chevron-up']} />}\r\n                        {isOpen && <FontAwesomeIcon icon={['fas', 'chevron-down']} />}\r\n                    </div>\r\n                </article>\r\n                {isOpen && <section className={classes['cart-content']}>\r\n                    <article className={classes['cart-content-recipes']}>\r\n                        <ul className={classes['cart-content-recipes-list']}>\r\n                            {cartRecipes?.map(x => (\r\n                                <ShoppingCartListItem\r\n                                    key={x.recipe._id}\r\n                                    recipe={x.recipe}\r\n                                    quantity={x.quantity}\r\n                                    restaurantId={restaurant._id}\r\n                                />\r\n                            ))}\r\n                        </ul>\r\n                        <article className={classes['cart-content-summary']}>\r\n                            <p>\r\n                                <span>Order:</span>\r\n                                <span>${totalPrice}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>Delivery:</span>\r\n                                <span>{totalPrice > 10 ? 'Free' : '$3.99'}</span>\r\n                            </p>\r\n                            <p>\r\n                                <span>Total:</span>\r\n                                <span>${totalPrice > 10 ? totalPrice : (totalPrice + 3.99).toFixed(2)}</span>\r\n                            </p>\r\n                        </article>\r\n                    </article>\r\n                    <article className={classes['cart-content-checkout']}>\r\n                        <CheckoutForm cartRecipes={cartRecipes!} />\r\n                    </article>\r\n                </section>}\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ShoppingCart;","import { Redirect } from 'react-router';\r\n\r\nimport { useAppSelector } from '../hooks/reduxHooks';\r\nimport IRestaurant from '../interfaces/IRestaurant';\r\n\r\nimport Spinner from '../components/UI/Spinner/Spinner';\r\n\r\ntype IsOwnerProps = {\r\n    children: JSX.Element;\r\n    restaurant: IRestaurant;\r\n}\r\n\r\nconst IsOwner = ({ children, restaurant }: IsOwnerProps) => {\r\n    const user = useAppSelector(state => state.auth);\r\n    const { isInitializing } = useAppSelector(state => state.app);\r\n\r\n    if (isInitializing) {\r\n        return <Spinner />\r\n    } else if (!isInitializing && restaurant.owner === user._id) {\r\n        return children;\r\n    } else {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n};\r\n\r\nexport default IsOwner;","import { useCallback, useEffect } from \"react\";\r\nimport { Route, Switch, useParams } from \"react-router\";\r\n\r\nimport { useAppDispatch, useAppSelector } from \"../../hooks/reduxHooks\";\r\nimport useHttp from \"../../hooks/useHttp\";\r\nimport { restaurantActions } from \"../../store/restaurant\";\r\nimport IRestaurant from \"../../interfaces/IRestaurant\";\r\nimport restaurantOptions from \"../../utils/restaurantOptions\";\r\n\r\nimport CreateRestaurant from \"../../components/restaurant/CreateRestaurant/CreateRestaurant\";\r\nimport RestaurantCategories from \"../../components/restaurant/RestaurantCategories/RestaurantCategories\";\r\nimport RestaurantDashboard from \"../../components/restaurant/RestaurantDashboard/RestaurantDashboard\";\r\nimport RestaurantHeader from \"../../components/restaurant/RestaurantHeader/RestaurantHeader\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport ShoppingCart from \"../../components/shoppingCart/ShoppingCart/ShoppingCart\";\r\nimport IsOwner from \"../../guards/IsOwner\";\r\n\r\n\r\nconst RestaurantDetails: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const restaurant = useAppSelector(state => state.restaurant);\r\n    const { isLoading, sendRequest } = useHttp();\r\n    const { id } = useParams<{ id: string }>();\r\n    const user = useAppSelector(state => state.auth);\r\n    const { restaurants } = useAppSelector(state => state.cart);\r\n    const restaurantIsInCart = restaurants.find(x => x.restaurantId === restaurant._id);\r\n\r\n    const processResponse = useCallback((res: IRestaurant) => {\r\n        dispatch(restaurantActions.setRestaurant(res));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        sendRequest(restaurantOptions.getById(id), processResponse);\r\n        return () => {\r\n            dispatch(restaurantActions.clearRestaurant());\r\n        };\r\n    }, [id, sendRequest, processResponse, dispatch]);\r\n    return (\r\n        <>\r\n            {isLoading && <Spinner />}\r\n            {restaurant._id && !isLoading && <RestaurantHeader user={user} />}\r\n            <Switch>\r\n                <Route path=\"/restaurant/:id/dashboard\">\r\n                    {!isLoading && restaurant._id &&\r\n                        <IsOwner restaurant={restaurant} >\r\n                            <RestaurantDashboard />\r\n                        </IsOwner>}\r\n                </Route>\r\n                <Route path=\"/restaurant/:id/edit\">\r\n                    {restaurant._id && restaurant._id &&\r\n                        <IsOwner restaurant={restaurant} >\r\n                            <CreateRestaurant edit={true} />\r\n                        </IsOwner>}\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    {restaurant._id &&\r\n                        !isLoading &&\r\n                        <RestaurantCategories />}\r\n                    {restaurant._id &&\r\n                        !isLoading &&\r\n                        restaurantIsInCart &&\r\n                        restaurantIsInCart.recipes.length > 0 &&\r\n                        <ShoppingCart />}\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default RestaurantDetails;","import { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport useHttp from \"../../hooks/useHttp\";\r\nimport IRestaurant from \"../../interfaces/IRestaurant\";\r\nimport restaurantOptions from \"../../utils/restaurantOptions\";\r\nimport { extractQueryObject, constructNewQuery } from '../../utils/queryHelper';\r\n\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport RestaurantList from \"../../components/restaurant/RestaurantList/RestaurantList\";\r\nimport Paginator from \"../../components/UI/Paginator/Paginator\";\r\n\r\nconst City: React.FC = () => {\r\n    const history = useHistory();\r\n    const [restaurants, setRestaurants] = useState<IRestaurant[]>([]);\r\n    const [page, setPage] = useState(1);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const { cityName } = useParams<{ cityName: string }>();\r\n    const { sendRequest, isLoading } = useHttp();\r\n\r\n    useEffect(() => {\r\n        const query = extractQueryObject(history.location.search);\r\n        setPage(Number(query.page) || 1);\r\n        sendRequest(\r\n            restaurantOptions.getByCity(cityName, constructNewQuery(query)),\r\n            (res: { restaurants: IRestaurant[], count: number }) => {\r\n                setRestaurants(res.restaurants);\r\n                setTotalCount(res.count);\r\n            }\r\n        );\r\n    }, [sendRequest, cityName, history.location.search]);\r\n\r\n    return (\r\n        <section className={'container'}>\r\n            {isLoading && <Spinner />}\r\n            {!isLoading && restaurants.length > 0 && <RestaurantList restaurants={restaurants} />}\r\n            {!isLoading && totalCount > 16 && <Paginator shownCount={16} totalCount={totalCount} page={page} isLoading={isLoading} />}\r\n            {!isLoading && restaurants.length === 0 && <h2>No restaurants yet!</h2>}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default City;","import { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport useHttp from \"../../hooks/useHttp\";\r\nimport IRestaurant from \"../../interfaces/IRestaurant\";\r\nimport restaurantOptions from \"../../utils/restaurantOptions\";\r\nimport { constructNewQuery, extractQueryObject } from \"../../utils/queryHelper\";\r\n\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport RestaurantList from \"../../components/restaurant/RestaurantList/RestaurantList\";\r\nimport Paginator from \"../../components/UI/Paginator/Paginator\";\r\n\r\nconst MainTheme: React.FC = () => {\r\n    const history = useHistory();\r\n    const [restaurants, setRestaurants] = useState<IRestaurant[]>([]);\r\n    const [page, setPage] = useState(1);\r\n    const [totalCount, setTotalCount] = useState(0);\r\n    const { mainTheme } = useParams<{ mainTheme: string }>();\r\n    const { sendRequest, isLoading } = useHttp();\r\n\r\n    useEffect(() => {\r\n        const query = extractQueryObject(history.location.search);\r\n        setPage(Number(query.page) || 1);\r\n        sendRequest(\r\n            restaurantOptions.getByTheme(mainTheme, constructNewQuery(query)),\r\n            (res: { restaurants: IRestaurant[], count: number }) => {\r\n                setRestaurants(res.restaurants);\r\n                setTotalCount(res.count);\r\n            }\r\n        );\r\n    }, [sendRequest, mainTheme, history.location.search]);\r\n\r\n    return (\r\n        <section className={'container'}>\r\n            {isLoading && <Spinner />}\r\n            {!isLoading && restaurants.length > 0 && <RestaurantList restaurants={restaurants} />}\r\n            {!isLoading && totalCount > 16 && <Paginator shownCount={16} totalCount={totalCount} page={page} isLoading={isLoading} />}\r\n            {!isLoading && restaurants.length === 0 && <h2>No restaurants yet!</h2>}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MainTheme;","import ReactDOM from 'react-dom';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/reduxHooks';\r\nimport { notificationActions } from '../../../store/notification';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\n\r\nimport classes from './Notification.module.css';\r\n\r\nconst Notification: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const notificationState = useAppSelector(state => state.notification);\r\n\r\n    const closeNotificationHandler = () => {\r\n        dispatch(notificationActions.close());\r\n    };\r\n\r\n    const textClasses = `${classes['notification-text']} ${notificationState.type === 'error' ? classes['notification-text--red'] : ''}`;\r\n    const greenIconClasses = `${classes.icon}`;\r\n    const redIconClasses = `${classes.icon} ${classes['icon--red']}`;\r\n    const closeIconClasses = `${classes.icon} ${classes['icon--red']} ${classes['icon--close']}`;\r\n\r\n    return (\r\n        <>\r\n            {ReactDOM.createPortal(\r\n                <div className={classes.notification}>\r\n                    {notificationState.type === 'success' ?\r\n                        <FontAwesomeIcon className={greenIconClasses} icon={['fas', 'check-circle']} /> :\r\n                        <FontAwesomeIcon className={redIconClasses} icon={['fas', 'exclamation-circle']} />}\r\n                    <p className={textClasses}>{notificationState.text}</p>\r\n                    <FontAwesomeIcon onClick={closeNotificationHandler} className={closeIconClasses} icon={['fas', 'times-circle']} />\r\n                </div>,\r\n                document.getElementById('notification')!\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Notification;","import { useParams, Redirect } from 'react-router';\r\n\r\nimport { useAppSelector } from '../hooks/reduxHooks';\r\n\r\nimport Spinner from '../components/UI/Spinner/Spinner';\r\n\r\nconst UserProfileGuard = ({ children }: { children: JSX.Element }) => {\r\n    const { id } = useParams<{ id: string }>();\r\n    const user = useAppSelector(state => state.auth);\r\n    const { isInitializing } = useAppSelector(state => state.app);\r\n\r\n    if (isInitializing) {\r\n        return <Spinner />\r\n    } else if (!isInitializing && id === user._id) {\r\n        return children;\r\n    } else {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n};\r\n\r\nexport default UserProfileGuard;","import { useEffect } from 'react';\nimport { Route, Switch } from 'react-router';\nimport './App.css';\n\nimport { useAppDispatch, useAppSelector } from './hooks/reduxHooks';\nimport { authActions } from './store/auth';\nimport { cartActions } from './store/cart';\nimport useHttp from './hooks/useHttp';\nimport loadFontAwesome from './utils/loadFontAwesome';\nimport IAuthState from './interfaces/IAuthState';\nimport { appActions } from './store/app';\n\nimport Layout from './components/layout/Layout/Layout';\nimport Home from './pages/Home/Home';\nimport UserProfile from './pages/UserProfile/UserProfile';\nimport RestaurantDetails from './pages/RestaurantDetails/RestaurantDetails';\nimport City from './pages/City/City';\nimport MainTheme from './pages/MainTheme/MainTheme';\nimport Notification from './components/UI/Notification/Notification';\nimport UserProfileGuard from './guards/UserProfileGuard';\nimport FavoriteRestaurants from './components/restaurant/FavoriteRestaurants/FavoriteRestaurants';\nimport userOptions from './utils/userOptions';\n\nloadFontAwesome();\n\nfunction App() {\n\tconst { sendRequest } = useHttp();\n\tconst dispatch = useAppDispatch();\n\tconst notificationState = useAppSelector(state => state.notification);\n\n\tuseEffect(() => {\n\t\tdispatch(authActions.autoLoadFavorites());\n\t\tdispatch(cartActions.autoLoadCart());\n\t\tsendRequest(userOptions.verify(), (res: IAuthState) => {\n\t\t\tdispatch(authActions.login(res));\n\t\t\tdispatch(appActions.initDone());\n\t\t});\n\t}, [dispatch, sendRequest]);\n\treturn (\n\t\t<Layout>\n\t\t\t{notificationState.text && <Notification />}\n\t\t\t<Switch>\n\t\t\t\t<Route path='/' exact>\n\t\t\t\t\t<Home />\n\t\t\t\t</Route>\n\t\t\t\t<Route path='/profile/:id'>\n\t\t\t\t\t<UserProfileGuard>\n\t\t\t\t\t\t<UserProfile />\n\t\t\t\t\t</UserProfileGuard>\n\t\t\t\t</Route>\n\t\t\t\t<Route path='/restaurant/:id'>\n\t\t\t\t\t<RestaurantDetails />\n\t\t\t\t</Route>\n\t\t\t\t<Route path='/city/:cityName'>\n\t\t\t\t\t<City />\n\t\t\t\t</Route>\n\t\t\t\t<Route path='/main-theme/:mainTheme'>\n\t\t\t\t\t<MainTheme />\n\t\t\t\t</Route>\n\t\t\t\t<Route path='/favorites'>\n\t\t\t\t\t<FavoriteRestaurants />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Layout>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\n\r\nimport auth from \"./auth\";\r\nimport modal from './modal';\r\nimport restaurant from \"./restaurant\";\r\nimport cart from \"./cart\";\r\nimport checkout from \"./checkout\";\r\nimport notification from \"./notification\";\r\nimport app from './app';\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth,\r\n        modal,\r\n        restaurant,\r\n        cart,\r\n        checkout,\r\n        notification,\r\n        app\r\n    }\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}